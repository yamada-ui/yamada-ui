import{d as oe,G as re,r as l,a as ae,h as F,m as se,O as ne,f as le,g as ie,j as z,s as K}from"./iframe-Cq3rcaMI.js";import{h as g}from"./hue-slider.style-Do57tiIo.js";import{s as A,u as ue}from"./index-C0wqwdp3.js";import{u as de}from"./index-CGtAgyPS.js";import{u as ce}from"./use-field-props-B0aPqHXg.js";import{r as q,c as m}from"./number-CcP_arM8.js";const be=oe({base:{root:{aspectRatio:"16 / 9",boxShadow:"inner",isolation:"isolate",maxW:"full",p:"calc({thumb-size} / 2)",rounded:"{root-rounded}",touchAction:"none",w:"full",_readOnly:{layerStyle:"readOnly"},_disabled:{layerStyle:"disabled"}},thumb:{...A.base?.thumb,...g.base?.thumb,boxSize:"{thumb-size}",left:"{--x, 0%}",position:"absolute",rounded:"{thumb-rounded}",top:"{--y, 0%}",transform:"translate(-50%, -50%)"},track:{boxSize:"full",cursor:{base:"pointer",_readOnly:"default",_disabled:"not-allowed"},position:"relative"}},props:{shape:{circle:{root:{...A.props?.shape.circle.root,"--root-rounded":"radii.l2"}},rounded:{root:{...A.props?.shape.rounded.root,"--root-rounded":"radii.l2"}},square:{root:{...A.props?.shape.square.root,"--root-rounded":"0"}}}},sizes:{xs:{root:{"--thumb-size":g.sizes?.xs.root["--thumb-size"]}},sm:{root:{"--thumb-size":g.sizes?.sm.root["--thumb-size"]}},md:{root:{"--thumb-size":g.sizes?.md.root["--thumb-size"]}},lg:{root:{"--thumb-size":g.sizes?.lg.root["--thumb-size"]}},xl:{root:{"--thumb-size":g.sizes?.xl.root["--thumb-size"]}}},defaultProps:{size:"md",shape:"circle"}});function me(t){return[m(t[0],0,360),m(t[1],0,1),m(t[2],0,1)]}const pe=(t={})=>{const{props:{id:i,ref:x,name:y,"aria-labelledby":P,"aria-valuetext":k,defaultValue:V=[0,0,1],disabled:p,getAriaValueText:f,readOnly:S,required:w,step:u=.01,value:N,onChange:G,onChangeEnd:H,onChangeStart:U,..._},ariaProps:T,dataProps:d,eventProps:j}=ce(t),{t:R}=re("saturationSlider"),[C,v]=de({defaultValue:V,value:N,onChange:G}),[r,o,a]=me(C),c=!(p||S),[fe,B]=ue({onEnd:(e,s,n)=>{if(!c)return;const b=E(s,n);H?.(b)},onMove:(e,s,n)=>{if(!c)return;const b=E(s,n);v(b)},onStart:(e,s,n)=>{if(!c)return;const b=E(s,n);U?.(C),v(b)}}),h=l.useCallback(([e,s,n])=>{c&&(s=m(s,0,1),n=m(n,0,1),v([e,s,n]))},[c,v]),E=l.useCallback(({x:e,y:s},{bottom:n,height:b,left:Y,width:Z})=>{const I={x:e-Y,y:n-s},M={x:I.x/Z,y:I.y/b},O={x:m(M.x,0,1),y:m(M.y,0,1)},ee=q(O.x,0,u),te=q(O.y,0,u);return[r,parseFloat(ee),parseFloat(te)]},[r,u]),D=l.useCallback(e=>{ae(e,{ArrowDown:()=>h([r,o,a-u]),ArrowLeft:()=>h([r,o-u,a]),ArrowRight:()=>h([r,o+u,a]),ArrowUp:()=>h([r,o,a+u])})},[r,h,o,u,a]),W=l.useCallback((e={})=>({...d,..._,...e,style:{..._.style,...e.style,"--x":`${Math.abs(o*100)}%`,"--y":`${Math.abs(100-a*100)}%`,backgroundColor:`hsl(${r}, 100%, 50%)`,backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, transparent)"},onBlur:F(e.onBlur,j.onBlur),onFocus:F(e.onFocus,j.onFocus)}),[d,j,r,_,o,a]),J=l.useCallback((e={})=>({...ne,...d,...T,id:i,type:"hidden",name:y,disabled:p,readOnly:S,required:w,value:[r,o,a].toString(),...e,ref:se(e.ref,x)}),[T,d,p,r,i,y,S,x,w,o,a]),Q=l.useCallback((e={})=>B({...d,...e}),[d,B]),X=l.useCallback((e={})=>({...d,...T,"aria-label":R("Saturation and brightness thumb"),"aria-roledescription":"2D slider","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o*100,"aria-valuetext":k??f?.(C)??R("Saturation {saturation}%, Brightness {brightness}%",{brightness:a*100,saturation:o*100}),role:"slider",tabIndex:c?0:-1,...e,"aria-labelledby":le(e["aria-labelledby"],P),onKeyDown:F(e.onKeyDown,D)}),[P,T,k,d,f,c,D,o,R,a,C]);return{setValue:v,value:C,getInputProps:J,getRootProps:W,getThumbProps:X,getTrackProps:Q,onChange:h}},{ComponentContext:he,useComponentContext:$,withContext:L,withProvider:ge}=ie("saturation-slider",be),we=ge(({children:t,inputProps:i,thumbProps:x,trackProps:y,...P})=>{const{getInputProps:k,getRootProps:V,getThumbProps:p,getTrackProps:f}=pe(P),S=l.useMemo(()=>t||z.jsx(xe,{...y,children:z.jsx(ye,{...x})}),[t,x,y]),w=l.useMemo(()=>({getThumbProps:p,getTrackProps:f}),[p,f]);return z.jsx(he,{value:w,children:z.jsxs(K.div,{...V(),children:[z.jsx(K.input,{...k(i)}),S]})})},"root")(),xe=L("div","track")(void 0,t=>{const{getTrackProps:i}=$();return i(t)}),ye=L("div","thumb")(void 0,t=>{const{getThumbProps:i}=$();return i(t)});export{we as S,xe as a,ye as b};
