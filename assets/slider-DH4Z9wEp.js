import{d as St,au as Ct,a8 as Q,r as l,aq as wt,h as dt,m as mt,A as yt,i as it,a as Pt,P as Mt,b as q,f as Et,N as pt,g as _t,j as p,s as Z,J as E}from"./iframe-COpE3uSe.js";import{u as jt}from"./index-rIgF0o0K.js";import{u as Rt}from"./index-CmrZ2qa-.js";import{i as At,g as $,b as X}from"./event-CGdgg0hP.js";import{u as It}from"./use-field-props-qOu5Tg87.js";import{v as Y,r as lt,p as Tt,c as ct}from"./number-CcP_arM8.js";const Vt=St({base:{mark:{"&[data-indicator]":{_before:{bg:"{indicator-fill}",boxSize:"{track-size}",position:"absolute",rounded:"{indicator-rounded}"},_between:{"--indicator-fill":"colorScheme.contrast"}},color:"fg.muted",fontSize:"xs",pointerEvents:"none",position:"absolute",textAlign:"center",whiteSpace:"nowrap",zIndex:1},range:{bg:"{range-fill}",position:"absolute",rounded:"{track-rounded}"},root:{"--indicator-rounded":"radii.full","--track-rounded":"radii.full",alignItems:"center",display:"inline-flex",isolation:"isolate",position:"relative",touchAction:"none",_readOnly:{layerStyle:"readOnly"},_disabled:{layerStyle:"disabled"}},thumb:{alignItems:"center",bg:"{thumb-fill}",borderColor:"{thumb-stroke}",borderWidth:"2px",boxSize:"{thumb-size}",color:"{thumb-stroke}",display:"flex",justifyContent:"center",position:"absolute",rounded:"{thumb-rounded}",zIndex:2},track:{bg:"{track-fill}",cursor:{base:"pointer",_readOnly:"default",_disabled:"not-allowed"},flex:"1",position:"relative",rounded:"{track-rounded}"}},props:{orientation:{horizontal:{mark:{left:"{mark-position}",pt:"calc({track-size} + {spaces.2})",top:"0",translate:"-50% 0",_before:{left:"50%",top:"0",translate:"-50% 0"}},range:{h:"full",left:"{range-start}",top:"50%",translate:"0 -50%",w:"calc({range-end} - {range-start} + ({track-size} / 2))",_range:{left:"calc({range-start} - ({track-size} / 2))",w:"calc({range-end} - {range-start} + {track-size})"}},root:{flexDirection:"row",minW:"{thumb-size}",w:"full"},thumb:{top:"50%",translate:"-50% -50%",_end:{left:"{range-end}"},_start:{left:"{range-start}"}},track:{h:"{track-size}"}},vertical:{mark:{bottom:"{mark-position}",left:"0",lineHeight:"2",ps:"calc({track-size} + {spaces.3})",translate:"0 50%",_before:{left:"0",top:"50%",translate:"0 -50%"}},range:{bottom:"{range-start}",h:"calc({range-end} - {range-start} + ({track-size} / 2))",left:"50%",translate:"-50% 0",w:"full",_range:{bottom:"calc({range-start} - ({track-size} / 2))",h:"calc({range-end} - {range-start} + {track-size})"}},root:{flexDirection:"column",h:"full",minH:"{thumb-size}"},thumb:{left:"50%",translate:"-50% 50%",_end:{bottom:"{range-end}"},_start:{bottom:"{range-start}"}},track:{w:"{track-size}"}}},shape:{circle:{root:{"--thumb-rounded":"radii.full"}},rounded:{root:{"--thumb-rounded":"radii.l2"}},square:{root:{"--thumb-rounded":"0"}}}},variants:{outline:{root:{"--indicator-fill":"colorScheme.solid","--range-fill":"colorScheme.solid","--thumb-fill":"colors.bg","--thumb-stroke":"colorScheme.solid","--track-fill":"colors.bg.muted"}},solid:{root:{"--indicator-fill":"colorScheme.solid","--range-fill":"colorScheme.solid","--thumb-fill":"colorScheme.solid","--thumb-stroke":"colorScheme.solid","--track-fill":"colors.bg.muted"}}},sizes:{sm:{root:{"--thumb-size":"sizes.4","--track-size":"sizes.1.5"}},md:{root:{"--thumb-size":"sizes.5","--track-size":"sizes.2"}},lg:{root:{"--thumb-size":"sizes.6","--track-size":"sizes.2.5"}}},defaultProps:{size:"md",variant:"outline",orientation:"horizontal",shape:"circle"}}),Dt=({threshold:o=3,...n}={})=>{const{getWindow:d}=Ct(),h=Q(n.onStart),z=Q(n.onMove),k=Q(n.onEnd),b=l.useRef(null),x=l.useRef([]),g=l.useRef(null),S=l.useCallback(()=>{x.current.forEach(a=>a()),b.current=null,x.current=[]},[]),i=l.useCallback(a=>o===0||!b.current?!0:Math.sqrt(Math.pow(a.x-b.current.x,2)+Math.pow(a.y-b.current.y,2))>=o,[o]);wt(()=>{S()});const m=l.useCallback((a={})=>({...a,ref:mt(g,a.ref),onPointerDown:dt(a.onPointerDown,v=>{const _=v.nativeEvent.view??d();if(!_||At(v.nativeEvent)||!g.current)return;v.preventDefault();const j=$(v.nativeEvent),V=g.current.getBoundingClientRect();h(v.nativeEvent,j,V),b.current=j,x.current.push(X(_,"pointermove",C=>{if(!g.current)return;const w=$(C),R=g.current.getBoundingClientRect();i(w)&&(b.current=w,z(C,w,R))})),x.current.push(X(_,"pointerup",C=>{if(!g.current)return;S();const w=$(C),R=g.current.getBoundingClientRect();k(C,w,R)})),x.current.push(X(_,"pointercancel",C=>{if(!g.current)return;S();const w=$(C),R=g.current.getBoundingClientRect();k(C,w,R)}))})}),[S,d,k,z,h,i]);return[g,m]},Ft=(o={})=>{const{props:{id:n,ref:d,name:h,"aria-labelledby":z,"aria-valuetext":k,betweenThumbs:b=0,defaultValue:x=0,disabled:g,getAriaValueText:S,max:i=100,min:m=0,orientation:a="horizontal",readOnly:v,required:_,step:j=1,value:V,onChange:C,onChangeEnd:w,onChangeStart:R,...tt},ariaProps:U,dataProps:y,eventProps:et}=It(o),[r,L]=Rt({defaultValue:x,value:V,onChange:C}),{t:rt}=yt("slider"),D=l.useRef(0),I=!(g||v),[$t,nt]=Dt({onEnd:(t,e,f)=>{if(!I)return;const s=G(e,f);if(c){const u=D.current===0,M=D.current===0?1:0,T=r[M];w?.(u?[s,T]:[T,s])}else w?.(s)},onMove:(t,e,f)=>{if(!I)return;const s=G(e,f);P(D.current,s)},onStart:(t,e,f)=>{if(!I)return;const s=G(e,f);if(c){const u=r.map(xt=>Math.abs(xt-s)),M=Math.min(...u),T=u.indexOf(M);D.current=T;const at=T===0,A=r[T===0?1:0];R?.(at?[s,A]:[A,s])}else D.current=0,R?.(r);P(D.current,s)}}),c=!pt(r),F=c?r.map(t=>Y(t,m,i)):Y(r,m,i),J=(i-m)/10,B=j||(i-m)/100;i<m&&console.warn("Do not assign a number less than 'min' to 'max'");const O=l.useCallback(t=>{const e=t===0,s=c?r[t===0?1:0]:r;return{max:c&&e?s-b:i,min:c?e?m:s+b:m}},[b,i,m,c,r]),G=l.useCallback(({x:t,y:e},{bottom:f,height:s,left:u,width:M})=>{const st=(a==="horizontal"?t-u:f-e)/(a==="horizontal"?M:s);let A=Tt(st,m,i);return A=parseFloat(lt(A,m,j)),A=ct(A,m,i),A},[a,m,i,j]),P=l.useCallback((t,e)=>{if(!I)return;const{max:f,min:s}=O(t);e=parseFloat(lt(e,s,B)),e=ct(e,s,f),L(u=>{if(it(u)){const M=[...u];return M[t]=e,M}else return e})},[O,I,B,L]),H=l.useCallback((t,e=B)=>c?P(t,r[t]+e):P(t,r+e),[B,c,P,r]),K=l.useCallback((t,e=B)=>c?P(t,r[t]-e):P(t,r-e),[B,c,P,r]),ot=l.useCallback(t=>e=>{const{max:f,min:s}=O(t);Pt(e,{ArrowDown:()=>K(t),ArrowLeft:()=>K(t),ArrowRight:()=>H(t),ArrowUp:()=>H(t),End:()=>P(t,f),Home:()=>P(t,s),PageDown:()=>K(t,J),PageUp:()=>H(t,J)})},[O,P,K,H,J]),gt=l.useCallback(t=>{const e={...y,"data-orientation":a,...et,...tt,...t};return e.style??={},it(F)?(e.style["--range-start"]=`${Math.abs(F[0])}%`,e.style["--range-end"]=`${Math.abs(F[1])}%`):(e.style["--range-start"]="0%",e.style["--range-end"]=`${Math.abs(F)}%`),e},[y,et,a,F,tt]),ft=l.useCallback(({index:t=0,...e}={})=>({...Mt,...y,...U,id:n,type:"hidden",name:h,disabled:g,readOnly:v,required:_,value:c?r[t]:r,...e,ref:t===0?mt(e.ref,d):e.ref}),[y,U,n,h,g,v,_,c,r,d]),ht=l.useCallback(t=>nt({...y,"data-orientation":a,...t}),[y,nt,a]),kt=l.useCallback(t=>({...y,"data-orientation":a,"data-range":q(c),...t}),[y,a,c]),vt=l.useCallback(({style:t,value:e,...f})=>{const s=c?r[0]<e&&e<r[1]:e<r,u=Y(e,m,i);return{...y,"aria-hidden":!0,"data-between":q(s),"data-orientation":a,role:"presentation",...f,style:{...t,"--mark-position":`${u}%`}}},[y,i,m,a,c,r]),zt=l.useCallback(({index:t=0,...e}={})=>{const{max:f,min:s}=O(t),u={...y,...U,"aria-label":rt("Slider thumb"),"aria-orientation":a,"aria-valuemax":f,"aria-valuemin":s,role:"slider",tabIndex:I?0:-1,...e,"aria-labelledby":Et(e["aria-labelledby"],z),onKeyDown:dt(e.onKeyDown,ot(t))};if(c){const M=r[t];u["data-start"]=q(t===0),u["data-end"]=q(t===1),u["aria-valuenow"]=M,u["aria-valuetext"]=k??S?.(M,t)??M.toString()}else u["data-end"]=q(t===0),u["aria-valuenow"]=r,u["aria-valuetext"]=k??S?.(r,t)??r.toString();return u},[rt,z,U,k,y,S,O,I,ot,a,c,r]);return{percent:F,range:c,setValue:L,stepDown:K,stepUp:H,value:r,getInputProps:ft,getMarkProps:vt,getRangeProps:kt,getRootProps:gt,getThumbProps:zt,getTrackProps:ht,onChange:P}},{ComponentContext:Bt,useComponentContext:N,withContext:W,withProvider:Ot}=_t("slider",Vt),Yt=Ot(({children:o,marks:n,orientation:d,inputProps:h,marksProps:z,rangeProps:k,thumbProps:b,trackProps:x,...g})=>{const S=jt(d),{range:i,getInputProps:m,getMarkProps:a,getRangeProps:v,getRootProps:_,getThumbProps:j,getTrackProps:V}=Ft({orientation:S,...g}),C=l.useMemo(()=>o||p.jsxs(p.Fragment,{children:[p.jsxs(Ht,{...x,children:[p.jsx(Kt,{...k}),i?p.jsx(Ut,{...b}):p.jsx(bt,{...b})]}),n?p.jsx(Nt,{marks:n,...z}):null]}),[o,n,z,i,k,b,x]),w=l.useMemo(()=>({range:i,getInputProps:m,getMarkProps:a,getRangeProps:v,getThumbProps:j,getTrackProps:V}),[i,m,a,v,j,V]);return p.jsx(Bt,{value:w,children:p.jsxs(Z.div,{..._(),children:[p.jsx(qt,{...h}),C]})})},"root",{transferProps:["orientation"]})(void 0,({indicatorFill:o,indicatorRounded:n,rangeFill:d,thumbFill:h,thumbRounded:z,thumbSize:k,thumbStroke:b,trackFill:x,trackRounded:g,trackSize:S,...i})=>({"--indicator-fill":E(o,"colors"),"--indicator-rounded":E(n,"radii"),"--range-fill":E(d,"colors"),"--thumb-fill":E(h,"colors"),"--thumb-rounded":E(z,"radii"),"--thumb-size":E(k,"sizes"),"--thumb-stroke":E(b,"colors"),"--track-fill":E(x,"colors"),"--track-rounded":E(g,"radii"),"--track-size":E(S,"sizes"),...i})),qt=()=>{const{range:o,getInputProps:n}=N();return o?Array.from({length:2}).map((d,h)=>p.jsx(Z.input,{...n({index:h})},h)):p.jsx(Z.input,{...n()})},Ht=W("div","track")(void 0,o=>{const{getTrackProps:n}=N();return n(o)}),Kt=W("div","range")(void 0,o=>{const{getRangeProps:n}=N();return n(o)}),ut=W("div","mark")(void 0,({indicator:o=!0,...n})=>{const{getMarkProps:d}=N();return d({"data-indicator":q(o),...n})}),Nt=({marks:o,...n})=>p.jsx(p.Fragment,{children:o.map((d,h)=>{if(pt(d))return p.jsx(ut,{value:d,...n},h);{const{indicator:z,label:k,value:b}=d;return p.jsx(ut,{indicator:z,value:b,children:k},h)}})}),bt=W("div","thumb")(void 0,o=>{const{getThumbProps:n}=N();return n(o)}),Ut=o=>p.jsx(p.Fragment,{children:Array.from({length:2}).map((n,d)=>p.jsx(bt,{index:d,...o},d))});export{Yt as S,Ht as a,bt as b,Kt as c,Nt as d,Vt as s};
