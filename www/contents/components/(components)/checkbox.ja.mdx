---
title: Checkbox
description: "`Checkbox`は、ユーザーが複数の選択肢の中から複数の値を選択するために使用されるコンポーネントです。"
storybook: components-checkbox--basic
source: components/checkbox
---

```tsx preview
<Checkbox>デスティニーアイランド</Checkbox>
```

## 使い方

:::code-group

```tsx [package]
import { Checkbox, CheckboxGroup } from "@yamada-ui/react"
```

```tsx [alias]
import { Checkbox, CheckboxGroup } from "@/components/ui"
```

```tsx [monorepo]
import { Checkbox, CheckboxGroup } from "@workspaces/ui"
```

:::

```tsx
<Checkbox />
```

```tsx
<CheckboxGroup.Root>
  <CheckboxGroup.Item />
</CheckboxGroup.Root>
```

### グループ化する

```tsx preview
<CheckboxGroup.Root defaultValue={["sora", "riku"]}>
  <CheckboxGroup.Item value="sora">ソラ</CheckboxGroup.Item>
  <CheckboxGroup.Item value="riku">リク</CheckboxGroup.Item>
  <CheckboxGroup.Item value="kairi">カイリ</CheckboxGroup.Item>
</CheckboxGroup.Root>
```

### itemsを使う

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "ソラ", value: "sora" },
    { label: "リク", value: "riku" },
    { label: "カイリ", value: "kairi" },
  ],
  [],
)

return <CheckboxGroup.Root items={items} />
```

### バリアントを変更する

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "Checked", value: "1" },
    { label: "No checked", value: "2" },
  ],
  [],
)

return (
  <VStack>
    <For each={["solid", "subtle", "surface", "outline"]}>
      {(variant) => (
        <CheckboxGroup.Root
          key={variant}
          variant={variant}
          defaultValue={["1"]}
          items={items}
        />
      )}
    </For>
  </VStack>
)
```

### サイズを変更する

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "Checked", value: "1" },
    { label: "No checked", value: "2" },
  ],
  [],
)

return (
  <VStack>
    <For each={["sm", "md", "lg"]}>
      {(size) => (
        <CheckboxGroup.Root
          key={size}
          size={size}
          defaultValue={["1"]}
          items={items}
        />
      )}
    </For>
  </VStack>
)
```

### デフォルト値を設定する

デフォルト値を設定する場合は、`defaultValue`に値を設定します。

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "ソラ", value: "sora" },
    { label: "リク", value: "riku" },
    { label: "カイリ", value: "kairi" },
  ],
  [],
)

return <CheckboxGroup.Root defaultValue={["sora"]} items={items} />
```

### デフォルトで選択済みにする

デフォルトで選択済みにする場合は、`defaultChecked`を`true`に設定します。

```tsx preview
<Checkbox defaultChecked>デスティニーアイランド</Checkbox>
```

### 中間状態にする

中間状態にする場合は、`indeterminate`を`true`に設定します。

```tsx preview functional client
const [id0, id1, id2] = useIds()
const [values, setValues] = useState([true, false, false])

const allChecked = values.every(Boolean)
const indeterminate = values.some(Boolean) && !allChecked

return (
  <VStack gap="sm">
    <Checkbox
      checked={allChecked}
      indeterminate={indeterminate}
      inputProps={{ "aria-controls": `${id0} ${id1} ${id2}` }}
      onChange={(ev) =>
        setValues([ev.target.checked, ev.target.checked, ev.target.checked])
      }
    >
      デスティニーアイランド
    </Checkbox>

    <VStack gap="sm" ms="md">
      <Checkbox
        id={id0}
        checked={values[0]}
        onChange={(ev) =>
          setValues([ev.target.checked, values[1]!, values[2]!])
        }
      >
        ソラ
      </Checkbox>
      <Checkbox
        id={id1}
        checked={values[1]}
        onChange={(ev) =>
          setValues([values[0]!, ev.target.checked, values[2]!])
        }
      >
        リク
      </Checkbox>
      <Checkbox
        id={id2}
        checked={values[2]}
        onChange={(ev) =>
          setValues([values[0]!, values[1]!, ev.target.checked])
        }
      >
        カイリ
      </Checkbox>
    </VStack>
  </VStack>
)
```

### 選択数を制限する

選択数を制限する場合は、`max`に数値を設定します。

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "ソラ", value: "sora" },
    { label: "リク", value: "riku" },
    { label: "カイリ", value: "kairi" },
  ],
  [],
)

return <CheckboxGroup.Root items={items} max={2} />
```

### 方向を変更する

方向を変更する場合は、`orientation`に`"horizontal"`または`"vertical"`を設定します。デフォルトは`"vertical"`です。

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "ソラ", value: "sora" },
    { label: "リク", value: "riku" },
    { label: "カイリ", value: "kairi" },
  ],
  [],
)

return (
  <VStack>
    <For each={["horizontal", "vertical"]}>
      {(orientation) => (
        <CheckboxGroup.Root
          key={orientation}
          orientation={orientation}
          items={items}
        />
      )}
    </For>
  </VStack>
)
```

### 形を変更する

形を変更する場合は、`shape`に`"rounded"`または`"square"`を設定します。デフォルトは`"rounded"`です。

```tsx preview
<CheckboxGroup.Root>
  <For each={["rounded", "square"]}>
    {(shape) => (
      <CheckboxGroup.Item key={shape} shape={shape} defaultChecked>
        {toTitleCase(shape)}
      </CheckboxGroup.Item>
    )}
  </For>
</CheckboxGroup.Root>
```

### 無効にする

無効にする場合は、`disabled`を`true`に設定します。

```tsx preview
<CheckboxGroup.Root>
  <For each={["solid", "subtle", "surface", "outline"]}>
    {(variant) => (
      <CheckboxGroup.Item key={variant} variant={variant} disabled>
        {toTitleCase(variant)}
      </CheckboxGroup.Item>
    )}
  </For>
</CheckboxGroup.Root>
```

### 読み取り専用にする

読み取り専用にする場合は、`readOnly`を`true`に設定します。

```tsx preview
<CheckboxGroup.Root>
  <For each={["solid", "subtle", "surface", "outline"]}>
    {(variant) => (
      <CheckboxGroup.Item
        key={variant}
        variant={variant}
        readOnly
        defaultChecked
      >
        {toTitleCase(variant)}
      </CheckboxGroup.Item>
    )}
  </For>
</CheckboxGroup.Root>
```

### 無効な入力にする

無効な入力にする場合は、`invalid`を`true`に設定します。

```tsx preview
<CheckboxGroup.Root>
  <For each={["solid", "subtle", "surface", "outline"]}>
    {(variant) => (
      <CheckboxGroup.Item key={variant} variant={variant} invalid>
        {toTitleCase(variant)}
      </CheckboxGroup.Item>
    )}
  </For>
</CheckboxGroup.Root>
```

### ボーダーの色を変更する

ボーダーの色を変更する場合は、`focusBorderColor`または`errorBorderColor`に値を設定します。

```tsx preview
<CheckboxGroup.Root>
  <CheckboxGroup.Item value="default">Default Border Color</CheckboxGroup.Item>
  <CheckboxGroup.Item focusBorderColor="green.500" value="custom">
    Custom Border Color
  </CheckboxGroup.Item>
  <CheckboxGroup.Item errorBorderColor="orange.500" invalid value="error">
    Custom Error Border Color
  </CheckboxGroup.Item>
</CheckboxGroup.Root>
```

### アイコンをカスタマイズする

アイコンをカスタマイズする場合は、`checkedIcon`に`ReactNode`を設定します。

```tsx preview functional
const items = useMemo<CheckboxGroup.Item[]>(
  () => [
    { label: "ソラ", value: "sora" },
    { label: "リク", value: "riku" },
    { label: "カイリ", value: "kairi", checkedIcon: <HeartIcon /> },
  ],
  [],
)

return <CheckboxGroup.Root checkedIcon={<KeyIcon />} items={items} />
```

### カスタムコンポーネントを使う

```tsx preview functional client
const { getInputProps, getLabelProps, getRootProps } = useCheckboxGroup({
  defaultValue: ["sora"],
  max: 2,
})

const CustomCheckbox = ({ children, ...rest }) => {
  return (
    <Box
      as="label"
      css={{
        "&:has(input:checked)": {
          bg: "colorScheme.solid",
          borderColor: "colorScheme.solid",
          color: "colorScheme.contrast",
        },
        "&:has(input:disabled)": {
          layerStyle: "disabled",
        },
        alignItems: "center",
        borderWidth: "1px",
        display: "flex",
        h: "10",
        px: "3",
        rounded: "l2",
      }}
      {...getLabelProps()}
    >
      <Box as="input" {...getInputProps(rest)} />
      {children}
    </Box>
  )
}

return (
  <HStack {...getRootProps()}>
    <CustomCheckbox value="sora">ソラ</CustomCheckbox>
    <CustomCheckbox value="riku">リク</CustomCheckbox>
    <CustomCheckbox value="kairi">カイリ</CustomCheckbox>
  </HStack>
)
```

### 制御する

```tsx preview functional client
const [checked, { toggle }] = useBoolean(false)

return (
  <Checkbox checked={checked} onChange={toggle}>
    ソラ
  </Checkbox>
)
```

## Props

<PropsTable name="checkbox" all omit={["CheckboxGroupRoot"]} />

## アクセシビリティ

`Checkbox`は、アクセシビリティに関して[WAI-ARIA - Checkbox Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/checkbox/)に従います。

`Field.Root`を使用しない場合は、`CheckboxGroup.Root`に`aria-label`または`aria-labelledby`を設定します。

```tsx
<CheckboxGroup.Root aria-label="キャラクター">
  <CheckboxGroup.Item value="sora">ソラ</CheckboxGroup.Item>
  <CheckboxGroup.Item value="riku">リク</CheckboxGroup.Item>
  <CheckboxGroup.Item value="kairi">カイリ</CheckboxGroup.Item>
</CheckboxGroup.Root>
```

```tsx
<VStack gap="sm">
  <Text as="h3" id="label">
    キャラクター
  </Text>

  <CheckboxGroup.Root aria-labelledby="label">
    <CheckboxGroup.Item value="sora">ソラ</CheckboxGroup.Item>
    <CheckboxGroup.Item value="riku">リク</CheckboxGroup.Item>
    <CheckboxGroup.Item value="kairi">カイリ</CheckboxGroup.Item>
  </CheckboxGroup.Root>
</VStack>
```

### キーボード操作

| キー    | 説明                                                           | 状態 |
| ------- | -------------------------------------------------------------- | ---- |
| `Tab`   | 無効ではないチェックボックスをフォーカスします。               | -    |
| `Space` | フォーカスされたチェックボックスのチェック状態を切り替えます。 | -    |

### ARIAロールと属性

| コンポーネント                   | ロールと属性       | 使い方                                                                                                                                                                                               |
| -------------------------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `CheckboxGroup.Root`             | `role="group"`     | グループであることを示します。                                                                                                                                                                       |
|                                  | `aria-labelledby`  | `CheckboxGroup.Root`が`Field.Root`内にあり、`Field.Root`に`label`または`Field.Label`が設定されている場合は、その`id`を設定します。                                                                   |
|                                  | `aria-describedby` | `CheckboxGroup.Root`が`Field.Root`内にあり、`Field.Root`に`errorMessage`または`helperMessage`、もしくは`Field.ErrorMessage`または`Field.HelperMessage`が設定されている場合は、その`id`を設定します。 |
| `Checkbox`, `CheckboxGroup.Item` | `aria-checked`     | チェックボックスがチェックされている場合は`"true"`を設定し、チェックされていない場合は`"false"`を設定し、`indeterminate`が設定されている場合は`"mixed"`を設定します。                                |
|                                  | `aria-describedby` | `Checkbox`が`Field.Root`内にあり、`Field.Root`に`errorMessage`または`helperMessage`、もしくは`Field.ErrorMessage`または`Field.HelperMessage`が設定されている場合は、その`id`を設定します。           |
|                                  | `aria-disabled`    | `readOnly`が設定されている場合、またはチェックボックスが未選択でグループの`max`に達した場合に`"true"`を設定します。                                                                                  |
|                                  | `aria-invalid`     | `invalid`が設定されている場合は`"true"`を設定します。                                                                                                                                                |
|                                  | `aria-required`    | `required`が設定されている場合は`"true"`を設定します。                                                                                                                                               |
