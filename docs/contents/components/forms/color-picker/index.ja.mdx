---
title: ColorPicker
description: "`ColorPicker`は、ユーザーが色を選択したり任意の色の値を入力するために使用されるコンポーネントです。"
package_name: "@yamada-ui/color-picker"
order: 28
is_tabs: true
with_description: true
tab: 使い方
---

## インポート

```ts
import { ColorPicker } from "@yamada-ui/react"
```

## 使い方

```tsx
<ColorPicker placeholder="#4387f4" />
```

:::note
透明度を選択させる場合は、`value`または`defaultValue`に`アルファ値`を設定するか、`format`に`hexa`, `rgba`, `hsla`に必要があります。
:::

### バリアントを変更する

```tsx
<VStack>
  <For each={["outline", "filled", "flushed", "unstyled"]}>
    {(variant, index) => (
      <ColorPicker key={index} variant={variant} placeholder={variant} />
    )}
  </For>
</VStack>
```

### サイズを変更する

```tsx
<VStack>
  <For
    each={[
      {
        placeholder: "extra small size",
        size: "xs",
      },
      {
        placeholder: "small size",
        size: "sm",
      },
      {
        placeholder: "medium size",
        size: "md",
      },
      {
        placeholder: "large size",
        size: "lg",
      },
    ]}
  >
    {({ placeholder, size }, index) => (
      <ColorPicker key={index} placeholder={placeholder} size={size} />
    )}
  </For>
</VStack>
```

セレクターのサイズを変更する場合は、`calendarSize`を設定します。

```tsx
<VStack>
  <For
    each={[
      {
        placeholder: "small size",
        colorSelectorSize: "sm",
      },
      {
        placeholder: "medium size",
        colorSelectorSize: "md",
      },
      {
        placeholder: "large size",
        colorSelectorSize: "lg",
      },
      {
        placeholder: "full size",
        colorSelectorSize: "full",
      },
    ]}
  >
    {({ placeholder, colorSelectorSize }, index) => (
      <ColorPicker
        key={index}
        placeholder={placeholder}
        colorSelectorSize={colorSelectorSize}
      />
    )}
  </For>
</VStack>
```

### デフォルトの値を設定する

デフォルトの値を設定する場合は、`defaultValue`に文字列を設定します。

```tsx
<ColorPicker defaultValue="#4387f4ff" />
```

### デフォルトの色を設定する

デフォルトの色を設定する場合は、`defaultColor`に文字列を設定します。

```tsx
<ColorPicker placeholder="#4387f4ff" defaultColor="#4387f4ff" />
```

### フォールバックの値を設定する

フォールバックを設定する場合は、`fallbackValue`に文字列を設定します。これは、入力された文字列で色の判定ができなかった場合に設定される値です。

```tsx
<ColorPicker defaultValue="#00000000" fallbackValue="#00000000" />
```

### フォーマットを設定する

フォーマットを設定する場合は、`format`に`hex`, `hexa`, `rgb`, `rgba`, `hsl`, `hsla`を設定します。

:::note
デフォルトでは、`value`または`defaultValue`の文字列でフォーマットを判定しています。
:::

```tsx
<ColorPicker defaultValue="hsla(240, 100%, 50%, 1)" format="hsla" />
```

### 入力された値を整形する

入力された値を整形する場合は、`formatInput`にコールバック関数を設定します。

```tsx
<ColorPicker
  format="hexa"
  placeholder="#4387F4FF"
  formatInput={(value) => value.toUpperCase()}
/>
```

### 候補を表示する

候補を表示する場合は、`swatches`に文字列の配列を設定します。

```tsx
<ColorPicker
  defaultValue="#2e2e2e"
  swatchesLabel="Saved Colors"
  swatches={[
    "#2e2e2e",
    "#868e96",
    "#fa5252",
    "#e64980",
    "#be4bdb",
    "#7950f2",
    "#4c6ef5",
    "#228be6",
    "#15aabf",
    "#12b886",
    "#40c057",
    "#82c91e",
    "#fab005",
    "#fd7e14",
  ]}
/>
```

### 候補を選択したら閉じるようにする

候補を選択したら閉じるようにするには、`closeOnSelectSwatch`を`true`に設定します。

```tsx
<ColorPicker
  defaultValue="#2e2e2e"
  swatchesLabel="Saved Colors"
  swatches={[
    "#2e2e2e",
    "#868e96",
    "#fa5252",
    "#e64980",
    "#be4bdb",
    "#7950f2",
    "#4c6ef5",
    "#228be6",
    "#15aabf",
    "#12b886",
    "#40c057",
    "#82c91e",
    "#fab005",
    "#fd7e14",
  ]}
  closeOnSelectSwatch
/>
```

### 入力を許可しない

入力を許可しない場合は、`allowInput`を`false`に設定します。

```tsx
<ColorPicker placeholder="#000000" allowInput={false} />
```

### 表示位置を変更する

表示位置を変更するには、`placement`に`top`や`left-start`などを設定します。デフォルトでは、`bottom`が設定されています。

```tsx
<ColorPicker placeholder="#000000" placement="bottom-end" />
```

### オフセットを変更する

要素の大きさやシチュエーションによっては、ツールチップの位置を変更したい場合があります。その場合は、`gutter`または`offset`で位置を調整します。

`gutter`は、単純な要素との差を設定でき、`offset`は、`[横軸, 縦軸]`を設定できます。

```tsx
<VStack>
  <ColorPicker placeholder="#000000" gutter={32} />
  <ColorPicker placeholder="#000000" offset={[16, 16]} />
</VStack>
```

### ボーダーのカラーを変更する

ボーダーのカラーを変更する場合は、`focusBorderColor`または`errorBorderColor`にカラーを設定します。

```tsx
<VStack>
  <ColorPicker focusBorderColor="green.500" placeholder="custom border color" />
  <ColorPicker
    invalid
    errorBorderColor="orange.500"
    placeholder="custom border color"
  />
</VStack>
```

### 無効化する

無効化する場合は、`disabled`を`true`に設定します。

```tsx
<VStack>
  <For each={["outline", "filled", "flushed"]}>
    {(variant, index) => (
      <ColorPicker
        disabled
        key={index}
        variant={variant}
        placeholder={variant}
      />
    )}
  </For>
</VStack>
```

### 読み取り専用にする

読み取り専用にする場合は、`readOnly`を`true`に設定します。

```tsx
<VStack>
  <For each={["outline", "filled", "flushed"]}>
    {(variant, index) => (
      <ColorPicker
        readOnly
        key={index}
        variant={variant}
        placeholder={variant}
      />
    )}
  </For>
</VStack>
```

### レイアウトをカスタマイズする

```tsx
<ColorPicker placeholder="#000000" withSwatch={false} />
```

```tsx
<ColorPicker placeholder="#000000" withEyeDropper={false} />
```

```tsx
<ColorPicker
  placeholder="#000000"
  withPicker={false}
  swatchesLabel="Saved Colors"
  swatches={[
    "#2e2e2e",
    "#868e96",
    "#fa5252",
    "#e64980",
    "#be4bdb",
    "#7950f2",
    "#4c6ef5",
    "#228be6",
    "#15aabf",
    "#12b886",
    "#40c057",
    "#82c91e",
    "#fab005",
    "#fd7e14",
  ]}
  closeOnSelectSwatch
/>
```

```tsx
<ColorPicker placeholder="#000000" withChannel={false} />
```

```tsx
<ColorPicker placeholder="#000000" withSwatch={false} />
```

```tsx
<ColorPicker placeholder="#000000" withColorSelectorEyeDropper />
```

```tsx
<ColorPicker placeholder="#000000" withResult />
```

### ドロップダウンに要素を追加する

ドロップダウンに要素を追加する場合は、`children`に要素を設定します。
`children`には、`value`と`onClose`のメソッドが提供されます。これを利用して、内部状態にアクセスすることができます。

```tsx
<VStack>
  <ColorPicker placeholder="#4387f4">
    <Button>Submit</Button>
  </ColorPicker>

  <ColorPicker placeholder="#4387f4">
    {({ value, onClose }) => <Button onClick={onClose}>Submit {value}</Button>}
  </ColorPicker>
</VStack>
```

### 制御する

```tsx functional=true
const [value, onChange] = useState<string>("#4387f4ff")

return <ColorPicker value={value} onChange={onChange} />
```

### `React Hook Form`を使う

```tsx functional=true
type Data = { colorPicker: string }

const defaultValues: Data = {
  colorPicker: "#4387f4ff",
}

const {
  control,
  handleSubmit,
  watch,
  formState: { errors },
} = useForm<Data>({ defaultValues })

const onSubmit: SubmitHandler<Data> = (data) => console.log("submit:", data)

console.log("watch:", watch())

return (
  <VStack as="form" onSubmit={handleSubmit(onSubmit)}>
    <FormControl
      invalid={!!errors.colorPicker}
      label="Pick color"
      errorMessage={errors.colorPicker ? errors.colorPicker.message : undefined}
    >
      <Controller
        name="colorPicker"
        control={control}
        render={({ field }) => <ColorPicker {...field} />}
      />
    </FormControl>

    <Button type="submit" alignSelf="flex-end">
      Submit
    </Button>
  </VStack>
)
```
