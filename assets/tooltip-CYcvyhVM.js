import{d as B,r as o,ap as L,aq as U,h as l,f as _,m as G,b as w,ar as A,g as H,j as u,_ as J,a5 as K,D as F,q as M}from"./iframe-COpE3uSe.js";import{u as I}from"./index-jMnWbNjz.js";import{u as N}from"./index-EOumB-jG.js";import{c as Q,d as V,g as X}from"./popover-DNVIrjJp.js";import{u as Y}from"./use-disclosure-DqRmIBlX.js";const Z=B({base:{content:{bg:"bg.panel",borderColor:"border.muted",borderWidth:"1px",boxShadow:"sm",fontSize:"sm",maxW:"xs",position:"relative",px:"sm",py:"xs",rounded:"l2",zIndex:"ginyu"}}}),$=(b={})=>{const[x,{closeDelay:m=0,closeOnClick:p=!0,closeOnEsc:P=!0,closeOnScroll:T,defaultOpen:h,disabled:f,open:v,openDelay:g=0,onClose:y,onOpen:k}]=Q(b,["open"]),s=o.useId(),i=o.useRef(null),c=o.useRef(void 0),d=o.useRef(void 0),{open:e,onClose:E,onOpen:O}=Y({defaultOpen:h,open:v,onClose:y,onOpen:k}),{getPopperProps:R,getReferenceProps:D}=V({open:e,...x}),a=o.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=void 0),E()},[E]),C=o.useCallback(()=>{!f&&!c.current&&(e&&a(),c.current=L(i.current).setTimeout(O,g))},[f,e,a,O,g]),t=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0),d.current=L(i.current).setTimeout(()=>{a()},m)},[m,a]);I(()=>A(i.current),"keydown",({key:n})=>{P&&n==="Escape"&&t()}),I(()=>A(i.current),"scroll",()=>{e&&T&&a()}),N({ref:i,enabled:e,handler:()=>{t()}}),U(()=>{clearTimeout(c.current),clearTimeout(d.current)});const W=o.useCallback(({"aria-describedby":n,...r}={})=>D({...r,ref:G(r.ref,i),"aria-describedby":_(n,e?s:void 0),onBlur:l(r.onBlur,t),onClick:l(r.onClick,p?t:void 0),onFocus:l(r.onFocus,C),onPointerEnter:l(r.onPointerEnter,S=>{S.pointerType!=="touch"&&C()}),onPointerLeave:l(r.onPointerLeave,S=>{S.pointerType!=="touch"&&t()})}),[D,s,C,e,p,t]),q=o.useCallback(n=>R(n),[R]),z=o.useCallback((n={})=>({id:s,"data-close":w(!e),"data-open":w(e),role:"tooltip",onPointerLeave:l(n.onPointerLeave,t),...n}),[s,t,e]);return{open:e,getContentProps:z,getPositionerProps:q,getTriggerProps:W,onClose:a,onDelayClose:t,onDelayOpen:C,onOpen:O}},{StyleContext:ee,withContext:j,useRootComponentProps:oe}=H("tooltip",Z),ue=b=>{const[x,{animationScheme:m="scale",children:p,content:P,duration:T=.1,contentProps:h,portalProps:f,...v}]=oe(b),{open:g,getContentProps:y,getPositionerProps:k,getTriggerProps:s}=$(v);return P?u.jsxs(ee,{value:x,children:[u.jsx(ne,{asChild:!0,...s(),children:p}),u.jsx(J,{children:g?u.jsx(K,{...f,children:u.jsx(te,{...k(),children:u.jsx(re,{...X(m,T),...F(y(F(h))),children:P})})}):null})]}):p},te=j("div","positioner")(),ne=j("button","trigger")(),re=j(M.div,"content")();export{ue as T};
