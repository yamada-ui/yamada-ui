import{q as fe,I as ge,d as xe,c as Y,r as o,y as B,N as Z,a as H,h as R,m as $,e as Ce,a8 as q,O as be,b as he,p as re,i as ae,P as Me,f as ke,j as a,Z as X,s as z}from"./iframe-BHpF9Anv.js";import{u as ye}from"./index-CCUIVoeU.js";import{c as Se}from"./index-bPZ4fhsG.js";import{u as Pe}from"./use-disclosure-CHHpwuWM.js";import{c as ve}from"./createLucideIcon-Ch8LwIgJ.js";import{C as je}from"./check-icon-vSzE-s3s.js";import{P as De,a as Re,b as we,c as Ae}from"./popover-arPXO97v.js";import{C as Ie}from"./chevron-right-icon-D9zXvGwT.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],Te=ve("circle-small",Oe),Ee=fe(ge)({as:Te}),Fe=xe({base:{command:{textStyle:"mono",color:"fg.muted",ms:"auto"},content:{gap:"0"},group:{},indicator:{},item:{alignItems:"center",cursor:"pointer",display:"flex",focusVisibleRing:"none",userSelect:"none",_activedescendant:{bg:["bg.subtle","bg.muted"]},_disabled:{layerStyle:"disabled"}},label:{fontWeight:"medium"},separator:{"& + hr":{display:"none"},"&:last-child, &:first-child":{display:"none"},borderBottomWidth:"1px",mx:"-1",my:"1"}},sizes:{sm:{command:{fontSize:"2xs"},content:{fontSize:"xs",minW:"3xs",p:"1"},indicator:{fontSize:"sm"},item:{gap:"1.5",px:"1.5",py:"1",rounded:"l1"},label:{px:"1.5",py:"1"}},md:{command:{fontSize:"xs"},content:{fontSize:"sm",minW:"2xs",p:"1"},indicator:{fontSize:"md"},item:{gap:"2",px:"2",py:"1.5",rounded:"l2"},label:{px:"2",py:"1.5"}}},defaultProps:{size:"md"}}),{DescendantsContext:Ve,useDescendant:Ge,useDescendantRegister:Ke,useDescendants:ze}=Se(),[Le,ce]=Y({name:"MenuContext"}),[Ue,ue]=Y({name:"MainMenuContext",strict:!1}),[We,Ne]=Y({name:"MenuOptionGroupContext"}),_e=({closeOnSelect:n,defaultOpen:s,disabled:e=!1,open:b,subMenuDirection:d="end",onClose:m,onOpen:C,onSelect:c}={})=>{const p=o.useId(),t=ze(),g=o.useRef(B),k=o.useRef(B),y=o.useRef(null),{open:u,onClose:M,onOpen:f}=Pe({defaultOpen:s,open:b,onClose:m,onOpen:C}),i=o.useCallback(x=>{!y.current||!x||e||(y.current.setAttribute("aria-activedescendant",x.id),t.focus(x.node))},[t,e]),{mainCloseOnSelect:S,subMenu:h,getSubMenuProps:D,onMainSelect:A}=Be({id:p,descendants:t,disabled:e,open:u,subMenuDirection:d,onActiveDescendant:i,onClose:M,onOpen:f});n??=S??!0;const I=o.useCallback((x,j=n)=>{e||(c?.(x),A?.(x,j),j&&M())},[n,e,M,A,c]),O=o.useCallback(x=>{e||(x.preventDefault(),u?M():f())},[e,M,f,u]),l=o.useCallback(x=>{e||(x.preventDefault(),f(),g.current())},[e,f]),r=o.useCallback(x=>{e||Z(x,{ArrowDown:()=>{f(),setTimeout(()=>{const j=t.enabledFirstValue();i(j)})},ArrowUp:()=>{f(),setTimeout(()=>{const j=t.enabledLastValue();i(j)})},Enter:()=>{f(),setTimeout(()=>{const j=t.enabledFirstValue();i(j)})},Space:()=>{f(),setTimeout(()=>{const j=t.enabledFirstValue();i(j)})}})},[t,e,i,f]),P=o.useCallback((x={})=>({id:p,"aria-haspopup":"menu","data-trigger":H(!0),...D({...x,onClick:R(x.onClick,O),onKeyDown:R(x.onKeyDown,r)})}),[D,O,r,p]),v=o.useCallback((x={})=>({id:p,"aria-haspopup":"menu","data-trigger":H(!0),role:"application",...x,onContextMenu:R(x.onContextMenu,l)}),[l,p]),T=o.useCallback(({ref:x,"aria-labelledby":j,...L}={})=>({"aria-labelledby":Ce(j,p),role:"menu",...L,ref:$(x,y)}),[p]),E=o.useCallback(x=>({role:"group",...x}),[]),G=o.useCallback(x=>({role:"separator",...x}),[]);return{closeOnSelect:n,descendants:t,open:u,subMenu:h,subMenuDirection:d,updateRef:g,getContentProps:T,getContextTriggerProps:v,getGroupProps:E,getSeparatorProps:G,getTriggerProps:P,onActiveDescendant:i,onClose:M,onCloseRef:k,onOpen:f,onSelect:I}},Be=({id:n,descendants:s,disabled:e=!1,open:b,subMenuDirection:d="end",onActiveDescendant:m,onClose:C,onOpen:c})=>{const{closeOnSelect:p,descendants:t,onActiveDescendant:g,onCloseRef:k,onSelect:y}=ue()??{},u=!!t&&!!g,M=Ke(t),f=o.useRef(null),i=o.useCallback(l=>(l??=f.current,l?q(l.getAttribute("data-disabled")):!1),[]),S=o.useCallback(l=>(l??=f.current,l?q(l.getAttribute("aria-disabled")):!1),[]),h=o.useCallback(l=>{u&&(l.defaultPrevented=e||i()||S())},[S,i,e,u]),D=o.useCallback(()=>{!u||e||i()||S()||c()},[S,i,e,c,u]),A=o.useCallback(l=>{if(!u||e||i()||S())return;const r=s.indexOf(f.current),P=s.value(r);g(P),l.defaultPrevented=!0},[S,i,s,e,g,u]),I=o.useCallback(l=>{if(!u||e)return;const r=b?s:t,P=b?m:g;Z(l,{ArrowDown:()=>{const v=r.indexOf(f.current),T=r.enabledNextValue(v);P(T),l.defaultPrevented=!0},ArrowUp:()=>{const v=r.indexOf(f.current),T=r.enabledPrevValue(v);P(T),l.defaultPrevented=!0},End:()=>{const v=r.enabledLastValue();P(v),l.defaultPrevented=!0},Home:()=>{const v=r.enabledFirstValue();P(v),l.defaultPrevented=!0},[d==="end"?"ArrowRight":"ArrowLeft"]:()=>{c(),setTimeout(()=>{const v=s.enabledFirstValue();m(v)}),l.defaultPrevented=!0}})},[u,e,b,s,t,m,g,d,c]);be(k,C);const O=o.useCallback(({ref:l,...r}={})=>({role:u?"menuitem":"button",...r,ref:$(l,f,M({id:n,disabled:P=>e||i(P)||S(P)})),onClick:R(h,r.onClick),onKeyDown:R(I,r.onKeyDown),onMouseEnter:R(D,r.onMouseEnter),onMouseMove:R(A,r.onMouseMove)}),[u,M,n,h,I,D,A,e,i,S]);return{mainCloseOnSelect:p,subMenu:u,getSubMenuProps:O,onMainSelect:y}},le=({id:n,"aria-disabled":s,"data-disabled":e,"data-trigger":b,closeOnSelect:d,disabled:m=!1,value:C,...c})=>{const p=q(b),{subMenu:t,subMenuDirection:g,onActiveDescendant:k,onClose:y,onSelect:u}=ce(),{onCloseRef:M}=ue()??{},f=o.useId(),i=o.useRef(null),S=t&&p;n??=f;const{descendants:h,register:D}=Ge({id:n,disabled:m||S}),A=o.useCallback(()=>{if(m)return;const l=h.indexOf(i.current),r=h.value(l);k(r)},[h,m,k]),I=o.useCallback(l=>{Z(l,{ArrowDown:()=>{const r=h.indexOf(i.current),P=h.enabledNextValue(r);k(P)},ArrowUp:()=>{const r=h.indexOf(i.current),P=h.enabledPrevValue(r);k(P)},End:()=>{const r=h.enabledLastValue();k(r)},Enter:()=>u(C,d),Home:()=>{const r=h.enabledFirstValue();k(r)},Space:()=>u(C,d),[g==="end"?"ArrowLeft":"ArrowRight"]:()=>{if(!t)return;y(),h.firstValue()?.node.focus()}})},[d,h,k,y,u,t,g,C]),O=o.useCallback(({ref:l,...r}={})=>({id:n,"aria-disabled":s??he(m),"data-disabled":e??H(m),role:"menuitem",tabIndex:-1,...c,...r,ref:$(l,c.ref,i,D),onClick:R(r.onClick,c.onClick,()=>u(C,d)),onFocus:R(r.onFocus,c.onFocus,A),onKeyDown:R(r.onKeyDown,c.onKeyDown,I),onMouseMove:R(r.onMouseMove,c.onMouseMove,()=>{M?.current(),A()})}),[n,s,m,e,c,D,A,I,u,C,d,M]);return{subMenuTrigger:S,getItemProps:O}},He=({type:n="checkbox",defaultValue:s=n==="checkbox"?[]:"",value:e,onChange:b})=>{const[d,m]=ye({defaultValue:s,value:e,onChange:b}),C=n==="radio",c=o.useCallback(p=>{m(t=>C&&re(t)?p:!C&&ae(t)?t.includes(p)?t.filter(g=>g!==p):t.concat(p):t)},[C,m]);return Me(()=>{m(e)},[e]),{type:n,value:d,onChange:c}},qe=({disabled:n,value:s,...e})=>{const{type:b,value:d,onChange:m}=Ne(),{getItemProps:C}=le({disabled:n,value:s,...e}),c=b==="radio"&&re(d),p=b==="checkbox"&&ae(d),t=c?s===d:p?d.includes(s):!1,g=o.useCallback(({style:y,...u}={})=>({style:{opacity:t?1:0,...y},role:"presentation",...u}),[t]),k=o.useCallback((y={})=>C({role:c?"menuitemradio":"menuitemcheckbox",...y,onClick:R(y.onClick,()=>n?B:m?.(s))}),[n,C,m,c,s]);return{type:b,selected:t,getIndicatorProps:g,getOptionItemProps:k}},{ComponentContext:Xe,StyleContext:Ye,useComponentContext:V,withContext:w,useRootComponentProps:Ze}=ke("menu",Fe),ct=n=>{const[s,{animationScheme:e,autoUpdate:b,blockScrollOnMount:d,children:m,closeOnBlur:C,closeOnEsc:c,closeOnScroll:p,disabled:t,duration:g,elements:k,flip:y,gutter:u,initialFocusRef:M,matchWidth:f,middleware:i,offset:S,placement:h,platform:D,preventOverflow:A,strategy:I,transform:O,whileElementsMounted:l,...r}]=Ze(n),{closeOnSelect:P,descendants:v,open:T,subMenu:E,subMenuDirection:G,updateRef:x,getContentProps:j,getContextTriggerProps:L,getGroupProps:J,getSeparatorProps:Q,getTriggerProps:ee,onActiveDescendant:U,onClose:K,onCloseRef:te,onOpen:N,onSelect:W}=_e({disabled:t,...r}),de=o.useMemo(()=>({subMenu:E,subMenuDirection:G,onActiveDescendant:U,onClose:K,onOpen:N,onSelect:W}),[K,N,W,U,E,G]),me=o.useMemo(()=>({closeOnSelect:P,descendants:v,onActiveDescendant:U,onClose:K,onCloseRef:te,onSelect:W}),[P,v,U,K,te,W]),pe=o.useMemo(()=>({getContentProps:j,getContextTriggerProps:L,getGroupProps:J,getSeparatorProps:Q,getTriggerProps:ee}),[j,J,L,Q,ee]);return a.jsx(Ye,{value:s,children:a.jsx(Ve,{value:v,children:a.jsx(Le,{value:de,children:a.jsx(Ue,{value:me,children:a.jsx(Xe,{value:pe,children:a.jsx(De,{animationScheme:e??(E?"inline-start":"block-start"),autoFocus:!!M,autoUpdate:b,blockScrollOnMount:d,closeOnBlur:C,closeOnEsc:c,closeOnScroll:p,disabled:t,duration:g,elements:k,flip:y,gutter:u,initialFocusRef:M,matchWidth:f,middleware:i,offset:S??(E?[0,0]:void 0),open:T,placement:h??(E?`center-${G}`:"end-start"),platform:D,preventOverflow:A,strategy:I,transform:O,updateRef:x,whileElementsMounted:l,onClose:K,onOpen:N,children:m})})})})})})},ut=w(Re,"trigger")(void 0,n=>{const{getTriggerProps:s}=V();return X(s(X(n)))}),lt=w(({children:n,onContextMenu:s,...e})=>{const[b,d]=o.useState({left:0,top:0}),{getContextTriggerProps:m}=V();return a.jsxs(a.Fragment,{children:[a.jsx($e,{children:a.jsx(z.div,{style:{position:"absolute",...b}})}),a.jsx(z.div,{asChild:!0,...m({onContextMenu:R(s,C=>{d({left:C.pageX,top:C.pageY})}),...e}),children:n})]})},"contextTrigger")(),$e=w(Ae,"anchor")(),it=w(we,"content")(void 0,({children:n,items:s=[],portalProps:e,...b})=>{const{subMenu:d}=ce(),{getContentProps:m}=V(),C=o.useMemo(()=>n||s.map((c,p)=>{if("type"in c)if(c.type==="radio"){const{type:t,hasSeparator:g=!0,hasEndSeparator:k=g,hasStartSeparator:y=g,items:u=[],label:M,labelProps:f,...i}=c;return a.jsxs(o.Fragment,{children:[y?a.jsx(F,{}):null,M?a.jsx(_,{...f,children:M}):null,a.jsx(ne,{type:t,...i,children:u.map(({label:S,...h},D)=>a.jsx(se,{...h,children:S},D))}),k?a.jsx(F,{}):null]},p)}else if(c.type==="checkbox"){const{type:t,hasSeparator:g=!0,hasEndSeparator:k=g,hasStartSeparator:y=g,items:u=[],label:M,labelProps:f,...i}=c;return a.jsxs(o.Fragment,{children:[y?a.jsx(F,{}):null,M?a.jsx(_,{...f,children:M}):null,a.jsx(ne,{type:t,...i,children:u.map(({label:S,...h},D)=>a.jsx(se,{...h,children:S},D))}),k?a.jsx(F,{}):null]},p)}else return a.jsx(F,{},p);else if("items"in c){const{hasSeparator:t=!0,hasEndSeparator:g=t,hasStartSeparator:k=t,items:y=[],label:u,labelProps:M,...f}=c;return a.jsxs(o.Fragment,{children:[k?a.jsx(F,{}):null,u?a.jsx(_,{...M,children:u}):null,a.jsx(Je,{...f,children:y.map(({label:i,...S},h)=>a.jsx(oe,{...S,children:i},h))}),g?a.jsx(F,{}):null]},p)}else if("value"in c){const{label:t,...g}=c;return a.jsx(oe,{...g,children:t},p)}}),[n,s]);return{...m(X({...b,children:C})),portalProps:d?{...e,disabled:!0}:e}}),_=w("span","label")({role:"presentation"}),Je=w("div","group")(void 0,n=>{const{getGroupProps:s}=V();return s(n)}),ne=w(({type:n,defaultValue:s,value:e,onChange:b,...d})=>{const{type:m,value:C,onChange:c}=He({type:n,defaultValue:s,value:e,onChange:b}),{getGroupProps:p}=V(),t=o.useMemo(()=>({type:m,value:C,onChange:c}),[m,C,c]);return a.jsx(We,{value:t,children:a.jsx(z.div,{...p(d)})})},{name:"optionGroup",slot:["group","option"]})(),oe=w(({children:n,...s})=>{const{subMenuTrigger:e,getItemProps:b}=le(s);return a.jsxs(z.div,{...b(),children:[n,e?a.jsx(ie,{as:Ie,ms:"auto"}):null]})},"item")(),se=w(({children:n,...s})=>{const{type:e,getIndicatorProps:b,getOptionItemProps:d}=qe(s);return a.jsxs(z.div,{...d(),children:[a.jsx(ie,{as:e==="radio"?Ee:je,...b()}),n]})},{name:"optionItem",slot:["item","option"]})(),ie=w("svg","indicator")(),dt=w("kbd","command")(),F=w("hr","separator")(void 0,n=>{const{getSeparatorProps:s}=V();return s(n)});export{ct as M,ut as a,it as b,oe as c,F as d,_ as e,Je as f,ne as g,se as h,ie as i,dt as j,$e as k,lt as l};
