import{c as me,a1 as de,aG as $,aH as ge,j as ee,au as Ce,r as m,B as xe,a as ve,E as we,h as U,m as re,b as oe,f as pe,e as he,d as ye,W as ae}from"./iframe-COpE3uSe.js";import{c as ke}from"./index-C9BvkZ-n.js";import{u as ze}from"./use-disclosure-DqRmIBlX.js";import{m as u}from"./menu.style-DR-ejbYQ.js";import{n as x}from"./native-select.style-Cl0EbK-s.js";const ue=t=>typeof t=="object"&&t!=null&&t.nodeType===1,fe=(t,s)=>(!s||t!=="hidden")&&t!=="visible"&&t!=="clip",te=(t,s)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const i=getComputedStyle(t,null);return fe(i.overflowY,s)||fe(i.overflowX,s)||(f=>{const o=(n=>{if(!n.ownerDocument||!n.ownerDocument.defaultView)return null;try{return n.ownerDocument.defaultView.frameElement}catch{return null}})(f);return!!o&&(o.clientHeight<f.scrollHeight||o.clientWidth<f.scrollWidth)})(t)}return!1},ne=(t,s,i,f,o,n,a,l)=>n<t&&a>s||n>t&&a<s?0:n<=t&&l<=i||a>=s&&l>=i?n-t-f:a>s&&l<i||n<t&&l>i?a-s+o:0,De=t=>{const s=t.parentElement;return s??(t.getRootNode().host||null)},be=(t,s)=>{var i,f,o,n;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:p,boundary:C,skipOverflowHiddenElements:R}=s,j=typeof C=="function"?C:r=>r!==C;if(!ue(t))throw new TypeError("Invalid target");const S=document.scrollingElement||document.documentElement,V=[];let b=t;for(;ue(b)&&j(b);){if(b=De(b),b===S){V.push(b);break}b!=null&&b===document.body&&te(b)&&!te(document.documentElement)||b!=null&&te(b,R)&&V.push(b)}const y=(f=(i=window.visualViewport)==null?void 0:i.width)!=null?f:innerWidth,k=(n=(o=window.visualViewport)==null?void 0:o.height)!=null?n:innerHeight,{scrollX:W,scrollY:d}=window,{height:c,width:h,top:H,right:v,bottom:F,left:g}=t.getBoundingClientRect(),{top:z,right:E,bottom:N,left:G}=(r=>{const e=window.getComputedStyle(r);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let D=l==="start"||l==="nearest"?H-z:l==="end"?F+N:H+c/2-z+N,M=p==="center"?g+h/2-G+E:p==="end"?v+E:g-G;const L=[];for(let r=0;r<V.length;r++){const e=V[r],{height:w,width:I,top:B,right:_,bottom:P,left:K}=e.getBoundingClientRect();if(a==="if-needed"&&H>=0&&g>=0&&F<=k&&v<=y&&(e===S&&!te(e)||H>=B&&F<=P&&g>=K&&v<=_))return L;const X=getComputedStyle(e),Y=parseInt(X.borderLeftWidth,10),O=parseInt(X.borderTopWidth,10),q=parseInt(X.borderRightWidth,10),J=parseInt(X.borderBottomWidth,10);let T=0,A=0;const Q="offsetWidth"in e?e.offsetWidth-e.clientWidth-Y-q:0,Z="offsetHeight"in e?e.offsetHeight-e.clientHeight-O-J:0,se="offsetWidth"in e?e.offsetWidth===0?0:I/e.offsetWidth:0,le="offsetHeight"in e?e.offsetHeight===0?0:w/e.offsetHeight:0;if(S===e)T=l==="start"?D:l==="end"?D-k:l==="nearest"?ne(d,d+k,k,O,J,d+D,d+D+c,c):D-k/2,A=p==="start"?M:p==="center"?M-y/2:p==="end"?M-y:ne(W,W+y,y,Y,q,W+M,W+M+h,h),T=Math.max(0,T+d),A=Math.max(0,A+W);else{T=l==="start"?D-B-O:l==="end"?D-P+J+Z:l==="nearest"?ne(B,P,w,O,J+Z,D,D+c,c):D-(B+w/2)+Z/2,A=p==="start"?M-K-Y:p==="center"?M-(K+I/2)+Q/2:p==="end"?M-_+q+Q:ne(K,_,I,Y,q+Q,M,M+h,h);const{scrollLeft:ie,scrollTop:ce}=e;T=le===0?0:Math.max(0,Math.min(ce+T/le,e.scrollHeight-w/le+Z)),A=se===0?0:Math.max(0,Math.min(ie+A/se,e.scrollWidth-I/se+Q)),D+=ce-T,M+=ie-A}L.push({el:e,top:T,left:A})}return L},Me=t=>t===!1?{block:"end",inline:"nearest"}:(s=>s===Object(s)&&Object.keys(s).length!==0)(t)?t:{block:"start",inline:"nearest"};function Se(t,s){if(!t.isConnected||!(o=>{let n=o;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(t))return;const i=(o=>{const n=window.getComputedStyle(o);return{top:parseFloat(n.scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0}})(t);if((o=>typeof o=="object"&&typeof o.behavior=="function")(s))return s.behavior(be(t,s));const f=typeof s=="boolean"||s==null?void 0:s.behavior;for(const{el:o,top:n,left:a}of be(t,Me(s))){const l=n-i.top+i.bottom,p=a-i.left+i.right;o.scroll({top:l,left:p,behavior:f})}}const Ae=(t,{Group:s,Label:i,Option:f})=>de(t).filter(({type:n})=>$(n,f)||$(n,s)).map(({type:n,props:a})=>{if($(n,f))return{...a,label:a.children};{const l=de(a.children),p=ge(l,i);return{...a,items:l.filter(({type:C})=>$(C,f)).map(({props:C})=>({...C,label:C.children})),label:p?.props.children??a.label}}}),je=(t,{Empty:s,Group:i,Option:f})=>t.map((o,n)=>{if("data-empty"in o&&s){const{label:a,...l}=o;return ee.jsx(s,{...l,children:a},n)}else if("items"in o){const{items:a=[],label:l,...p}=o;return ee.jsx(i,{label:l,...p,children:a.map(({label:C,...R},j)=>ee.jsx(f,{...R,children:C},j))},n)}else{const{label:a,...l}=o;return ee.jsx(f,{...l,children:a},n)}}),{DescendantsContext:Be,useDescendant:We,useDescendants:Ie}=ke(),[Ke,Ve]=me({name:"ComboboxContext"}),[Ne,Ge]=me({name:"ComboboxGroupContext"}),Le=({"aria-label":t,"aria-labelledby":s,closeOnSelect:i=!0,defaultOpen:f,disabled:o,initialFocusValue:n,open:a,openOnClick:l=!0,readOnly:p,onChange:C,onClose:R,onOpen:j,...S}={})=>{const{getWindow:V}=Ce(),b=!(p||o),y=m.useRef(null),k=m.useRef(null),W=m.useId(),d=Ie(),{open:c,onClose:h,onOpen:H}=ze({defaultOpen:f,open:a,onClose:R,onOpen:j}),v=m.useRef(null),F=m.useCallback((r,e=i)=>{y.current?.focus(),!(!b||xe(r))&&(C?.(r),e&&h())},[i,b,C,h]),g=m.useCallback((r,e="start")=>{if(!k.current||!r)return;const w=V()?.getComputedStyle(k.current),I=e==="start"?w?.paddingBlockStart:w?.paddingBlockEnd,B=parseInt(I??"0px");Se(r.node,{behavior:_=>_.forEach(({el:P,top:K})=>{P.scrollTop=e==="start"?K-B:K+B}),block:e,boundary:k.current,inline:"nearest",scrollMode:"if-needed"})},[V]),z=m.useCallback(r=>{!y.current||!r||o||(y.current.setAttribute("aria-activedescendant",r.id),v.current=r,d.active(r))},[d,o]),E=m.useCallback(r=>{H(),setTimeout(()=>{const w=d.values().find(({value:I})=>n===I);z(w??r())})},[d,n,z,H]),N=m.useCallback(r=>{o||(r.preventDefault(),c?h():l&&E(()=>d.enabledFirstValue()))},[d,o,h,E,c,l]),G=m.useCallback(r=>{o||r.nativeEvent.isComposing||ve(r,{ArrowDown:()=>{if(!c)E(()=>{const e=d.enabledFirstValue();return g(e),e});else if(v.current){const e=d.enabledNextValue(v.current);z(e),g(e,e?.recurred?"start":"end")}else{const e=d.enabledFirstValue();z(e),g(e)}},ArrowUp:()=>{if(!c)E(()=>{const e=d.enabledLastValue();return g(e,"end"),e});else if(v.current){const e=d.enabledPrevValue(v.current);z(e),g(e,e?.recurred?"end":"start")}else{const e=d.enabledLastValue();z(e),g(e,"end")}},End:()=>{if(!c)return;const e=d.enabledLastValue();z(e),g(e,"end")},Enter:()=>{if(!c)E(()=>{const e=d.enabledFirstValue();return g(e),e});else{if(!v.current)return;const{closeOnSelect:e,value:w}=v.current;F(w,e)}},Home:()=>{if(!c)return;const e=d.enabledFirstValue();z(e),g(e)},Space:()=>{if(!c)E(()=>{const e=d.enabledFirstValue();return g(e),e});else{if(!v.current)return;const{closeOnSelect:e,value:w}=v.current;F(w,e)}}})},[o,c,E,d,g,z,F]);we(()=>{c||(v.current=null)},[c]);const D=m.useCallback(({ref:r,"aria-label":e,"aria-labelledby":w,...I}={})=>({"aria-controls":c?W:void 0,"aria-disabled":he(!b),"aria-expanded":c,"aria-haspopup":"listbox","aria-label":e||t,"aria-labelledby":pe(w,s),"data-disabled":oe(o),"data-readonly":oe(p),role:"combobox",tabIndex:b?0:-1,...S,...I,ref:re(r,S.ref,y),onClick:U(I.onClick,S.onClick,N),onKeyDown:U(I.onKeyDown,S.onKeyDown,G)}),[c,W,b,s,o,p,t,S,N,G]),M=m.useCallback(({ref:r,...e}={})=>({id:W,role:"listbox",...e,ref:re(r,k),onKeyDown:U(e.onKeyDown)}),[W]),L=m.useCallback(r=>({role:"separator",...r}),[]);return{activeDescendant:v,descendants:d,interactive:b,open:c,getContentProps:M,getSeparatorProps:L,getTriggerProps:D,onActiveDescendant:z,onClose:h,onOpen:H,onScrollIntoView:g,onSelect:F}},_e=({"aria-labelledby":t,...s}={})=>{const i=m.useId(),f=m.useCallback(({"aria-labelledby":n,...a}={})=>({"aria-labelledby":pe(t,n,i),role:"group",...s,...a}),[t,i,s]),o=m.useCallback(n=>({id:i,role:"presentation",...n}),[i]);return{getGroupProps:f,getLabelProps:o}},Pe=({id:t,"aria-disabled":s,"data-disabled":i,closeOnSelect:f,disabled:o=!1,selected:n=!1,value:a,...l}={})=>{const p=m.useId(),C=m.useRef(null),{onActiveDescendant:R,onClose:j,onSelect:S}=Ve();t??=p;const{descendants:V,register:b}=We({id:t,closeOnSelect:f,disabled:o,value:a}),y=m.useCallback(()=>{if(o)return;const c=V.value(C.current);R(c)},[V,o,R]),k=m.useCallback(c=>{c.preventDefault(),!o&&S(a,f)},[f,o,S,a]),W=m.useCallback(({ref:c,...h}={})=>({id:t,"aria-disabled":s??he(o),"aria-selected":n,"data-disabled":i??oe(o),"data-selected":oe(n),"data-value":a,role:"option",tabIndex:-1,...l,...h,ref:re(c,l.ref,C,b),onClick:U(h.onClick,l.onClick,k),onMouseMove:U(h.onMouseMove,l.onMouseMove,y)}),[t,s,o,n,i,a,l,b,k,y]),d=m.useCallback(({style:c,...h}={})=>({style:{opacity:n?1:0,...c},...h}),[n]);return{descendants:V,disabled:o,selected:n,getIndicatorProps:d,getItemProps:W,onActiveDescendant:R,onClose:j}},Ue=ye({base:{...x.base,content:{...u.base?.content,maxH:"xs"},field:{...x.base?.field,alignItems:"center",display:"flex"},group:u.base?.group,indicator:u.base?.indicator,label:u.base?.label,option:u.base?.item,separator:u.base?.separator,valueText:{truncated:!0,userSelect:"none"}},variants:{filled:{...x.variants?.filled,field:{...x.variants?.filled.field,_expanded:ae.inside}},flushed:{...x.variants?.flushed,field:{...x.variants?.flushed.field,_expanded:x.variants?.flushed.field?._focusVisible}},outline:{...x.variants?.outline,field:{...x.variants?.outline.field,_expanded:ae.inside}},plain:{...x.variants?.plain,field:{...x.variants?.plain.field,_expanded:ae.inside}}},sizes:{xs:{...x.sizes?.xs,content:u.sizes?.sm.content,indicator:u.sizes?.sm.indicator,label:u.sizes?.sm.label,option:u.sizes?.sm.item},sm:{...x.sizes?.sm,content:u.sizes?.md.content,indicator:u.sizes?.md.indicator,label:u.sizes?.md.label,option:u.sizes?.md.item},md:{...x.sizes?.md,content:u.sizes?.md.content,indicator:u.sizes?.md.indicator,label:u.sizes?.md.label,option:u.sizes?.md.item},lg:{...x.sizes?.lg,content:u.sizes?.lg.content,indicator:u.sizes?.lg.indicator,label:u.sizes?.lg.label,option:u.sizes?.lg.item},xl:{...x.sizes?.xl,content:u.sizes?.lg.content,indicator:u.sizes?.lg.indicator,label:u.sizes?.lg.label,option:u.sizes?.lg.item}},defaultProps:{size:"md",variant:"outline"}});export{Be as C,Pe as a,je as b,Ae as c,Ke as d,_e as e,Ne as f,Ge as g,Ue as s,Le as u};
