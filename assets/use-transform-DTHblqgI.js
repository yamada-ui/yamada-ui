import{am as l,bB as p,r as a,bn as d,an as b,bj as h,bx as y,bC as c,br as C}from"./iframe-D_HYglKf.js";function V(t){const n=l(()=>p(t)),{isStatic:e}=a.useContext(d);if(e){const[,o]=a.useState(t);a.useEffect(()=>n.on("change",o),[])}return n}function m(t,n){const e=V(n()),o=()=>e.set(n());return o(),b(()=>{const s=()=>h.preRender(o,!1,!0),r=t.map(u=>u.on("change",s));return()=>{r.forEach(u=>u()),y(o)}}),e}function x(t){c.current=[],t();const n=m(c.current,t);return c.current=void 0,n}function A(...t){const n=!Array.isArray(t[0]),e=n?0:-1,o=t[0+e],s=t[1+e],r=t[2+e],u=t[3+e],f=C(s,r,u);return n?f(o):f}function M(t,n,e,o){if(typeof t=="function")return x(t);const s=typeof n=="function"?n:A(n,e,o);return Array.isArray(t)?i(t,s):i([t],([r])=>s(r))}function i(t,n){const e=l(()=>[]);return m(t,()=>{e.length=0;const o=t.length;for(let s=0;s<o;s++)e[s]=t[s].get();return n(e)})}export{V as a,M as u};
