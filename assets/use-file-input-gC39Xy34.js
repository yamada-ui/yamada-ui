import{r as a,ah as N,h as v,a2 as S,m as j,O as w,b as z}from"./iframe-D_HYglKf.js";import{u as B}from"./index-B0M5u45h.js";import{u as D}from"./index-DlPqCcPe.js";import{u as G}from"./use-field-props-DKtq6E-0.js";const Q=R=>{const{props:{id:f,ref:p,form:C,name:g,accept:m,defaultValue:x,disabled:r,multiple:b,readOnly:n,required:i,resetRef:y,value:A,onChange:I,onClick:F,...O},ariaProps:k,dataProps:d,eventProps:T}=G(R),t=!(n||r),s=a.useRef(null),[o,l]=D({defaultValue:x,value:A,onChange:I}),h=(o==null?void 0:o.length)??0,V=a.useCallback(()=>{var e;t&&((e=s.current)==null||e.click())},[t]),q=a.useCallback(()=>{s.current&&(s.current.value=""),l(void 0)},[l]),P=a.useCallback(e=>{const u=N(e.currentTarget.files)?void 0:Array.from(e.currentTarget.files);l(u!=null&&u.length?u:void 0)},[l]),c=B({...d,...T,...O,disabled:r,focusOnClick:t,onClick:v(F,V)});S(y,q);const E=a.useCallback((e={})=>({...w,...k,...d,id:f,form:C,type:"file",name:g,accept:m,disabled:r,multiple:b,readOnly:n,required:i,...e,ref:j(s,e.ref,p),onChange:v(e.onChange,P)}),[i,k,d,f,C,g,m,r,b,n,p,P]),H=a.useCallback((e={})=>({"data-placeholder":z(!h),...c,tabIndex:t?0:c.tabIndex,...e}),[c,h,t]);return{disabled:r,interactive:t,readOnly:n,required:i,values:o,clickableProps:c,getFieldProps:H,getInputProps:E}};export{Q as u};
