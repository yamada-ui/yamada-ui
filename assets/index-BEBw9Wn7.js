import{r as u}from"./index-ClcD9ViR.js";import{l as E,o as v}from"./factory-D0ba2aB7.js";import{u as w}from"./theme-provider-r-UN7Xzc.js";const l=()=>{var B;const e=u.useRef(0),{theme:t}=w(),n=t.__breakpoints,{containerRef:f,direction:m="down",identifier:p="@media screen"}=((B=t.__config)==null?void 0:B.breakpoint)??{},c=!!f;n||console.warn("useBreakpoint: `breakpoints` is undefined. Seems you forgot to put theme in `breakpoints`");const s=u.useMemo(()=>n?n.queries.map(({breakpoint:o,maxW:r,minMaxQuery:i,minW:a})=>{const b=p==="@media screen"?"@media screen and ":`${p} `,d=(i==null?void 0:i.replace(b,""))??"";return{breakpoint:o,maxW:r,minW:a,query:d}}):[],[n,p]),k=!!s.length,[q,h]=u.useState(()=>{if(!E()||c||!k)return"base";for(const{breakpoint:o,query:r}of s)if(window.matchMedia(r).matches)return o}),g=u.useCallback(o=>{for(const{breakpoint:r,maxW:i,minW:a}of s)if(m!=="up"){if((a??0)<=o)return r}else if(o<=(i??1/0))return r;return"base"},[s,m]);return u.useEffect(()=>{if(!c||!k||!E())return;const o=new ResizeObserver(([r])=>{if(!r)return;cancelAnimationFrame(e.current);const{width:i}=r.contentRect;e.current=requestAnimationFrame(()=>{const a=g(i);h(a)})});return f.current&&o.observe(f.current),()=>{o.disconnect(),cancelAnimationFrame(e.current)}},[k,c,f,g]),u.useEffect(()=>{if(c||!k)return;const o=s.map(({breakpoint:r,query:i})=>{const a=window.matchMedia(i),b=d=>{d.matches&&h(r)};return typeof a.addEventListener=="function"&&a.addEventListener("change",b),()=>{typeof a.removeEventListener=="function"&&a.removeEventListener("change",b)}});return()=>{o.forEach(r=>r())}},[s,k,c]),q},_=e=>{const{theme:t}=w(),n=l();return u.useMemo(()=>V(e)(t,n),[e,t,n])},V=(e={})=>(t,n)=>{var p;t||console.warn("getBreakpointValue: `theme` is undefined.");const f=((p=t==null?void 0:t.__breakpoints)==null?void 0:p.keys)??[];f.length||console.warn("getBreakpointValue: `breakpoints` is undefined.");const m=f.indexOf(n);for(let c=m;0<c;c--){const s=f[c];if(s&&e.hasOwnProperty(s))return e[s]}return e.base},S=e=>{const t=_(e);return u.useState(t)},y=(e,t)=>{const n=l();u.useEffect(()=>{e(n)},[n,...t])},A=(e,t)=>{const n=l();v(()=>{e(n)},[n,...t])};export{S as a,y as b,A as c,_ as d,V as g,l as u};
