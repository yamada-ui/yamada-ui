import{r as o}from"./index-BwPxMuoB.js";import{s as E}from"./factory-DbNU74ts.js";const i=(s,t,f,r)=>{const n=E(f);return o.useEffect(()=>{const e=typeof s=="function"?s():s??document;if(e)return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}},[t,s,r,n,f]),()=>{const e=typeof s=="function"?s():s??document;e==null||e.removeEventListener(t,n,r)}},d=()=>{const s=o.useRef(new Map),t=s.current,f=o.useCallback((n,e,c,u)=>{s.current.set(c,{el:n,event:e,options:u}),n.addEventListener(e,c,u)},[]),r=o.useCallback((n,e,c,u)=>{n.removeEventListener(e,c,u),s.current.delete(c)},[]);return o.useEffect(()=>()=>{t.forEach(({el:n,event:e,options:c},u)=>r(n,e,u,c))},[r,t]),{add:f,remove:r}};export{d as a,i as u};
