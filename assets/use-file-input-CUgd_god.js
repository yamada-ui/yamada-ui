import{r as t,a8 as E,h as v,S as N,m as j,H as w,b as z}from"./iframe-Bn8cMbTR.js";import{u as B}from"./index-C5LqjgOW.js";import{u as D}from"./index-DxOQ1YS9.js";import{u as G}from"./use-field-props-DWTQjhl6.js";const Q=R=>{const{props:{id:i,ref:f,form:d,name:p,accept:C,defaultValue:x,disabled:s,multiple:g,readOnly:r,required:c,resetRef:y,value:A,onChange:I,onClick:F,...H},ariaProps:m,dataProps:u,eventProps:O}=G(R),a=!(r||s),n=t.useRef(null),[b,l]=D({defaultValue:x,value:A,onChange:I}),k=b?.length??0,S=t.useCallback(()=>{a&&n.current?.click()},[a]),T=t.useCallback(()=>{n.current&&(n.current.value=""),l(void 0)},[l]),h=t.useCallback(e=>{const P=E(e.currentTarget.files)?void 0:Array.from(e.currentTarget.files);l(P?.length?P:void 0)},[l]),o=B({...u,...O,...H,disabled:s,focusOnClick:a,onClick:v(F,S)});N(y,T);const V=t.useCallback((e={})=>({...w,...m,...u,id:i,form:d,type:"file",name:p,accept:C,disabled:s,multiple:g,readOnly:r,required:c,...e,ref:j(n,e.ref,f),onChange:v(e.onChange,h)}),[c,m,u,i,d,p,C,s,g,r,f,h]),q=t.useCallback((e={})=>({"data-placeholder":z(!k),...o,tabIndex:a?0:o.tabIndex,...e}),[o,k,a]);return{disabled:s,interactive:a,readOnly:r,required:c,values:b,clickableProps:o,getFieldProps:q,getInputProps:V}};export{Q as u};
