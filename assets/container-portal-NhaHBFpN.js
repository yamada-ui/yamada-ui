import{j as l}from"./jsx-runtime-TtYKBvr-.js";import{r as c}from"./index-IybTgENJ.js";import{r as m}from"./index-xIHD0DlW.js";import{c as P,b as f}from"./factory-0U35BYk-.js";const p=({containerRef:s,appendToParentPortal:u=!0,isDisabled:a,children:e})=>a?e:s?l(E,{containerRef:s,appendToParentPortal:u,children:e}):l(x,{appendToParentPortal:u,children:e});p.className="ui-portal";p.selector=".ui-portal";const[v,C]=P({strict:!1,name:"PortalContext"}),x=({appendToParentPortal:s,children:u})=>{const[a,e]=c.useState(null),t=c.useRef(null),[,r]=c.useState({});c.useEffect(()=>r({}),[]);const i=C();return f(()=>{if(!a)return;const{ownerDocument:o}=a,n=s?i??o.body:o.body;if(!n)return;t.current=o.createElement("div"),t.current.className="ui-portal",n.appendChild(t.current),r({});const d=t.current;return()=>{n.contains(d)&&n.removeChild(d)}},[a]),t.current?m.createPortal(l(v,{value:t.current,children:u}),t.current):l("span",{ref:o=>o?e(o):void 0})},E=({children:s,containerRef:u,appendToParentPortal:a})=>{const e=u.current,t=e??(typeof window<"u"?document.body:void 0),r=c.useMemo(()=>{if(!e)return;const{ownerDocument:o}=e,n=o.createElement("div");return n&&(n.className="ui-portal"),n},[e]),[,i]=c.useState({});return f(()=>i({}),[]),f(()=>{if(!(!r||!t))return t.appendChild(r),()=>{t.removeChild(r)}},[r,t]),t&&r?m.createPortal(l(v,{value:a?r:null,children:s}),r):null};export{p as P};
