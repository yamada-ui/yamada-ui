import{r as n,aw as w,m as A,a as F}from"./iframe-BG38LAQ9.js";import{a as G}from"./index-Cz5sG1WL.js";const T=f=>{const{isContentEditable:l,tagName:a}=f.target;return a!=="INPUT"&&a!=="TEXTAREA"&&!l},Q=({ref:f,clickOnEnter:l=!0,clickOnSpace:a=!0,disabled:e,disableTouchBehavior:c=!0,focusable:I,focusOnClick:i=!0,tabIndex:U,onClick:K,onKeyDown:m,onKeyUp:D,onMouseDown:y,onMouseLeave:g,onMouseOver:k,onMouseUp:p,...M}={})=>{const[u,d]=n.useState(!0),[o,s]=n.useState(!1),r=G(),L=u?U:U||0,C=e&&!I,x=t=>{t&&t.tagName!=="BUTTON"&&d(!1)},N=n.useCallback(t=>{if(e){t.stopPropagation(),t.preventDefault();return}i&&t.currentTarget.focus(),K?.(t)},[e,i,K]),b=n.useCallback(t=>{o&&T(t)&&(t.preventDefault(),t.stopPropagation(),s(!1),r.remove(document,"keyup",b,!1))},[o,r]),R=n.useCallback(t=>{m?.(t),!(e||t.defaultPrevented||t.metaKey)&&(!T(t.nativeEvent)||u||(a&&t.key===" "&&(t.preventDefault(),s(!0)),l&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),r.add(document,"keyup",b,!1)))},[e,u,m,l,a,r,b]),V=n.useCallback(t=>{D?.(t),!(e||t.defaultPrevented||t.metaKey)&&(!T(t.nativeEvent)||u||a&&t.key===" "&&(t.preventDefault(),s(!1),t.currentTarget.click()))},[a,u,e,D]),E=n.useCallback(t=>{t.button===0&&(s(!1),r.remove(document,"mouseup",E,!1))},[r]),X=n.useCallback(t=>{if(t.button===0){if(e){t.stopPropagation(),t.preventDefault();return}u||s(!0),i&&t.currentTarget.focus({preventScroll:!0}),r.add(document,"mouseup",E,!1),y?.(t)}},[e,u,y,r,E,i]),j=n.useCallback(t=>{t.button===0&&(u||s(!1),p?.(t))},[p,u]),q=n.useCallback(t=>{if(e){t.preventDefault();return}c&&w()||k?.(t)},[e,k,c]),z=n.useCallback(t=>{o&&(t.preventDefault(),s(!1)),!(c&&w())&&g?.(t)},[o,g,c]);return u?{...M,ref:A(f,x),type:"button","aria-disabled":C?void 0:e,disabled:C,onClick:N,onKeyDown:m,onKeyUp:D,onMouseDown:y,onMouseLeave:g,onMouseOver:k,onMouseUp:p}:{...M,ref:A(f,x),"aria-disabled":e?"true":void 0,"data-active":F(o),role:"button",tabIndex:C?void 0:L,onClick:N,onKeyDown:R,onKeyUp:V,onMouseDown:X,onMouseLeave:z,onMouseOver:q,onMouseUp:j}};export{Q as u};
