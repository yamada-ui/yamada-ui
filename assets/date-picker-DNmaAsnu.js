import{j as i}from"./jsx-runtime-BpbtHYHY.js";import{u as Ct}from"./index-BEog8ndP.js";import{r}from"./index-BwPxMuoB.js";import{d as $,i as Ze,a as $e,b as Pt,C as kt}from"./calendar-B6SiJ-y-.js";import{u as ht}from"./index-DCT-NtcY.js";import{u as gt}from"./index-B2an25P7.js";import{u as _t}from"./index-BjpHvtnu.js";import{u as yt,f as bt}from"./form-control-DgcE1-oN.js";import{u as Dt}from"./i18n-provider-D58p8CY1.js";import{u as vt,o as xt}from"./theme-provider-ChqdwXGn.js";import{a3 as It,M as jt,ae as Ot,an as wt,a4 as Ft,h as A,a as oe,d as et,B as Vt,o as te,ao as Nt,b as J,c as G,J as Bt,g as St,q as Et}from"./factory-DbNU74ts.js";import{P as Rt,b as Tt,a as Mt}from"./popover-trigger-Ddfu3ZQC.js";import{P as Ht}from"./portal-DI5fdtXX.js";import{a as zt,b as Lt}from"./icon-Dk5VwDTI.js";import{f as ae}from"./forward-ref-Ukjd1cIW.js";import{a as Yt}from"./use-component-style-CpB_lyT3.js";const At=f=>{var Ge,Qe;const{locale:p}=Dt(),{theme:c}=vt(),m=(Qe=(Ge=c.__config)==null?void 0:Ge.date)==null?void 0:Qe.locale,{type:C,allowInput:n=!0,allowInputBeyond:s=!1,amountOfMonths:d,animation:k,autoFocus:u=!0,boundary:E,calendarColorScheme:w,calendarSize:R,calendarVariant:F,closeDelay:V,closeOnBlur:b=!0,closeOnEsc:T=!0,dateFormat:M,defaultIsOpen:K,defaultMonth:H,defaultOpen:W,defaultType:D,defaultValue:N,disableOutsideDays:B,duration:P=.2,enableMultiple:v,enableRange:z,eventListeners:o,excludeDate:t,firstDayOfWeek:h,flip:le,gutter:ce,hiddenOutsideDays:ue,holidays:pe,inputFormat:U="YYYY/MM/DD",isLazy:de,isOpen:ot,lazyBehavior:fe,locale:S=m??p,matchWidth:me,maxDate:g,maxSelectValues:Ce,minDate:_,minSelectValues:Pe,modifiers:ke,month:he,monthFormat:ge,offset:_e,open:at,openDelay:ye,paginateBy:be,parseDate:Q,pattern:nt=/[^0-9\-\/]/g,placement:De="bottom-start",preventOverflow:ve,strategy:xe,today:Ie,value:je,weekdayFormat:Oe,weekendDays:we,withControls:Fe,withHeader:Ve,withLabel:Ne,withWeekdays:Be,yearFormat:Se,calendarProps:Ee,onChange:Re,onChangeMonth:Te,onChangeType:Me,onClear:X,onClose:st,onDelete:He,onEnter:ze,onOpen:rt,__selectType:Le,...x}=yt(f),{"aria-readonly":Ut,...I}=It(x,bt),[Ye,it]=jt(x,Ot),{open:l,onClose:j,onOpen:Ae}=gt({defaultIsOpen:K,defaultOpen:W,isOpen:ot,open:at,onClose:st,onOpen:rt}),Z=r.useRef(null),q=r.useRef(null),{disabled:L,readOnly:Y}=I,lt=r.useCallback(e=>{let a=Q==null?void 0:Q(e);if(!a&&$(e).isValid()&&(a=$(e,U,S).toDate()),a!=null&&!(t!=null&&t(a)))return s||(g&&Ze(a,g)&&(a=g),_&&$e(a,_)&&(a=_)),a},[s,t,U,S,g,_,Q]),ct=r.useCallback(e=>{if(e!=null&&!(t!=null&&t(e)))return s||(g&&Ze(e,g)&&(e=g),_&&$e(e,_)&&(e=_)),$(e).locale(S).format(U)},[s,t,U,S,g,_]),y=r.useCallback(()=>{var e;L||Y||(Ae(),u&&n&&((e=q.current)==null||e.focus()))},[u,n,L,Y,Ae]),Ke=r.useCallback(()=>{var e;l?u&&n&&((e=q.current)==null||e.focus()):y()},[u,n,l,y]),We=r.useCallback(()=>{l||y()},[l,y]),Ue=r.useCallback(e=>{const a=wt(e);Ft(Z.current,a)||b&&l&&j()},[b,l,j]),qe=r.useCallback(e=>{if(e.key===" "&&(e.key=e.code),L||Y)return;const Xe={Backspace:He,Enter:l?ze:O=>{O.preventDefault(),O.stopPropagation(),y()},Escape:T?O=>{O.preventDefault(),O.stopPropagation(),j()}:void 0,Space:l?void 0:O=>{O.preventDefault(),O.stopPropagation(),y()}}[e.key];Xe&&Xe(e)},[T,L,Y,l,j,ze,He,y]),Je=r.useCallback(e=>{var a;e.stopPropagation(),X==null||X(),u&&n&&l&&((a=q.current)==null||a.focus())},[u,n,l,X]);_t({ref:Z,enabled:l&&b,handler:j});const ut=r.useCallback((e={},a=null)=>({ref:oe(Z,a),...Ye,...I,...e,onBlur:A(e.onBlur,x.onBlur,Ue),onClick:A(e.onClick,x.onClick,Ke)}),[Ye,I,Ue,Ke,x]),pt=r.useCallback(e=>({animation:k,boundary:E,closeDelay:V,duration:P,eventListeners:o,flip:le,gutter:ce,isLazy:de,lazyBehavior:fe,matchWidth:me,modifiers:ke,offset:_e,openDelay:ye,placement:De,preventOverflow:ve,strategy:xe,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:l,trigger:"never",onClose:j,onOpen:y}),[k,E,V,P,o,le,ce,de,l,fe,me,ke,_e,j,y,ye,De,ve,xe]),dt=r.useCallback((e={},a=null)=>({"aria-haspopup":"dialog","data-active":et(l),"data-not-allowed":et(!Y&&!L&&!n),role:"combobox",tabIndex:-1,...I,...e,ref:oe(q,a),onFocus:A(e.onFocus,x.onFocus,We),onKeyDown:A(e.onKeyDown,x.onKeyDown,qe)}),[n,L,Y,I,l,x,We,qe]),ft=r.useCallback(e=>({...e,type:C,colorScheme:w,size:R,variant:F,amountOfMonths:d,dateFormat:M,defaultMonth:H,defaultType:D,disableOutsideDays:B,firstDayOfWeek:h,hiddenOutsideDays:ue,holidays:pe,maxSelectValues:Ce,minSelectValues:Pe,month:he,monthFormat:ge,paginateBy:be,today:Ie,weekdayFormat:Oe,weekendDays:we,withControls:Fe,withHeader:Ve,withLabel:Ne,withWeekdays:Be,yearFormat:Se,onChangeMonth:Te,onChangeType:Me,...Ee,defaultValue:N,enableMultiple:v,enableRange:z,excludeDate:t,locale:S,maxDate:g,minDate:_,value:je,onChange:Re,__selectType:Le}),[ue,Ce,Pe,v,z,d,w,Ee,R,F,M,H,D,N,B,t,h,pe,S,g,_,he,ge,Re,Te,Me,be,Ie,C,je,Oe,we,Fe,Ve,Ne,Be,Se,Le]),mt=r.useCallback(({clear:e,...a})=>({...a,...I,onClick:A(a.onClick,e?Je:void 0)}),[I,Je]);return{allowInput:n,containerRef:Z,dateToString:ct,inputFormat:U,inputRef:q,locale:S,open:l,pattern:nt,stringToDate:lt,formControlProps:I,getCalendarProps:ft,getContainerProps:ut,getFieldProps:dt,getIconProps:mt,getPopoverProps:pt,inputProps:it,onClose:j,onOpen:y}},[Kt,ne]=Vt({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),Wt=({closeOnSelect:f=!0,defaultValue:p,placeholder:c,value:m,onChange:C,...n})=>{const[s,d]=ht({defaultValue:p,value:m,onChange:C,onUpdate:(o,t)=>!Pt(o,t)}),{allowInput:k,dateToString:u,inputFormat:E,inputRef:w,locale:R,pattern:F,stringToDate:V,formControlProps:b,getCalendarProps:T,getContainerProps:M,getFieldProps:K,getIconProps:H,getPopoverProps:W,inputProps:D,onClose:N}=At({...n,defaultValue:p,value:s,onChange:o=>{const t=u(o);d(o),P(t),f&&o&&N()},onClear:()=>{d(void 0),P(void 0)},onClose:()=>{var t;const o=u(s);P(o),(t=n.onClose)==null||t.call(n)}}),[B,P]=r.useState(u(s)),v=r.useCallback(o=>{let t=o.target.value;t=t.replace(F,"");const h=V(t);P(t),h&&$(h).isValid()?d(h):d(void 0)},[F,V,P,d]);te(()=>{d(m)},[m]),te(()=>{if(w.current&&Nt(w.current))return;const o=u(s);P(o)},[s]),te(()=>{const o=u(s);P(o)},[R,E]);const z=r.useCallback((o={},t=null)=>{const h={...o.style,...D.style,...b.disabled||!k?{pointerEvents:"none"}:{}};return{autoComplete:"off",placeholder:c,tabIndex:k?0:-1,...b,...D,...o,ref:t,style:h,value:B??"",onChange:A(o.onChange,v)}},[D,k,c,b,B,v]);return{value:s,getCalendarProps:T,getContainerProps:M,getFieldProps:K,getIconProps:H,getInputProps:z,getPopoverProps:W,onClose:N}},tt=ae((f,p)=>{const[c,m]=Yt("DatePicker",f),{className:C,children:n,isClearable:s=!0,clearable:d=s,color:k,h:u,height:E=u,minH:w,minHeight:R=w,clearIconProps:F,containerProps:V,contentProps:b,fieldProps:T,iconProps:M,inputProps:K,portalProps:H={disabled:!0},...W}=xt(m),{value:D,getCalendarProps:N,getContainerProps:B,getFieldProps:P,getIconProps:v,getInputProps:z,getPopoverProps:o,onClose:t}=Wt(W),h={color:k,h:"fit-content",w:"100%",...c.container};return i.jsx(Kt,{value:c,children:i.jsx(Rt,{...o(),children:i.jsxs(J.div,{className:G("ui-date-picker",C),__css:h,...B(V),children:[i.jsxs(J.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[i.jsx(se,{...P({height:E,minHeight:R,...T},p),inputProps:z(K)}),d&&D?i.jsx(ie,{...v({clear:!0,...F})}):i.jsx(ee,{...v({clear:!1,...M})})]}),i.jsx(Ht,{...H,children:i.jsxs(Tt,{as:"div",className:"ui-date-picker__content",__css:{...c.content},...b,children:[i.jsx(kt,{className:"ui-date-picker__calendar",...N()}),Bt(n,{value:D,onClose:t})]})})]})})})});tt.displayName="DatePicker";tt.__ui__="DatePicker";const se=ae(({className:f,inputProps:p,...c},m)=>{const C=ne(),{ref:n,...s}=p??{},d={alignItems:"center",display:"flex",pe:"2rem",...C.field};return i.jsx(Mt,{children:i.jsx(J.div,{className:G("ui-date-picker__field",f),__css:d,...c,children:i.jsx(J.input,{ref:oe(m,n),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...s})})})});se.displayName="DatePickerField";se.__ui__="DatePickerField";const ee=ae(({className:f,children:p,__css:c,...m},C)=>{const s={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...ne().icon,...c},k=St(p).map(u=>r.cloneElement(u,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return i.jsx(J.div,{ref:C,className:G("ui-date-picker__icon",f),__css:s,...m,children:Et(p)?k:i.jsx(re,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const re=({className:f,...p})=>i.jsx(Lt,{className:G("ui-date-picker__icon__calendar",f),viewBox:"0 0 24 24",...p,children:i.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});re.displayName="DatePickerCalendarIcon";re.__ui__="DatePickerCalendarIcon";const ie=({className:f,children:p,...c})=>{const m=r.useRef(null),C=ne(),n=c.disabled,s=Ct({ref:m,disabled:n,...c});return i.jsx(ee,{className:G("ui-date-picker__icon--clear",f),"aria-label":"Clear value",__css:C.clearIcon,...s,children:p??i.jsx(zt,{h:"0.5em",w:"0.5em"})})};ie.displayName="DatePickerClearIcon";ie.__ui__="DatePickerClearIcon";export{tt as D,Kt as a,se as b,ie as c,ee as d,ne as e,At as u};
