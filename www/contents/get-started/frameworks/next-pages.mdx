---
title: Next.js (Pages)
description: A guide for installing and using Yamada UI with Next.js pages directory.
---

## Installation

::::steps

### Create application

Create Next.js application.

:::code-group

```bash [pnpm]
pnpm create next-app my-app --typescript
```

```bash [npm]
npx create-next-app my-app --typescript
```

```bash [yarn]
yarn create next-app my-app --typescript
```

```bash [bun]
bun create next-app my-app --typescript
```

:::

### Setup

Running the command will create the necessary files and folders in your project.

:::code-group

```bash [pnpm]
pnpm dlx @yamada-ui/cli init
```

```bash [npm]
npx @yamada-ui/cli init
```

```bash [yarn]
yarn dlx @yamada-ui/cli init
```

```bash [bun]
bunx @yamada-ui/cli init
```

:::

### Install the package

Install `@workspaces/ui` to your application.

:::code-group

```bash [pnpm]
pnpm add "@workspaces/ui@workspace:*"
```

```bash [npm]
npm install "@workspaces/ui@workspace:*"
```

```bash [yarn]
yarn add "@workspaces/ui@workspace:*"
```

```bash [bun]
bun add "@workspaces/ui@workspace:*"
```

:::

### Add provider

After installing, add `UIProvider` to the root of your application.

```tsx title="_app.tsx" {1,6,8}
import { UIProvider } from "@workspaces/ui"
import type { AppProps } from "next/app"

export default function App({ Component, pageProps }: AppProps) {
  return (
    <UIProvider>
      <Component {...pageProps} />
    </UIProvider>
  )
}
```

### Use components

After adding `UIProvider`, you can use the components in your application.

```tsx title="index.tsx" {1,4}
import { Button } from "@workspaces/ui"

export default function Home() {
  return <Button>Click me!</Button>
}
```

That's it! You've successfully set up Yamada UI.

::::

## Add Scripts

### ColorModeScript

If you want to suppress screen flashing due to color mode, add `ColorModeScript` inside the `body`.

Color mode is implemented using `localStorage` or `cookies`, and adding `ColorModeScript` allows proper synchronization functionality when the page loads.

```tsx title="_document.tsx" {2,9}
import { Html, Head, Main, NextScript } from "next/document"
import { ColorModeScript } from "@workspaces/ui"

export default function Document() {
  return (
    <Html lang="en">
      <Head />
      <body>
        <ColorModeScript />

        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

### ThemeSchemeScript

If you want to suppress screen flashing due to theme scheme, add `ThemeSchemeScript` inside the `body`.

Theme scheme is implemented using `localStorage` or `cookies`, and adding `ThemeSchemeScript` allows proper synchronization functionality when the page loads.

```tsx title="_document.tsx" {2,9}
import { Html, Head, Main, NextScript } from "next/document"
import { ThemeSchemeScript } from "@workspaces/ui"

export default function Document() {
  return (
    <Html lang="en">
      <Head />
      <body>
        <ThemeSchemeScript />

        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

### Specify type

By specifying `"cookie"` for `type`, you can further suppress flashing.

```tsx title="_document.tsx" {2,9-10}
import { Html, Head, Main, NextScript } from "next/document"
import { ColorModeScript, ThemeSchemeScript } from "@workspaces/ui"

export default function Document() {
  return (
    <Html lang="en">
      <Head />
      <body>
        <ColorModeScript type="cookie" />
        <ThemeSchemeScript type="cookie" />

        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

```tsx title="_app.tsx" {5,8}
import { UIProvider } from "@workspaces/ui"
import type { AppProps } from "next/app"

export default function App({ Component, pageProps }: AppProps) {
  const { cookie } = pageProps

  return (
    <UIProvider cookie={cookie}>
      <Component {...pageProps} />
    </UIProvider>
  )
}
```

To standardize `getServerSideProps` across multiple pages, define `getServerSideCommonProps`.

```tsx title="get-server-side-props.ts"
import { GetServerSidePropsContext } from "next"

export const getServerSideCommonProps = ({
  req,
}: GetServerSidePropsContext) => {
  return {
    props: {
      cookies: req.headers.cookie ?? "",
    },
  }
}
```

Add the created `getServerSideCommonProps` to each page.

```tsx title="index.tsx" {1,8}
import { getServerSideCommonProps } from "../get-server-side-props.ts"
import { Button } from "@workspaces/ui"

export default function Home() {
  return <Button>Click me!</Button>
}

export const getServerSideProps = getServerSideCommonProps
```
