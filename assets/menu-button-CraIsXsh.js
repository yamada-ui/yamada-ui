import{j as o}from"./jsx-runtime-Nms4Y4qS.js";import{r as x}from"./index-BwDkhjyp.js";import{u as g,a as h,M as R}from"./menu-list-D4kUEK4z.js";import{a as v}from"./popover-content-CugxI10r.js";import{c as C}from"./icon-Bq_LsFku.js";import{f as d}from"./forward-ref-DKTvpK5d.js";import{e as K,b as w,c as D,d as k,h as F,V as m}from"./factory-CKqVSKj1.js";const _=d(({className:s,children:a,as:n,...e},l)=>{const{onKeyDownRef:f,onUpstreamRestoreFocus:p}=g()??{},{isOpen:r,onOpen:t,onClose:j,onFocusFirstItem:c,onFocusLastItem:y}=h(),I=x.useCallback(i=>{const u={Enter:m(t,c),ArrowDown:m(t,c),ArrowUp:m(t,y)}[i.key];u&&(i.preventDefault(),u())},[c,y,t]),M=x.useCallback(i=>{const u={ArrowRight:r?void 0:m(t,c),ArrowLeft:r?m(p,j):void 0}[i.key];u&&(i.preventDefault(),u())},[r,t,c,p,j]);K(f,M);const A=x.useMemo(()=>n?w(n):B,[n]);return o.jsx(v,{children:o.jsx(A,{ref:l,className:D("ui-menu",s),"aria-haspopup":"menu","aria-expanded":r,...e,"data-active":k(r),onKeyDown:F(e.onKeyDown,I),children:a})})}),B=d((s,a)=>{const{styles:n}=h(),e={display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button};return o.jsx(w.button,{ref:a,__css:e,...s})}),S=d(({className:s,children:a,innerProps:n,icon:e,iconProps:l,...f},p)=>o.jsxs(_,{ref:p,className:D("ui-menu__item-button",s),flex:"1",...f,children:[o.jsx(w.span,{as:"span",flex:"1",...n,children:a}),o.jsx(R,{...l,children:e??o.jsx(C,{fontSize:"1.5em",transform:"rotate(-90deg)"})})]}));export{_ as M,S as a};
