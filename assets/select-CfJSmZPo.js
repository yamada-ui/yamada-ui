import{c as ge,G as he,r as t,i as M,J as be,l as T,H as le,aR as pe,f as fe,m as ve,h as re,O as Ie,e as Se,j as o,b as je,a as ke,g as Oe,X as ye,s as ce,L as de}from"./iframe-5QspZtQ-.js";import{u as Me,a as Re,c as Fe,b as Ge,C as Ae,d as Ee,s as Ve,e as De,f as we,g as Le}from"./index-C3Uagu8x.js";import{u as Te}from"./index-xocwRrSJ.js";import{u as Be}from"./use-field-props-BSPmBEwJ.js";import{u as Ke}from"./input-ClZ3yx_T.js";import{u as He}from"./group-OikBWKOl.js";import{u as Ne,P as Xe,a as qe,b as Je}from"./popover-D5GdWkkL.js";import{u as Ue}from"./use-input-border-DCrAv45g.js";import{I as We,a as ze}from"./input-group-uzNQrJkv.js";import{C as Qe}from"./check-icon-cbLoYFR9.js";import{C as Ye}from"./chevron-down-icon-qiahlFRr.js";const Ze=({count:s,index:r,label:i,separator:p,value:l})=>{const d=s-1===r;return o.jsxs("span",{style:{marginInlineEnd:"var(--gap)"},"data-placeholder":je(l===""),children:[i,d?null:p]})},[_e,$e]=ge({name:"SelectContext"}),eo=(s={})=>{const{t:r}=he("select"),{context:{labelId:i}={},props:{id:p,name:l,multiple:d=!1,closeOnSelect:C=!d,defaultValue:c=d?[]:"",disabled:x,focusOnClear:R=!0,includePlaceholder:O=!d,items:y=[],max:I,placeholder:u,readOnly:V,render:B=Ze,required:D,separator:w=",",value:K,onChange:H,...Q},ariaProps:Y,dataProps:P,eventProps:Z}=Be(s),S=t.useRef(null),[a,j]=Te({defaultValue:c,value:K,onChange:H}),g=t.useCallback(e=>{j(n=>M(n)?n.includes(e)?n.filter(m=>m!==e):!be(I)||n.length<I?[...n,e]:n:e)},[I,j]),k=t.useMemo(()=>{const e=[...y];return u&&e.unshift({hidden:!O,label:u,value:""}),e},[y,u,O]),F=t.useMemo(()=>!k.filter(({hidden:e})=>!e).length,[k]),{descendants:h,interactive:b,open:_,getContentProps:N,getSeparatorProps:$,getTriggerProps:X,onActiveDescendant:ee,onClose:q,onOpen:J,onSelect:U}=Me({closeOnSelect:C,disabled:x,initialFocusValue:M(a)?a[0]:a,readOnly:V,onChange:g,...Y,...P,...Z,...Q}),f=t.useMemo(()=>{const e={};return k.forEach(n=>{"items"in n?n.items.forEach(m=>{m.value??=T(m.label)?m.label:void 0,le(m.value)||(e[m.value]=m)}):(n.value??=T(n.label)?n.label:void 0,le(n.value)||(e[n.value]=n))}),e},[k]),G=t.useMemo(()=>M(a)?a.length?pe(a.map(e=>f[e])):u?[{label:u,value:""}]:[]:T(a)?pe(f[a]):[],[u,a,f]),L=t.useMemo(()=>{const e=G.length;return G.map((n,m)=>{const z=B({count:e,index:m,separator:w,onClear:ie=>{ie?.preventDefault(),ie?.stopPropagation(),n.value&&g(n.value)},...n});return t.isValidElement(z)?t.cloneElement(z,{...z.props,key:m}):z})},[g,B,G,w]),W=t.useCallback(()=>{!b||!S.current||S.current.focus()},[b]),A=t.useCallback(()=>{b&&(j(e=>M(e)?[]:""),S.current&&R&&S.current.focus())},[R,b,j]),oe=t.useCallback(e=>({...P,...e}),[P]),te=t.useCallback(({ref:e,"aria-labelledby":n,...m}={})=>X({ref:ve(e,S),"aria-label":u,"aria-labelledby":fe(n,i),...m,children:L}),[L,X,i,u]),se=t.useCallback((e={})=>({...P,...Ie,id:p,name:l,defaultValue:T(a)?a:a.join(", "),disabled:x,readOnly:V,required:D,...e,onFocus:re(e.onFocus,W)}),[P,x,p,l,W,V,D,a]),ne=t.useCallback(e=>N({hidden:F,...e}),[F,N]),E=t.useCallback(e=>({...P,...e}),[P]),Pe=t.useCallback((e={})=>E({"aria-disabled":Se(!b),"aria-label":r("Clear value"),role:"button",tabIndex:b?0:-1,...e,onClick:re(e.onClick,A),onKeyDown:re(e.onKeyDown,n=>ke(n,{Enter:A,Space:A}))}),[E,b,A,r]);return{descendants:h,includePlaceholder:O,interactive:b,items:k,max:I,open:_,placeholder:u,setValue:j,value:a,valueMap:f,getClearIconProps:Pe,getContentProps:ne,getFieldProps:te,getIconProps:E,getInputProps:se,getRootProps:oe,getSeparatorProps:$,onActiveDescendant:ee,onChange:g,onClose:q,onOpen:J,onSelect:U}},oo=({children:s,closeOnSelect:r,disabled:i,hidden:p,value:l,...d}={})=>{const{max:C,value:c}=$e();l??=T(s)?s:void 0;const x=M(c)?!le(l)&&c.includes(l):c===l,R=be(C)&&M(c)&&c.length>=C,{getIndicatorProps:O,getItemProps:y}=Re({children:s,closeOnSelect:r,disabled:i||p||R&&!x,hidden:p,selected:x,value:l,...d}),I=t.useCallback((u={})=>y(u),[y]);return{getIndicatorProps:O,getOptionProps:I}},{ComponentContext:to,useComponentContext:ue,withContext:v,withProvider:so}=Oe("select",Ve),vo=so(s=>{const[r,i]=He(s),[p,{className:l,css:d,colorScheme:C,children:c,clearable:x,clearIcon:R=o.jsx(ye,{}),errorBorderColor:O,focusBorderColor:y,icon:I,items:u,contentProps:V,elementProps:B,groupProps:D,iconProps:w,optionProps:K,placeholderProps:H,rootProps:Q,...Y}]=Ne(i,["disabled","open","defaultOpen","onOpen","onClose","openOnClick"]),P=t.useMemo(()=>u||Fe(c,{Group:Ce,Label:xe,Option:ae}),[u,c]),{descendants:Z,includePlaceholder:S,interactive:a,items:j,max:g,open:k,placeholder:F,value:h,getClearIconProps:b,getContentProps:_,getFieldProps:N,getIconProps:$,getInputProps:X,getRootProps:ee,getSeparatorProps:q,onActiveDescendant:J,onChange:U,onClose:f,onOpen:G,onSelect:L}=eo({items:P,...Y}),W=t.useMemo(()=>({animationScheme:"block-start",autoFocus:!1,matchWidth:!0,...p,disabled:!a,open:k,onClose:f,onOpen:G}),[a,f,G,k,p]),A=t.useMemo(()=>c?o.jsxs(o.Fragment,{children:[F?o.jsx(ae,{...H,hidden:!S,value:"",children:F}):null,c]}):Ge(j,{Group:Ce,Option:ae}),[c,j,F,S,H]),oe=Ue({errorBorderColor:O,focusBorderColor:y}),te=t.useMemo(()=>({max:g,value:h,onActiveDescendant:J,onChange:U,onClose:f,onSelect:L}),[g,J,U,f,L,h]),se=t.useMemo(()=>({max:g,value:h}),[g,h]),ne=t.useMemo(()=>({getSeparatorProps:q,groupProps:D,optionProps:K}),[q,D,K]),E=M(h)?!!h.length:!!h;return o.jsx(Ae,{value:Z,children:o.jsx(Ee,{value:te,children:o.jsx(_e,{value:se,children:o.jsx(to,{value:ne,children:o.jsxs(Xe,{...W,children:[o.jsx(ce.input,{...X()}),o.jsxs(We,{className:l,css:d,colorScheme:C,...ee({...r,...Q}),children:[o.jsx(qe,{children:o.jsx(no,{...N(oe)})}),o.jsx(ze,{clickable:x&&E,...B,children:x&&E?o.jsx(me,{icon:R,...b(w)}):o.jsx(me,{icon:I,...$(w)})})]}),o.jsx(ao,{...de(_(de(V))),children:A})]})})})})})},"root")(s=>({...Ke(),...s})),no=v("div","field")({"data-group-propagate":""},({children:s,...r})=>({...r,children:o.jsx(ro,{children:s})})),me=v("div","icon")(void 0,({children:s,icon:r,...i})=>({children:r||s||o.jsx(Ye,{}),...i})),ro=v("span","valueText")(),ao=v(Je,"content")(),xe=v("span","label")(void 0,s=>{const{getLabelProps:r}=Le();return r(s)}),Ce=v(({children:s,label:r,labelProps:i,...p})=>{const{groupProps:l}=ue(),{getGroupProps:d,getLabelProps:C}=De({...l,...p}),c=t.useMemo(()=>({getLabelProps:C}),[C]);return o.jsx(we,{value:c,children:o.jsxs(ce.div,{...d(),children:[r?o.jsx(xe,{...i,children:r}):null,s]})})},"group")(),ae=v(({children:s,icon:r,...i})=>{const{optionProps:{icon:p,...l}={}}=ue(),{getIndicatorProps:d,getOptionProps:C}=oo({...l,...i});return o.jsxs(ce.div,{...C(),children:[o.jsx(lo,{...d(),children:r??p??o.jsx(Qe,{})}),s]})},"option")(),lo=v("div","indicator")(),Io=v("hr","separator")(void 0,s=>{const{getSeparatorProps:r}=ue();return r(s)});export{vo as S,ae as a,Ce as b,xe as c,Io as d};
