---
title: ColorPicker
description: "`ColorPicker`は、ユーザーが色を選択したり任意の色の値を入力するために使用されるコンポーネントです。"
storybook: components-colorpicker--basic
source: components/color-picker
---

```tsx preview
<ColorPicker placeholder="#4387f4" />
```

## 使い方

:::code-group

```tsx [package]
import { ColorPicker } from "@yamada-ui/react"
```

```tsx [alias]
import { ColorPicker } from "@/components/ui"
```

```tsx [monorepo]
import { ColorPicker } from "@workspaces/ui"
```

:::

```tsx
<ColorPicker />
```

### バリアントを変更する

```tsx preview
<VStack>
  <For each={["outline", "filled", "flushed", "plain"]}>
    {(variant, index) => (
      <ColorPicker
        key={index}
        variant={variant}
        placeholder={toTitleCase(variant)}
      />
    )}
  </For>
</VStack>
```

### サイズを変更する

```tsx preview
<VStack>
  <For each={["xs", "sm", "md", "lg", "xl"]}>
    {(size, index) => (
      <ColorPicker key={index} size={size} placeholder={`Size (${size})`} />
    )}
  </For>
</VStack>
```

### カラースキームを変更する

```tsx preview
<VStack>
  <For each={["success", "warning"]}>
    {(colorScheme, index) => (
      <ColorPicker
        key={index}
        colorScheme={colorScheme}
        placeholder="#4387f4"
      />
    )}
  </For>
</VStack>
```

### デフォルトの値を設定する

デフォルトの値を設定する場合は、`defaultValue`に値を設定します。

```tsx preview
<ColorPicker defaultValue="#4387f4" placeholder="#4387f4" />
```

### アルファ値を設定する

アルファ値を設定する場合は、`defaultValue`にアルファ値を含む値を設定するか、`format`に`"hexa"`や`"hsla"`などを設定します。

```tsx preview
<ColorPicker defaultValue="#775999A0" placeholder="#775999A0" />
```

### フォーマットを変更する

フォーマットを変更する場合は、`format`に値を設定します。デフォルトでは、`value`または`defaultValue`の文字列からフォーマットを判定しています。

```tsx preview
<ColorPicker placeholder="hsl(0, 100%, 50%)" format="hsl" />
```

### 入力値を制限する

入力値を制限する場合は、`pattern`に正規表現を設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" pattern={/[^a-fA-F0-9#]/g} />
```

### 入力値をフォーマットする

入力値をフォーマットする場合は、`formatInput`に関数を設定します。

```tsx preview client
<ColorPicker
  placeholder="#4387f4"
  pattern={/[^a-fA-F0-9#]/g}
  formatInput={(value) => value.toUpperCase()}
/>
```

### 候補を表示する

候補を表示する場合は、`colorSwatches`に配列を設定します。

```tsx preview
<ColorPicker
  placeholder="#4387f4"
  colorSwatches={[
    "hsl(0, 100%, 50%)",
    "hsl(45, 100%, 50%)",
    "hsl(90, 100%, 50%)",
    "hsl(135, 100%, 50%)",
    "hsl(180, 100%, 50%)",
    "hsl(225, 100%, 50%)",
    "hsl(270, 100%, 50%)",
    "hsl(315, 100%, 50%)",
  ]}
  colorSwatchGroupLabel="Pick a color"
/>
```

### 候補の列を変更する

候補の列を変更する場合は、`colorSwatchGroupColumns`に数値を設定します。

```tsx preview
<ColorPicker
  placeholder="#4387f4"
  colorSwatches={[
    "hsl(0, 100%, 50%)",
    "hsl(36, 100%, 50%)",
    "hsl(72, 100%, 50%)",
    "hsl(108, 100%, 50%)",
    "hsl(144, 100%, 50%)",
    "hsl(180, 100%, 50%)",
    "hsl(216, 100%, 50%)",
    "hsl(252, 100%, 50%)",
    "hsl(288, 100%, 50%)",
    "hsl(324, 100%, 50%)",
  ]}
  colorSwatchGroupLabel="Pick a color"
  colorSwatchGroupColumns={10}
/>
```

### オフセットを変更する

オフセットを変更する場合は、`gutter`または`offset`に値を設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" gutter={16} />
```

### アニメーションを変更する

アニメーションを変更する場合は、`animationScheme`に`"block-start"`や`"inline-end"`などを設定します。デフォルトでは、`"scale"`が設定されています。

```tsx preview
<ColorPicker placeholder="#4387f4" animationScheme="inline-start" />
```

### 表示位置を変更する

表示位置を変更するには、`placement`に`end`や`start-center`などを設定します。デフォルトでは、`end-start`が設定されています。

```tsx preview
<ColorPicker
  placeholder="#4387f4"
  animationScheme="inline-start"
  placement="center-end"
  rootProps={{ w: "xs" }}
/>
```

### スクロールをブロックする

スクロールをブロックするには、`blockScrollOnMount`を`true`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" blockScrollOnMount />
```

### スクロール時にドロップダウンを閉じる

スクロール時にドロップダウンを閉じる場合は、`closeOnScroll`を`true`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" closeOnScroll />
```

### 変更時にドロップダウンを開くイベントをハンドルする

変更時にドロップダウンを開くイベントをハンドルする場合は、`openOnChange`に関数を設定します。

```tsx preview client
<ColorPicker
  placeholder="#4387f4"
  openOnFocus={false}
  openOnChange={(ev) => ev.target.value.length > 1}
/>
```

### 変更時にドロップダウンを閉じるイベントをハンドルする

変更時にドロップダウンを閉じるイベントをハンドルする場合は、`closeOnChange`に関数を設定します。

```tsx preview client
<ColorPicker
  placeholder="#4387f4"
  openOnFocus={false}
  closeOnChange={(ev) => !ev.target.value.length}
/>
```

### フォーカス時にドロップダウンを開かない

フォーカス時にドロップダウンを開かない場合は、`openOnFocus`を`false`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" openOnFocus={false} />
```

### クリック時にドロップダウンを開かない

クリック時にドロップダウンを開かない場合は、`openOnClick`を`false`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" openOnClick={false} />
```

### フォーカスが外れた場合に閉じない

フォーカスが外れた場合にドロップダウンを閉じない場合は、`closeOnBlur`を`false`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" closeOnBlur={false} />
```

### ESCキーが入力された時にドロップダウンを閉じない

ESCキーが入力された時にドロップダウンを閉じない場合は、`closeOnEsc`を`false`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" closeOnEsc={false} />
```

### 入力を許可しない

入力を許可しない場合は、`allowInput`を`false`に設定します。

```tsx preview
<ColorPicker placeholder="#4387f4" allowInput={false} />
```

### 形を変える

```tsx preview
<VStack>
  <For each={["rounded", "circle", "square"]}>
    {(shape, index) => (
      <ColorPicker
        key={index}
        placeholder="#4387f4"
        selectorProps={{ shape }}
      />
    )}
  </For>
</VStack>
```

### 無効にする

無効にする場合は、`disabled`を`true`に設定します。

```tsx preview
<VStack>
  <For each={["outline", "filled", "flushed"]}>
    {(variant, index) => (
      <ColorPicker
        key={index}
        variant={variant}
        disabled
        placeholder={toTitleCase(variant)}
      />
    )}
  </For>
</VStack>
```

### 読み取り専用にする

読み取り専用にする場合は、`readOnly`を`true`に設定します。

```tsx preview
<VStack>
  <For each={["outline", "filled", "flushed"]}>
    {(variant, index) => (
      <ColorPicker
        key={index}
        variant={variant}
        readOnly
        placeholder={toTitleCase(variant)}
      />
    )}
  </For>
</VStack>
```

### 無効な入力にする

無効な入力にする場合は、`invalid`を`true`に設定します。

```tsx preview
<VStack>
  <For each={["outline", "filled", "flushed"]}>
    {(variant, index) => (
      <ColorPicker
        key={index}
        variant={variant}
        invalid
        placeholder={toTitleCase(variant)}
      />
    )}
  </For>
</VStack>
```

### ボーダーの色を変更する

ボーダーの色を変更する場合は、`focusBorderColor`または`errorBorderColor`に値を設定します。

```tsx preview
<VStack>
  <ColorPicker focusBorderColor="green.500" placeholder="custom border color" />
  <ColorPicker
    invalid
    errorBorderColor="orange.500"
    placeholder="custom border color"
  />
</VStack>
```

### 制御する

```tsx preview functional
const [value, onChange] = useState<string>("#4387f4")

return <ColorPicker value={value} onChange={onChange} />
```

## Props

<PropsTable name="color-picker" />

## アクセシビリティ

`ColorPicker`は、アクセシビリティに関して[WAI-ARIA - Combobox Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/combobox/)に従います。

`Field.Root`を使用しない場合は、`ColorPicker`に`aria-label`または`aria-labelledby`を設定します。

```tsx
<ColorPicker placeholder="#4387f4" aria-label="Pick color" />
```

```tsx
<VStack gap="sm">
  <Heading as="h3" id="label">
    Pick Color
  </Heading>

  <ColorPicker placeholder="#4387f4" aria-labelledby="label" />
</VStack>
```

## キーボード操作

| キー                    | 説明                                                                                   | 状態                 |
| ----------------------- | -------------------------------------------------------------------------------------- | -------------------- |
| `Tab`                   | フォーカスがカラーピッカーに移動するとダイアログを開きます。                           | `openOnFocus={true}` |
| `Escape`                | ダイアログを閉じます。                                                                 | `closeOnEsc={true}`  |
| `ArrowRight`,`ArrowUp`  | スライダー内である場合は`step`の値に基づいて値を増加します。                           | -                    |
| `ArrowLeft`,`ArrowDown` | スライダー内である場合は`step`の値に基づいて値を減少します。                           | -                    |
| `Home`                  | `HueSlider`または`AlphaSlider`内である場合は`min`の値を設定します。                    | -                    |
| `End`                   | `HueSlider`または`AlphaSlider`内である場合は`max`の値を設定します。                    | -                    |
| `PageUp`                | `HueSlider`または`AlphaSlider`内である場合は`min`と`max`の値に基づいて値を増加します。 | -                    |
| `PageDown`              | `HueSlider`または`AlphaSlider`内である場合は`min`と`max`の値に基づいて値を減少します。 | -                    |

## ARIAロールと属性

| コンポーネント           | ロールと属性             | 使い方                                                                                                                                                                                        |
| ------------------------ | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ColorPickerField`       | `role="combobox"`        | コンボボックスであることを示します。                                                                                                                                                          |
|                          | `aria-controls`          | ダイアログが開いている場合は関連した`ColorPickerContent`の`id`を設定し、閉じている場合は`undefined`を設定します。                                                                             |
|                          | `aria-describedby`       | `ColorPicker`が`Field.Root`内にあり、`Field.Root`に`errorMessage`または`helperMessage`、もしくは`Field.ErrorMessage`または`Field.HelperMessage`が設定されている場合は、その`id`を設定します。 |
|                          | `aria-disabled`          | `disabled`または`readOnly`が設定されている場合は`"true"`を設定します。                                                                                                                        |
|                          | `aria-expanded`          | ダイアログが開いている場合は`"true"`を設定し、閉じている場合は`"false"`を設定します。                                                                                                         |
|                          | `aria-haspopup="dialog"` | ダイアログが存在することを示します。                                                                                                                                                          |
|                          | `aria-invalid`           | `invalid`が設定されている場合は`"true"`を設定します。                                                                                                                                         |
|                          | `aria-readonly`          | `readOnly`が設定されている場合は`"true"`を設定します。                                                                                                                                        |
|                          | `aria-required`          | `required`が設定されている場合は`"true"`を設定します。                                                                                                                                        |
| `ColorPickerEyeDropper`  | `role="button"`          | ボタンであることを示します。                                                                                                                                                                  |
|                          | `aria-disabled`          | `disabled`または`readOnly`が設定されている場合は`"true"`を設定します。                                                                                                                        |
|                          | `aria-label`             | `"色を選択する"`を設定します。                                                                                                                                                                |
| `ColorPickerContent`     | `role="dialog"`          | ダイアログであることを示します。                                                                                                                                                              |
| `ColorPickerColorSwatch` | `role="img"`             | 画像であることを示します。                                                                                                                                                                    |
|                          | `aria-label`             | 現在の値を設定します。                                                                                                                                                                        |
|                          | `aria-roledescription`   | `"color swatch"`を設定します。                                                                                                                                                                |
| `SaturationSlider.Thumb` | `role="slider"`          | スライダーであることを示します。                                                                                                                                                              |
|                          | `aria-label`             | `"彩度と明度のつまみ"`を設定します。                                                                                                                                                          |
|                          | `aria-roledescription`   | `"2D slider"`を設定します。                                                                                                                                                                   |
|                          | `aria-valuemin`          | `min`の値を設定します。デフォルトは`0`です。                                                                                                                                                  |
|                          | `aria-valuemax`          | `max`の値を設定します。デフォルトは`100`です。                                                                                                                                                |
|                          | `aria-valuenow`          | 現在の値を設定します。                                                                                                                                                                        |
|                          | `aria-valuetext`         | `"彩度 18%, 明度 18%"`のように、現在の値を設定します。                                                                                                                                        |
| `HueSlider.Thumb`        | `role="slider"`          | スライダーであることを示します。                                                                                                                                                              |
|                          | `aria-label`             | `"スライダーのつまみ"`を設定します。                                                                                                                                                          |
|                          | `aria-orientation`       | `orientation`の値に基づいて`"horizontal"`または`"vertical"`を設定します。デフォルトは`"horizontal"`です。                                                                                     |
|                          | `aria-valuemin`          | `min`の値を設定します。デフォルトは`0`です。                                                                                                                                                  |
|                          | `aria-valuemax`          | `max`の値を設定します。デフォルトは`360`です。                                                                                                                                                |
|                          | `aria-valuenow`          | 現在の値を設定します。                                                                                                                                                                        |
|                          | `aria-valuetext`         | `"18°, 赤"`のように、現在の値を設定します。                                                                                                                                                   |
| `AlphaSlider.Thumb`      | `role="slider"`          | スライダーであることを示します。                                                                                                                                                              |
|                          | `aria-label`             | `"スライダーのつまみ"`を設定します。                                                                                                                                                          |
|                          | `aria-orientation`       | `orientation`の値に基づいて`"horizontal"`または`"vertical"`を設定します。デフォルトは`"horizontal"`です。                                                                                     |
|                          | `aria-valuemin`          | `min`の値を設定します。デフォルトは`0`です。                                                                                                                                                  |
|                          | `aria-valuemax`          | `max`の値を設定します。デフォルトは`1`です。                                                                                                                                                  |
|                          | `aria-valuenow`          | 現在の値を設定します。                                                                                                                                                                        |
|                          | `aria-valuetext`         | `"18%"`のように、現在の値を設定します。                                                                                                                                                       |
