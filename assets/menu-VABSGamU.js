import{n as re,o as ae,I as ue,c as K,r as o,E as U,a as $,h as T,b as H,e as _,m as q,f as Q,aj as X,a2 as ce,l as W,i as Z,N as le,g as ie,j as s,L as Y,s as V}from"./iframe-3lFlqlPN.js";import{m as de}from"./menu.style-DA6cgZk0.js";import{u as me}from"./index-DSTy9S8Z.js";import{c as Ce}from"./index-Bv18usNi.js";import{u as ge}from"./use-disclosure-BkkWdJ4u.js";import{d as pe,P as xe,a as fe,b as Me,e as be}from"./popover-CN4Q__gs.js";import{C as he}from"./chevron-right-icon-gA6ermul.js";import{C as ke}from"./check-icon-xFG3IDAu.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],ve=re("circle-small",je),De=ae(ue)({as:ve}),{DescendantsContext:Pe,useDescendant:ye,useDescendantRegister:Se,useDescendants:Ie}=Ce(),[Re,ee]=K({name:"MenuContext"}),[Ae,we]=K({name:"MenuGroupContext"}),[Te,Fe]=K({name:"MainMenuContext",strict:!1}),[Ee,Ge]=K({name:"MenuOptionGroupContext"}),Ve=({closeOnSelect:t,defaultOpen:n,disabled:e=!1,open:g,subMenuDirection:a="end",onClose:r,onOpen:c,onSelect:p}={})=>{const h=o.useId(),d=o.useId(),M=Ie(),f=o.useRef(U),j=o.useRef(U),m=o.useRef(null),{open:u,onClose:b,onOpen:l}=ge({defaultOpen:n,open:g,onClose:r,onOpen:c}),v=o.useCallback(()=>j.current(),[]),x=o.useCallback((k,R={preventScroll:!0})=>{!m.current||!k||e||(m.current.setAttribute("aria-activedescendant",k.id),M.active(k,R))},[M,e]),{mainCloseOnSelect:I,subMenu:y,getSubMenuProps:S,onMainSelect:w}=Ke({descendants:M,disabled:e,open:u,subMenuDirection:a,onActiveDescendant:x,onClose:b,onOpen:l});t??(t=I??!0);const C=o.useCallback((k,R=t)=>{e||(p==null||p(k),w==null||w(k,R),R&&b())},[t,e,b,w,p]),i=o.useCallback(k=>{e||(k.preventDefault(),u?b():l())},[e,b,l,u]),D=o.useCallback(k=>{e||(k.preventDefault(),l(),f.current())},[e,l]),P=o.useCallback(k=>{e||$(k,{ArrowDown:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();x(R)})},ArrowUp:()=>{l(),setTimeout(()=>{const R=M.enabledLastValue();x(R)})},Enter:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();x(R)})},Space:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();x(R)})}})},[M,e,x,l]),G=o.useCallback((k={})=>({...S({id:h,"aria-controls":u?d:void 0,"aria-disabled":_(e),"aria-expanded":u,"aria-haspopup":"menu","data-trigger":H(!0),role:"button",tabIndex:e?-1:0,...k,onClick:T(k.onClick,i),onKeyDown:T(k.onKeyDown,P)})}),[d,e,S,i,P,u,h]),E=o.useCallback((k={})=>({id:h,"aria-controls":u?d:void 0,"aria-disabled":_(e),"aria-expanded":u,"aria-haspopup":"menu","data-trigger":H(!0),role:"application",...k,onContextMenu:T(k.onContextMenu,D)}),[d,e,D,u,h]),O=o.useCallback(({ref:k,"aria-labelledby":R,...se}={})=>({id:d,"aria-labelledby":Q(R,h),role:"menu",...se,ref:q(k,m)}),[d,h]),N=o.useCallback(k=>({role:"separator",...k}),[]);return{closeOnSelect:t,descendants:M,open:u,subMenu:y,subMenuDirection:a,updateRef:f,getContentProps:O,getContextTriggerProps:E,getSeparatorProps:N,getTriggerProps:G,onActiveDescendant:x,onClose:b,onCloseRef:j,onCloseSubMenu:v,onOpen:l,onSelect:C}},Ke=({descendants:t,disabled:n=!1,open:e,subMenuDirection:g="end",onActiveDescendant:a,onClose:r,onOpen:c})=>{const p=o.useId(),{closeOnSelect:h,descendants:d,onActiveDescendant:M,onCloseRef:f,onSelect:j}=Fe()??{},m=!!d&&!!M,u=Se(d),b=o.useRef(null),l=o.useCallback(C=>(C??(C=b.current),C?X(C.getAttribute("data-disabled")):!1),[]),v=o.useCallback(C=>(C??(C=b.current),C?X(C.getAttribute("aria-disabled")):!1),[]),x=o.useCallback(C=>{m&&(C.defaultPrevented=n||l()||v())},[v,l,n,m]),I=o.useCallback(()=>{!m||n||l()||v()||c()},[v,l,n,c,m]),y=o.useCallback(C=>{if(!m||n||l()||v())return;const i=t.value(b.current);M(i),C.defaultPrevented=!0},[v,l,t,n,M,m]),S=o.useCallback(C=>{if(!m||n)return;const i=e?t:d,D=e?a:M;$(C,{ArrowDown:()=>{const P=i.enabledNextValue(b.current);D(P),C.defaultPrevented=!0},ArrowUp:()=>{const P=i.enabledPrevValue(b.current);D(P),C.defaultPrevented=!0},End:()=>{const P=i.enabledLastValue();D(P),C.defaultPrevented=!0},Home:()=>{const P=i.enabledFirstValue();D(P),C.defaultPrevented=!0},[g==="end"?"ArrowRight":"ArrowLeft"]:()=>{c(),setTimeout(()=>{const P=t.enabledFirstValue();a(P)}),C.defaultPrevented=!0}})},[m,n,e,t,d,a,M,g,c]);ce(f,r);const w=o.useCallback(({id:C=p,ref:i,...D}={})=>{const G=u({id:C,disabled:E=>n||l(E)||v(E)});return{role:m?"menuitem":"button",...D,ref:q(i,b,G),onClick:T(x,D.onClick),onKeyDown:T(S,D.onKeyDown),onMouseEnter:T(I,D.onMouseEnter),onMouseMove:T(y,D.onMouseMove)}},[p,m,u,x,S,I,y,n,l,v]);return{mainCloseOnSelect:h,subMenu:m,getSubMenuProps:w,onMainSelect:j}},Le=({"aria-labelledby":t,...n})=>{const e=o.useId(),g=o.useCallback(({"aria-labelledby":r,...c}={})=>({"aria-labelledby":Q(t,r,e),role:"group",...n,...c}),[t,e,n]),a=o.useCallback(r=>({id:e,role:"presentation",...r}),[e]);return{getGroupProps:g,getLabelProps:a}},ne=({id:t,"aria-disabled":n,"data-disabled":e,"data-trigger":g,closeOnSelect:a,disabled:r=!1,value:c,...p})=>{const h=X(g),{subMenu:d,subMenuDirection:M,onActiveDescendant:f,onClose:j,onCloseSubMenu:m,onSelect:u}=ee(),b=o.useId(),l=o.useRef(null),v=d&&h;t??(t=b);const{descendants:x,register:I}=ye({id:t,disabled:r||v}),y=o.useCallback(()=>{if(r)return;const C=x.value(l.current);f(C)},[x,r,f]),S=o.useCallback(C=>{$(C,{ArrowDown:()=>{const i=x.enabledNextValue(l.current);f(i)},ArrowUp:()=>{const i=x.enabledPrevValue(l.current);f(i)},End:()=>{const i=x.enabledLastValue();f(i)},Enter:()=>u(c,a),Home:()=>{const i=x.enabledFirstValue();f(i)},Space:()=>u(c,a),[M==="end"?"ArrowLeft":"ArrowRight"]:()=>{if(!d)return;j();const i=x.firstValue();i==null||i.node.focus()}})},[a,x,f,j,u,d,M,c]),w=o.useCallback(({ref:C,...i}={})=>({id:t,"aria-disabled":n??_(r),"data-disabled":e??H(r),role:"menuitem",tabIndex:-1,...p,...i,ref:q(C,p.ref,l,I),onClick:T(i.onClick,p.onClick,()=>u(c,a)),onFocus:T(i.onFocus,p.onFocus,y),onKeyDown:T(i.onKeyDown,p.onKeyDown,S),onMouseMove:T(i.onMouseMove,p.onMouseMove,()=>{m(),y()})}),[t,n,r,e,p,I,y,S,u,c,a,m]);return{subMenuTrigger:v,getItemProps:w}},Oe=({type:t="checkbox",defaultValue:n=t==="checkbox"?[]:"",value:e,onChange:g})=>{const[a,r]=me({defaultValue:n,value:e,onChange:g}),c=t==="radio",p=o.useCallback(h=>{r(d=>c&&W(d)?h:!c&&Z(d)?d.includes(h)?d.filter(M=>M!==h):d.concat(h):d)},[c,r]);return le(()=>{r(e)},[e]),{type:t,value:a,onChange:p}},Ne=({disabled:t,value:n,...e})=>{const{type:g,value:a,onChange:r}=Ge(),{getItemProps:c}=ne({disabled:t,value:n,...e}),p=g==="radio"&&W(a),h=g==="checkbox"&&Z(a),d=p?n===a:h?a.includes(n):!1,M=o.useCallback(({style:j,...m}={})=>({style:{opacity:d?1:0,...j},...m}),[d]),f=o.useCallback((j={})=>c({role:p?"menuitemradio":"menuitemcheckbox",...j,onClick:T(j.onClick,()=>t?U:r==null?void 0:r(n))}),[t,c,r,p,n]);return{type:g,selected:d,getIndicatorProps:M,getOptionItemProps:f}},{ComponentContext:Ue,StyleContext:He,useComponentContext:L,withContext:A,useRootComponentProps:_e}=ie("menu",de),tn=t=>{const[n,e]=_e(t),[{animationScheme:g,initialFocusRef:a,offset:r,placement:c,...p},{children:h,disabled:d,...M}]=pe(e,["disabled","open","defaultOpen","onOpen","onClose"]),{closeOnSelect:f,descendants:j,open:m,subMenu:u,subMenuDirection:b,updateRef:l,getContentProps:v,getContextTriggerProps:x,getSeparatorProps:I,getTriggerProps:y,onActiveDescendant:S,onClose:w,onCloseRef:C,onCloseSubMenu:i,onOpen:D,onSelect:P}=Ve({disabled:d,...M}),G=o.useMemo(()=>({...p,animationScheme:g??(u?"inline-start":"block-start"),autoFocus:!!a,disabled:d,initialFocusRef:a,offset:r??(u?[0,0]:void 0),open:m,placement:c??(u?`center-${b}`:"end-start"),updateRef:l,onClose:w,onOpen:D}),[g,d,a,r,w,D,m,c,p,u,b,l]),E=o.useMemo(()=>({subMenu:u,subMenuDirection:b,onActiveDescendant:S,onClose:w,onCloseSubMenu:i,onOpen:D,onSelect:P}),[w,D,P,S,u,b,i]),O=o.useMemo(()=>({closeOnSelect:f,descendants:j,onActiveDescendant:S,onCloseRef:C,onSelect:P}),[f,j,S,C,P]),N=o.useMemo(()=>({getContentProps:v,getContextTriggerProps:x,getSeparatorProps:I,getTriggerProps:y}),[v,x,I,y]);return s.jsx(He,{value:n,children:s.jsx(Pe,{value:j,children:s.jsx(Re,{value:E,children:s.jsx(Te,{value:O,children:s.jsx(Ue,{value:N,children:s.jsx(xe,{...G,children:h})})})})})})},on=A(fe,"trigger")(void 0,t=>{const{getTriggerProps:n}=L();return Y(n(Y(t)))}),sn=A(({children:t,onContextMenu:n,...e})=>{const[g,a]=o.useState({left:0,top:0}),{getContextTriggerProps:r}=L();return s.jsxs(s.Fragment,{children:[s.jsx(Xe,{children:s.jsx(V.div,{style:{position:"fixed",...g}})}),s.jsx(V.div,{asChild:!0,...r({onContextMenu:T(n,c=>{a({left:c.clientX,top:c.clientY})}),...e}),children:t})]})},"contextTrigger")(),Xe=A(be,"anchor")(),rn=A(Me,"content")(void 0,({children:t,footer:n,header:e,items:g=[],footerProps:a,headerProps:r,portalProps:c,...p})=>{const{subMenu:h}=ee(),{getContentProps:d}=L(),M=o.useMemo(()=>t||s.jsxs(s.Fragment,{children:[e?s.jsx(Ye,{...r,children:e}):null,g.map((f,j)=>{if("type"in f)if(f.type==="radio"){const{type:m,hasSeparator:u=!0,hasEndSeparator:b=u,hasStartSeparator:l=u,items:v=[],...x}=f;return s.jsxs(o.Fragment,{children:[l?s.jsx(F,{}):null,s.jsx(z,{type:m,...x,children:v.map(({label:I,...y},S)=>s.jsx(J,{...y,children:I},S))}),b?s.jsx(F,{}):null]},j)}else if(f.type==="checkbox"){const{type:m,hasSeparator:u=!0,hasEndSeparator:b=u,hasStartSeparator:l=u,items:v=[],...x}=f;return s.jsxs(o.Fragment,{children:[l?s.jsx(F,{}):null,s.jsx(z,{type:m,...x,children:v.map(({label:I,...y},S)=>s.jsx(J,{...y,children:I},S))}),b?s.jsx(F,{}):null]},j)}else return s.jsx(F,{},j);else if("items"in f){const{hasSeparator:m=!0,hasEndSeparator:u=m,hasStartSeparator:b=m,items:l=[],...v}=f;return s.jsxs(o.Fragment,{children:[b?s.jsx(F,{}):null,s.jsx(te,{...v,children:l.map(({label:x,...I},y)=>s.jsx(B,{...I,children:x},y))}),u?s.jsx(F,{}):null]},j)}else if("value"in f){const{label:m,...u}=f;return s.jsx(B,{...u,children:m},j)}}),n?s.jsx($e,{...a,children:n}):null]}),[t,n,a,e,r,g]);return{...d(Y({...p,children:M})),portalProps:h?{...c,disabled:!0}:c}}),Ye=A("div","header")({"data-header":""}),$e=A("div","footer")({"data-footer":""}),qe=A("span","label")(void 0,t=>{const{getLabelProps:n}=we();return n(t)}),te=A(({children:t,label:n,labelProps:e,...g})=>{const{getGroupProps:a,getLabelProps:r}=Le(g),c=o.useMemo(()=>({getLabelProps:r}),[r]);return s.jsx(Ae,{value:c,children:s.jsxs(V.div,{...a(),children:[n?s.jsx(qe,{...e,children:n}):null,t]})})},"group")(),z=A(({type:t,defaultValue:n,value:e,onChange:g,...a})=>{const{type:r,value:c,onChange:p}=Oe({type:t,defaultValue:n,value:e,onChange:g}),h=o.useMemo(()=>({type:r,value:c,onChange:p}),[r,c,p]);return s.jsx(Ee,{value:h,children:s.jsx(te,{...a})})},{name:"optionGroup",slot:["group","option"]})(),B=A(({children:t,...n})=>{const{subMenuTrigger:e,getItemProps:g}=ne(n);return s.jsxs(V.div,{...g(),children:[t,e?s.jsx(oe,{as:he,ms:"auto"}):null]})},"item")(),J=A(({children:t,icon:n,...e})=>{const{type:g,getIndicatorProps:a,getOptionItemProps:r}=Ne(e);return s.jsxs(V.div,{...r(),children:[s.jsx(oe,{...a(),children:n||(g==="radio"?s.jsx(De,{fill:"currentColor"}):s.jsx(ke,{}))}),t]})},{name:"optionItem",slot:["item","option"]})(),oe=A("div","indicator")(),an=A("kbd","command")(),F=A("hr","separator")(void 0,t=>{const{getSeparatorProps:n}=L();return n(t)});export{tn as M,on as a,rn as b,B as c,F as d,te as e,z as f,J as g,oe as h,an as i,Xe as j,sn as k};
