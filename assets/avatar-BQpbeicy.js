import{j as r}from"./jsx-runtime-BpbtHYHY.js";import{r as N}from"./index-BwPxMuoB.js";import{b as S}from"./icon-DIzRaLo1.js";import{u as E}from"./use-image-qWTdrDZe.js";import{f as M}from"./forward-ref-Ukjd1cIW.js";import{a as P}from"./use-component-style-65RA3nVD.js";import{o as R}from"./theme-provider-DGyR61Aa.js";import{b as x,B,d as T,c as $,h as O}from"./factory-B_KMcXyW.js";const A=a=>r.jsxs(S,{className:"ui-avatar__icon",color:["white","black"],height:"100%",viewBox:"0 0 128 128",width:"100%",...a,children:[r.jsx("path",{d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z",fill:"currentColor"}),r.jsx("path",{d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24",fill:"currentColor"})]});A.displayName="AvatarIcon";A.__ui__="AvatarIcon";const W=a=>{const t=a.trim().split(" "),e=t[0]??"",s=t.length>1?t[t.length-1]:"";return e&&s?`${e.charAt(0)}${s.charAt(0)}`:e.charAt(0)},h=({name:a,format:t=W,...e})=>{const o={...q().name};return r.jsx(x.div,{className:"ui-avatar__name","aria-label":a,role:"img",__css:o,...e,children:a?t(a):null})};h.displayName="AvatarName";h.__ui__="AvatarName";const[Z,q]=B({name:"AvatarContext",errorMessage:`useAvatarContext returned is 'undefined'. Seems you forgot to wrap the components in "<Avatar />"`}),b=M((a,t)=>{const[e,s]=P("Avatar",a),{name:o,src:l,srcSet:c,alt:m,className:d,borderRadius:n="fallback(full, 9999px)",children:u,crossOrigin:f,format:p,icon:v,ignoreFallback:C,loading:_,referrerPolicy:j,rounded:i="fallback(full, 9999px)",onError:y,onLoad:I,...L}=R(s),[k,w]=N.useState(!1),F={alignItems:"center",display:"inline-flex",flexShrink:0,fontWeight:"medium",justifyContent:"center",position:"relative",textAlign:"center",textTransform:"uppercase",...e.container};return r.jsx(Z,{value:e,children:r.jsxs(x.span,{ref:t,className:$("ui-avatar",d),"data-loaded":T(k),borderRadius:n,rounded:i,__css:F,...L,children:[r.jsx(g,{name:o,src:l,srcSet:c,alt:m,borderRadius:n,crossOrigin:f,format:p,icon:v,ignoreFallback:C,loading:_,referrerPolicy:j,rounded:i,onError:y,onLoad:O(I,()=>w(!0))}),u]})})});b.displayName="Avatar";b.__ui__="Avatar";const g=({name:a,src:t,srcSet:e,alt:s,borderRadius:o,crossOrigin:l,format:c,icon:m=r.jsx(A,{}),ignoreFallback:d,loading:n,referrerPolicy:u,rounded:f,onError:p,onLoad:v})=>{const _=E({src:t,crossOrigin:l,ignoreFallback:d,onError:p,onLoad:v})==="loaded";if(!t||!_)return a?r.jsx(h,{name:a,format:c}):N.cloneElement(m,{"aria-label":s??"Avatar Icon",role:"img"});const i={height:"100%",objectFit:"cover",width:"100%"};return r.jsx(x.img,{src:t,srcSet:e,alt:s??a,className:"ui-avatar__image",borderRadius:o,loading:n,referrerPolicy:u,rounded:f,__css:i})};g.displayName="AvatarImage";g.__ui__="AvatarImage";export{b as A,q as u};
