import{m as u}from"./menu.style-D67IcNH2.js";import{n as k}from"./native-select.style-DZDJ5I1N.js";import{d as ge,a5 as ae,c as pe,ab as de,aK as $,aM as Ce,j as ee,ay as ve,r as m,K as xe,M as we,a as ye,P as De,h as J,m as re,b as oe,f as me,e as he}from"./iframe-DlW9lece.js";import{c as ke}from"./index-BJHuREMA.js";import{u as ze}from"./use-disclosure-CG-XBTt1.js";const je=ge({base:{...k.base,content:{...u.base?.content,maxH:"xs"},field:{...k.base?.field,"--gap":"spaces.1",alignItems:"center",display:"flex"},group:u.base?.group,indicator:u.base?.indicator,label:u.base?.label,option:u.base?.item,separator:u.base?.separator,valueText:{userSelect:"none"}},props:{wrap:{false:{valueText:{truncated:!0}},true:{field:{py:"{gap}"},valueText:{display:"inline-flex",flexWrap:"wrap",gapY:"{gap}"}}}},variants:{filled:{...k.variants?.filled,field:{...k.variants?.filled.field,_expanded:ae.inside}},flushed:{...k.variants?.flushed,field:{...k.variants?.flushed.field,_expanded:k.variants?.flushed.field?._focusVisible}},outline:{...k.variants?.outline,field:{...k.variants?.outline.field,_expanded:ae.inside}},plain:{...k.variants?.plain,field:{...k.variants?.plain.field,_expanded:ae.inside}}},sizes:{xs:{...k.sizes?.xs,content:u.sizes?.sm.content,indicator:u.sizes?.sm.indicator,label:u.sizes?.sm.label,option:u.sizes?.sm.item},sm:{...k.sizes?.sm,content:u.sizes?.md.content,indicator:u.sizes?.md.indicator,label:u.sizes?.md.label,option:u.sizes?.md.item},md:{...k.sizes?.md,content:u.sizes?.md.content,indicator:u.sizes?.md.indicator,label:u.sizes?.md.label,option:u.sizes?.md.item},lg:{...k.sizes?.lg,content:u.sizes?.lg.content,indicator:u.sizes?.lg.indicator,label:u.sizes?.lg.label,option:u.sizes?.lg.item},xl:{...k.sizes?.xl,content:u.sizes?.lg.content,indicator:u.sizes?.lg.indicator,label:u.sizes?.lg.label,option:u.sizes?.lg.item}},defaultProps:{size:"md",variant:"outline",wrap:!1}}),ue=e=>typeof e=="object"&&e!=null&&e.nodeType===1,fe=(e,o)=>(!o||e!=="hidden")&&e!=="visible"&&e!=="clip",te=(e,o)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const i=getComputedStyle(e,null);return fe(i.overflowY,o)||fe(i.overflowX,o)||(f=>{const n=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch{return null}})(f);return!!n&&(n.clientHeight<f.scrollHeight||n.clientWidth<f.scrollWidth)})(e)}return!1},ne=(e,o,i,f,n,t,a,l)=>t<e&&a>o||t>e&&a<o?0:t<=e&&l<=i||a>=o&&l>=i?t-e-f:a>o&&l<i||t<e&&l>i?a-o+n:0,Me=e=>{const o=e.parentElement;return o??(e.getRootNode().host||null)},be=(e,o)=>{var i,f,n,t;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:g,boundary:y,skipOverflowHiddenElements:S}=o,B=typeof y=="function"?y:T=>T!==y;if(!ue(e))throw new TypeError("Invalid target");const F=document.scrollingElement||document.documentElement,V=[];let x=e;for(;ue(x)&&B(x);){if(x=Me(x),x===F){V.push(x);break}x!=null&&x===document.body&&te(x)&&!te(document.documentElement)||x!=null&&te(x,S)&&V.push(x)}const R=(f=(i=window.visualViewport)==null?void 0:i.width)!=null?f:innerWidth,z=(t=(n=window.visualViewport)==null?void 0:n.height)!=null?t:innerHeight,{scrollX:H,scrollY:M}=window,{height:v,width:D,top:A,right:p,bottom:C,left:E}=e.getBoundingClientRect(),{top:P,right:W,bottom:L,left:I}=(T=>{const d=window.getComputedStyle(T);return{top:parseFloat(d.scrollMarginTop)||0,right:parseFloat(d.scrollMarginRight)||0,bottom:parseFloat(d.scrollMarginBottom)||0,left:parseFloat(d.scrollMarginLeft)||0}})(e);let b=l==="start"||l==="nearest"?A-P:l==="end"?C+L:A+v/2-P+L,h=g==="center"?E+D/2-I+W:g==="end"?p+W:E-I;const _=[];for(let T=0;T<V.length;T++){const d=V[T],{height:Y,width:U,top:c,right:r,bottom:s,left:w}=d.getBoundingClientRect();if(a==="if-needed"&&A>=0&&E>=0&&C<=z&&p<=R&&(d===F&&!te(d)||A>=c&&C<=s&&E>=w&&p<=r))return _;const j=getComputedStyle(d),X=parseInt(j.borderLeftWidth,10),q=parseInt(j.borderTopWidth,10),G=parseInt(j.borderRightWidth,10),Q=parseInt(j.borderBottomWidth,10);let K=0,N=0;const Z="offsetWidth"in d?d.offsetWidth-d.clientWidth-X-G:0,O="offsetHeight"in d?d.offsetHeight-d.clientHeight-q-Q:0,se="offsetWidth"in d?d.offsetWidth===0?0:U/d.offsetWidth:0,le="offsetHeight"in d?d.offsetHeight===0?0:Y/d.offsetHeight:0;if(F===d)K=l==="start"?b:l==="end"?b-z:l==="nearest"?ne(M,M+z,z,q,Q,M+b,M+b+v,v):b-z/2,N=g==="start"?h:g==="center"?h-R/2:g==="end"?h-R:ne(H,H+R,R,X,G,H+h,H+h+D,D),K=Math.max(0,K+M),N=Math.max(0,N+H);else{K=l==="start"?b-c-q:l==="end"?b-s+Q+O:l==="nearest"?ne(c,s,Y,q,Q+O,b,b+v,v):b-(c+Y/2)+O/2,N=g==="start"?h-w-X:g==="center"?h-(w+U/2)+Z/2:g==="end"?h-r+G+Z:ne(w,r,U,X,G+Z,h,h+D,D);const{scrollLeft:ie,scrollTop:ce}=d;K=le===0?0:Math.max(0,Math.min(ce+K/le,d.scrollHeight-Y/le+O)),N=se===0?0:Math.max(0,Math.min(ie+N/se,d.scrollWidth-U/se+Z)),b+=ce-K,h+=ie-N}_.push({el:d,top:K,left:N})}return _},We=e=>e===!1?{block:"end",inline:"nearest"}:(o=>o===Object(o)&&Object.keys(o).length!==0)(e)?e:{block:"start",inline:"nearest"};function Ie(e,o){if(!e.isConnected||!(n=>{let t=n;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const i=(n=>{const t=window.getComputedStyle(n);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((n=>typeof n=="object"&&typeof n.behavior=="function")(o))return o.behavior(be(e,o));const f=typeof o=="boolean"||o==null?void 0:o.behavior;for(const{el:n,top:t,left:a}of be(e,We(o))){const l=t-i.top+i.bottom,g=a-i.left+i.right;n.scroll({top:l,left:g,behavior:f})}}const Be=(e,{Group:o,Label:i,Option:f})=>de(e).filter(({type:t})=>$(t,f)||$(t,o)).map(({type:t,props:a})=>{if($(t,f))return{...a,label:a.children};{const l=de(a.children),g=Ce(l,i);return{...a,items:l.filter(({type:y})=>$(y,f)).map(({props:y})=>({...y,label:y.children})),label:g?.props.children??a.label}}}),Ke=(e,{Empty:o,Group:i,Option:f})=>e.map((n,t)=>{if("data-empty"in n&&o){const{label:a,...l}=n;return ee.jsx(o,{...l,children:a},t)}else if("items"in n){const{items:a=[],label:l,...g}=n;return ee.jsx(i,{label:l,...g,children:a.map(({label:y,...S},B)=>ee.jsx(f,{...S,children:y},B))},t)}else{const{label:a,...l}=n;return ee.jsx(f,{...l,children:a},t)}}),{DescendantsContext:Ne,useDescendant:Se,useDescendants:Ve}=ke(),[Le,Re]=pe({name:"ComboboxContext"}),[Ge,Pe]=pe({name:"ComboboxGroupContext"}),_e=({"aria-label":e,"aria-labelledby":o,closeOnSelect:i=!0,defaultOpen:f,disabled:n,initialFocusValue:t,open:a,openOnClick:l=!0,openOnEnter:g=!0,openOnSpace:y=!0,readOnly:S,selectFocusRef:B,selectOnSpace:F=!0,onChange:V,onClose:x,onOpen:R,...z}={})=>{const{getWindow:H}=ve(),M=!(S||n),v=m.useRef(null),D=m.useRef(null),A=m.useId(),p=Ve(),{open:C,onClose:E,onOpen:P}=ze({defaultOpen:f,open:a,onClose:x,onOpen:R}),W=m.useRef(null),L=m.useCallback((c,r=i)=>{(B??v).current?.focus(),!(!M||xe(c))&&(V?.(c),r&&E())},[i,M,V,E,B]),I=m.useCallback((c,r="start")=>{if(!D.current||!c)return;const s=H()?.getComputedStyle(D.current),w=r==="start"?s?.paddingBlockStart:s?.paddingBlockEnd,j=parseInt(w??"0px");Ie(c.node,{behavior:X=>X.forEach(({el:q,top:G})=>{q.scrollTop=r==="start"?G-j:G+j}),block:r,boundary:D.current,inline:"nearest",scrollMode:"if-needed"})},[H]),b=m.useCallback(c=>{!v.current||!c||n||(v.current.setAttribute("aria-activedescendant",c.id),W.current=c,p.active(c))},[p,n]),h=m.useCallback((c,r="start")=>{P(),setTimeout(()=>{if(t){const w=p.values().find(({value:j})=>t===j)??c();b(w),I(w,r)}else{const s=c();b(s),I(s,r)}})},[p,t,b,P,I]),_=m.useCallback(c=>{n||(c.preventDefault(),C?E():l&&h(p.enabledFirstValue))},[p,n,E,h,C,l]),T=m.useCallback(c=>{n||we(c)||ye(c,{ArrowDown:r=>{if(r.preventDefault(),!C)h(p.enabledFirstValue);else if(W.current){const s=p.enabledNextValue(W.current);b(s),I(s,s?.recurred?"start":"end")}else{const s=p.enabledFirstValue();b(s),I(s)}},ArrowUp:r=>{if(r.preventDefault(),!C)h(p.enabledLastValue,"end");else if(W.current){const s=p.enabledPrevValue(W.current);b(s),I(s,s?.recurred?"end":"start")}else{const s=p.enabledLastValue();b(s),I(s,"end")}},End:r=>{if(r.preventDefault(),!C)return;const s=p.enabledLastValue();b(s),I(s,"end")},Enter:r=>{if(C){if(!W.current)return;r.preventDefault();const{closeOnSelect:s,value:w}=W.current;L(w,s)}else{if(!g)return;r.preventDefault(),h(p.enabledFirstValue)}},Home:r=>{if(!C)return;r.preventDefault();const s=p.enabledFirstValue();b(s),I(s)},Space:r=>{if(C){if(!W.current||!F)return;r.preventDefault();const{closeOnSelect:s,value:w}=W.current;L(w,s)}else{if(!y)return;r.preventDefault(),h(p.enabledFirstValue)}}},{preventDefault:!1})},[n,C,h,p,b,I,g,L,y,F]);De(()=>{C||(W.current=null)},[C]);const d=m.useCallback(({ref:c,"aria-label":r,"aria-labelledby":s,...w}={})=>({"aria-controls":C?A:void 0,"aria-disabled":he(!M),"aria-expanded":C,"aria-haspopup":"listbox","aria-label":r||e,"aria-labelledby":me(s,o),"data-disabled":oe(n),"data-readonly":oe(S),role:"combobox",tabIndex:M?0:-1,...z,...w,ref:re(c,z.ref,v),onClick:J(w.onClick,z.onClick,_),onKeyDown:J(w.onKeyDown,z.onKeyDown,T)}),[C,A,M,o,n,S,e,z,_,T]),Y=m.useCallback(({ref:c,...r}={})=>({id:A,role:"listbox",...r,ref:re(c,D),onKeyDown:J(r.onKeyDown)}),[A]),U=m.useCallback(c=>({role:"separator",...c}),[]);return{activeDescendant:W,descendants:p,interactive:M,open:C,getContentProps:Y,getSeparatorProps:U,getTriggerProps:d,onActiveDescendant:b,onClose:E,onOpen:P,onOpenWithActiveDescendant:h,onScrollIntoView:I,onSelect:L}},Ye=({"aria-labelledby":e,...o}={})=>{const i=m.useId(),f=m.useCallback(({"aria-labelledby":t,...a}={})=>({"aria-labelledby":me(e,t,i),role:"group",...o,...a}),[e,i,o]),n=m.useCallback(t=>({id:i,role:"presentation",...t}),[i]);return{getGroupProps:f,getLabelProps:n}},Ue=({id:e,"aria-disabled":o,"data-disabled":i,closeOnSelect:f,disabled:n=!1,selected:t=!1,value:a,...l}={})=>{const g=m.useId(),y=m.useRef(null),{onActiveDescendant:S,onClose:B,onSelect:F}=Re();e??=g;const{descendants:V,register:x}=Se({id:e,closeOnSelect:f,disabled:n,value:a}),R=m.useCallback(()=>{if(n)return;const v=V.value(y.current);S(v)},[V,n,S]),z=m.useCallback(v=>{v.preventDefault(),!n&&F(a,f)},[f,n,F,a]),H=m.useCallback(({ref:v,...D}={})=>({id:e,"aria-disabled":o??he(n),"aria-selected":t,"data-disabled":i??oe(n),"data-selected":oe(t),"data-value":a,role:"option",tabIndex:-1,...l,...D,ref:re(v,l.ref,y,x),onClick:J(D.onClick,l.onClick,z),onMouseMove:J(D.onMouseMove,l.onMouseMove,R)}),[e,o,n,t,i,a,l,x,z,R]),M=m.useCallback(({style:v,...D}={})=>({style:{opacity:t?1:0,...v},...D}),[t]);return{descendants:V,disabled:n,selected:t,getIndicatorProps:M,getItemProps:H,onActiveDescendant:S,onClose:B}};export{Ne as C,Ue as a,Ke as b,Be as c,Le as d,Ye as e,Ge as f,Pe as g,je as s,_e as u};
