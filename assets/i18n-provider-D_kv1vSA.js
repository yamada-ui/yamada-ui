import{j as m}from"./jsx-runtime-BpbtHYHY.js";import{r as n}from"./index-BwPxMuoB.js";import{f as L,D as o,j as p,k as x,l as E}from"./factory-B_KMcXyW.js";const I=new Set(["Adlm","Arab","Hebr","Mand","Mend","Nkoo","Rohg","Samr","Syrc","Thaa","Yezi"]),S=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),s={direction:p,locale:o};function u(){let t=E()?navigator.language:o;try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t=o}return{direction:l(t)?"rtl":"ltr",locale:t}}const g=n.createContext({...s}),v=({children:t,direction:e,locale:r})=>{const i=L(),[c,d]=n.useState(u()),a=n.useCallback(()=>{d(u())},[]),f=n.useMemo(()=>i?s:r?{direction:e??(l(r)?"rtl":"ltr"),locale:r}:c,[r,i,c,e]);return n.useEffect(()=>(window.addEventListener("languagechange",a),()=>{window.removeEventListener("languagechange",a)}),[a]),m.jsx(g.Provider,{value:f,children:t})};function C(){const t=n.useContext(g);return x(t)?s:t}function l(t){const e=new Intl.Locale(t).maximize();return"textInfo"in e?e.textInfo.direction==="rtl":e.script?I.has(e.script):S.has(t.split("-")[0])}export{v as I,C as u};
