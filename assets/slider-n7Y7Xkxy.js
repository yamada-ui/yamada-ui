import{J as vt,r as g,i as ot,a as xt,h as Y,m as Ct,Q as Pt,b as D,f as kt,L as ct,g as yt,j as c,s as W,Y as P}from"./iframe-C__kp2ks.js";import{u as St}from"./index-D-M46-mS.js";import{u as jt,s as wt}from"./index-D9fhty9O.js";import{u as Mt}from"./index-CZLJEwac.js";import{u as Tt}from"./use-field-props-LsV8SBOq.js";import{v as G,r as st,p as Vt,c as lt}from"./number-CcP_arM8.js";const At=(o={})=>{const{props:{id:r,ref:p,name:b,"aria-labelledby":k,"aria-valuetext":C,betweenThumbs:x=0,defaultValue:T=0,disabled:S,getAriaValueText:j,max:s=100,min:u=0,orientation:d="horizontal",readOnly:V,required:K,step:A=1,value:$,onChange:H,onChangeEnd:L,onChangeStart:X,...Z},ariaProps:N,dataProps:h,eventProps:O}=Tt(o),[a,q]=Mt({defaultValue:T,value:$,onChange:H}),{t:tt}=vt("slider"),I=g.useRef(0),w=!(S||V),[Bt,et]=jt({onEnd:(t,e,m)=>{if(!w)return;const n=Q(e,m);if(l){const i=I.current===0,v=I.current===0?1:0,M=a[v];L?.(i?[n,M]:[M,n])}else L?.(n)},onMove:(t,e,m)=>{if(!w)return;const n=Q(e,m);f(I.current,n)},onStart:(t,e,m)=>{if(!w)return;const n=Q(e,m);if(l){const i=a.map(ft=>Math.abs(ft-n)),v=Math.min(...i),M=i.indexOf(v);I.current=M;const nt=M===0,y=a[M===0?1:0];X?.(nt?[n,y]:[y,n])}else I.current=0,X?.(a);f(I.current,n)}}),l=!ct(a),R=l?a.map(t=>G(t,u,s)):G(a,u,s),J=(s-u)/10,F=A||(s-u)/100;s<u&&console.warn("Do not assign a number less than 'min' to 'max'");const z=g.useCallback(t=>{const e=t===0,n=l?a[t===0?1:0]:a;return{max:l&&e?n-x:s,min:l?e?u:n+x:u}},[x,s,u,l,a]),Q=g.useCallback(({x:t,y:e},{bottom:m,height:n,left:i,width:v})=>{const rt=(d==="horizontal"?t-i:m-e)/(d==="horizontal"?v:n);let y=Vt(rt,u,s);return y=parseFloat(st(y,u,A)),y=lt(y,u,s),y},[d,u,s,A]),f=g.useCallback((t,e)=>{if(!w)return;const{max:m,min:n}=z(t);e=parseFloat(st(e,n,F)),e=lt(e,n,m),q(i=>{if(ot(i)){const v=[...i];return v[t]=e,v}else return e})},[z,w,F,q]),E=g.useCallback((t,e=F)=>l?f(t,a[t]+e):f(t,a+e),[F,l,f,a]),_=g.useCallback((t,e=F)=>l?f(t,a[t]-e):f(t,a-e),[F,l,f,a]),at=g.useCallback(t=>e=>{const{max:m,min:n}=z(t);xt(e,{ArrowDown:()=>_(t),ArrowLeft:()=>_(t),ArrowRight:()=>E(t),ArrowUp:()=>E(t),End:()=>f(t,m),Home:()=>f(t,n),PageDown:()=>_(t,J),PageUp:()=>E(t,J)})},[z,f,_,E,J]),pt=g.useCallback((t={})=>{const e={...h,"data-orientation":d,...Z,...t,onBlur:Y(t.onBlur,O.onBlur),onFocus:Y(t.onFocus,O.onFocus)};return e.style??={},ot(R)?(e.style["--range-start"]=`${Math.abs(R[0])}%`,e.style["--range-end"]=`${Math.abs(R[1])}%`):(e.style["--range-start"]="0%",e.style["--range-end"]=`${Math.abs(R)}%`),e},[h,O,d,R,Z]),dt=g.useCallback(({index:t=0,...e}={})=>({...Pt,...h,...N,id:r,type:"hidden",name:b,disabled:S,readOnly:V,required:K,value:l?a[t]:a,...e,ref:t===0?Ct(e.ref,p):e.ref}),[h,N,r,b,S,V,K,l,a,p]),mt=g.useCallback(t=>et({...h,"data-orientation":d,...t}),[h,et,d]),gt=g.useCallback(t=>({...h,"data-orientation":d,"data-range":D(l),...t}),[h,d,l]),bt=g.useCallback(({style:t,value:e,...m})=>{const n=l?a[0]<e&&e<a[1]:e<a,i=G(e,u,s);return{...h,"aria-hidden":!0,"data-between":D(n),"data-orientation":d,role:"presentation",...m,style:{...t,"--mark-position":`${i}%`}}},[h,s,u,d,l,a]),ht=g.useCallback(({index:t=0,...e}={})=>{const{max:m,min:n}=z(t),i={...h,...N,"aria-label":tt("Slider thumb"),"aria-orientation":d,"aria-valuemax":m,"aria-valuemin":n,role:"slider",tabIndex:w?0:-1,...e,"aria-labelledby":kt(e["aria-labelledby"],k),onKeyDown:Y(e.onKeyDown,at(t))};if(l){const v=a[t];i["data-start"]=D(t===0),i["data-end"]=D(t===1),i["aria-valuenow"]=v,i["aria-valuetext"]=C??j?.(v,t)??v.toString()}else i["data-end"]=D(t===0),i["aria-valuenow"]=a,i["aria-valuetext"]=C??j?.(a,t)??a.toString();return i},[tt,k,N,C,h,j,z,w,at,d,l,a]);return{percent:R,range:l,setValue:q,stepDown:_,stepUp:E,value:a,getInputProps:dt,getMarkProps:bt,getRangeProps:gt,getRootProps:pt,getThumbProps:ht,getTrackProps:mt,onChange:f}},{ComponentContext:It,useComponentContext:B,withContext:U,withProvider:Rt}=yt("slider",wt),Ot=Rt(({children:o,marks:r,orientation:p,inputProps:b,marksProps:k,rangeProps:C,thumbProps:x,trackProps:T,...S})=>{const j=St(p),{range:s,getInputProps:u,getMarkProps:d,getRangeProps:V,getRootProps:K,getThumbProps:A,getTrackProps:$}=At({orientation:j,...S}),H=g.useMemo(()=>o||c.jsxs(c.Fragment,{children:[c.jsxs(zt,{...T,children:[c.jsx(Dt,{...C}),s?c.jsx(_t,{...x}):c.jsx(ut,{...x})]}),r?c.jsx(Et,{marks:r,...k}):null]}),[o,r,k,s,C,x,T]),L=g.useMemo(()=>({range:s,getInputProps:u,getMarkProps:d,getRangeProps:V,getThumbProps:A,getTrackProps:$}),[s,u,d,V,A,$]);return c.jsx(It,{value:L,children:c.jsxs(W.div,{...K(),children:[c.jsx(Ft,{...b}),H]})})},"root",{transferProps:["orientation"]})(void 0,({indicatorFill:o,indicatorRounded:r,rangeFill:p,thumbFill:b,thumbRounded:k,thumbSize:C,thumbStroke:x,trackFill:T,trackRounded:S,trackSize:j,...s})=>({"--indicator-fill":P(o,"colors"),"--indicator-rounded":P(r,"radii"),"--range-fill":P(p,"colors"),"--thumb-fill":P(b,"colors"),"--thumb-rounded":P(k,"radii"),"--thumb-size":P(C,"sizes"),"--thumb-stroke":P(x,"colors"),"--track-fill":P(T,"colors"),"--track-rounded":P(S,"radii"),"--track-size":P(j,"sizes"),...s})),Ft=()=>{const{range:o,getInputProps:r}=B();return o?Array.from({length:2}).map((p,b)=>c.jsx(W.input,{...r({index:b})},b)):c.jsx(W.input,{...r()})},zt=U("div","track")(void 0,o=>{const{getTrackProps:r}=B();return r(o)}),Dt=U("div","range")(void 0,o=>{const{getRangeProps:r}=B();return r(o)}),it=U("div","mark")(void 0,({indicator:o=!0,...r})=>{const{getMarkProps:p}=B();return p({"data-indicator":D(o),...r})}),Et=({marks:o,...r})=>c.jsx(c.Fragment,{children:o.map((p,b)=>{if(ct(p))return c.jsx(it,{value:p,...r},b);{const{indicator:k,label:C,value:x}=p;return c.jsx(it,{indicator:k,value:x,children:C},b)}})}),ut=U("div","thumb")(void 0,o=>{const{getThumbProps:r}=B();return r(o)}),_t=o=>c.jsx(c.Fragment,{children:Array.from({length:2}).map((r,p)=>c.jsx(ut,{index:p,...o},p))});export{Ot as S,zt as a,ut as b,Dt as c,Et as d};
