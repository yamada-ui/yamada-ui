import{d as k,f as G,r as u,u as J,j as n,c as K,s as x,a as d,aq as X,b,e as Y,h as P}from"./iframe-B58gGoPv.js";const Z=k({base:{errorMessage:{alignItems:"center",color:"fg.error",display:"inline-flex",fontSize:"xs",gap:"1"},helperMessage:{alignItems:"center",color:"fg.muted",display:"inline-flex",fontSize:"xs",gap:"1"},label:{alignItems:"center",display:"inline-flex",fontSize:"sm",fontWeight:"medium",gap:"1",_readOnly:{pointerEvents:"none"},_disabled:{layerStyle:"disabled"}},requiredIndicator:{color:"fg.error"},root:{display:"flex",flexDirection:"column",gap:"1.5",position:"relative",w:"100%"}}}),[q,y]=K({name:"FieldContext",strict:!1}),{withContext:E,withProvider:O}=G("field",Z),ne=O(({id:e,children:t,disabled:s,errorMessage:r,helperMessage:i,invalid:a,label:l,optionalIndicator:c,readOnly:g,replace:m=!0,required:p,requiredIndicator:h,errorMessageProps:o,helperMessageProps:I,labelProps:j,...C})=>{const S=u.useId(),M=u.useId(),v=u.useId(),[f,F]=u.useState(!1),[N,Q,R,T]=J(t,H,L,A);e??=S;const U=u.useMemo(()=>({id:e,disabled:s,errorMessageId:v,focused:f,helperMessageId:M,invalid:a,readOnly:g,replace:m,required:p,onBlur:()=>F(!1),onFocus:()=>F(!0)}),[e,s,f,a,M,v,g,m,p]);return n.jsx(q,{value:U,children:n.jsxs(x.div,{"data-disabled":d(s),"data-focus":d(f),"data-invalid":d(a),"data-readonly":d(g),...C,children:[Q||(l?n.jsx(H,{optionalIndicator:c,requiredIndicator:h,...j,children:l}):null),N,R||(i?n.jsx(L,{...I,children:i}):null),T||(r?n.jsx(A,{...o,children:r}):null)]})})},"root")(),H=E(({id:e,htmlFor:t,children:s,optionalIndicator:r=null,required:i,requiredIndicator:a=null,...l})=>{const c=y();return i??=c?.required,n.jsxs(x.label,{id:e,htmlFor:t??c?.id,"data-disabled":d(c?.disabled),"data-focus":d(c?.focused),"data-invalid":d(c?.invalid),"data-readonly":d(c?.readOnly),...l,children:[s,i?a?n.jsx(B,{children:a}):n.jsx(B,{}):r]})},"label")(),B=E(({children:e,...t})=>u.isValidElement(e)?e:n.jsx(x.span,{"aria-hidden":!0,role:"presentation",...t,children:e??n.jsx(n.Fragment,{children:"*"})}),"requiredIndicator")(),L=E(e=>{const{helperMessageId:t,invalid:s,replace:r}=y()??{};return r&&s?null:n.jsx(x.span,{id:t,...e})},"helperMessage")(),A=E(e=>{const{errorMessageId:t,invalid:s}=y()??{};return s?n.jsx(x.span,{id:t,"aria-live":"polite",...e}):null},"errorMessage")(),ee=k({base:{content:{display:"flex",flexDirection:"column",w:"full"},errorMessage:{alignItems:"center",color:"fg.error",display:"inline-flex",gap:"1"},header:{display:"flex",flexDirection:"column",w:"full"},helperMessage:{alignItems:"center",color:"fg.muted",display:"inline-flex",gap:"1"},legend:{fontWeight:"medium",_disabled:{opacity:.4}},root:{display:"flex",flexDirection:"column",w:"full"}},variants:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{borderWidth:"1px"}},panel:{root:{layerStyle:"panel"}},plain:{}},sizes:{sm:{content:{gap:"3"},errorMessage:{fontSize:"sm"},header:{gap:"1"},helperMessage:{fontSize:"sm"},legend:{fontSize:"md"},root:{gap:"3"}},md:{content:{gap:"4"},errorMessage:{fontSize:"sm"},header:{gap:"1"},helperMessage:{fontSize:"sm"},legend:{fontSize:"md"},root:{gap:"4"}},lg:{content:{gap:"6"},errorMessage:{fontSize:"md"},header:{gap:"1"},helperMessage:{fontSize:"md"},legend:{fontSize:"lg"},root:{gap:"6"}}},compounds:[{css:{root:{p:"3",rounded:"l2"}},size:"sm",variant:["elevated","outline","panel"]},{css:{root:{p:"4",rounded:"l2"}},size:"md",variant:["elevated","outline","panel"]},{css:{root:{p:"6",rounded:"l2"}},size:"lg",variant:["elevated","outline","panel"]}],defaultProps:{size:"md",variant:"plain"}}),[se,w]=K({name:"FieldsetContext",strict:!1}),{withContext:z,withProvider:te}=G("fieldset",ee),re=te(({id:e,children:t,disabled:s,errorMessage:r,helperMessage:i,invalid:a,legend:l,contentProps:c,errorMessageProps:g,headerProps:m,helperMessageProps:p,legendProps:h,...o})=>{const I=u.useId(),[j,C,S,M,v,f]=J(t,W,_,D,$,V);e??=I;const F=u.useMemo(()=>({id:e,disabled:s,invalid:a}),[e,s,a]);return n.jsx(se,{value:F,children:n.jsxs(x.fieldset,{...o,children:[S||n.jsxs(_,{...m,children:[C||(l?n.jsx(W,{...h,children:l}):null),v||(i?n.jsx($,{...p,children:i}):null)]}),M||n.jsx(D,{...c,children:j}),f||(r?n.jsx(V,{...g,children:r}):null)]})})},"root")(),W=z("legend","legend")(void 0,e=>{const{id:t,disabled:s,invalid:r}=w()??{};return{id:t,"data-disabled":d(s),"data-invalid":d(r),...e}}),_=z("div","header")(),D=z("div","content")(),$=z("span","helperMessage")(void 0,e=>{const{id:t}=w()??{};return{"aria-describedby":t,...e}}),V=z(e=>{const{invalid:t}=w()??{};return t?n.jsx(x.span,{"aria-live":"polite",...e}):null},"errorMessage")(),ae=({id:e,"aria-describedby":t,disabled:s,invalid:r,notSupportReadOnly:i,readOnly:a,required:l,onBlur:c,onFocus:g,...m}={})=>{const{getDocument:p}=X(),h=w(),o=y();e??=o?.id,s??=o?.disabled??h?.disabled,l??=o?.required,a??=o?.readOnly,r??=o?.invalid??h?.invalid;const I=u.useMemo(()=>({id:e,"aria-describedby":t,disabled:s,readOnly:i?void 0:a,required:l,...m}),[e,s,a,l,m,i,t]),j=u.useMemo(()=>({"data-disabled":d(s),"data-invalid":d(r),"data-readonly":d(a),"data-required":d(l)}),[s,r,a,l]),C=u.useMemo(()=>{const M=!!o?.errorMessageId&&!!p()?.getElementById(o.errorMessageId),v=!!o?.helperMessageId&&!!p()?.getElementById(o.helperMessageId),f=r&&M?o.errorMessageId:void 0,F=(!o?.replace||!r)&&v?o.helperMessageId:void 0;return{"aria-describedby":Y(f,F,t),"aria-disabled":b(i&&a||s),"aria-invalid":b(r),"aria-readonly":i?void 0:b(a),"aria-required":b(l)}},[o,p,r,t,i,a,s,l]),S=u.useMemo(()=>({onBlur:P(o?.onBlur,c),onFocus:P(o?.onFocus,g)}),[o?.onBlur,o?.onFocus,c,g]);return{context:o,props:I,ariaProps:C,dataProps:j,eventProps:S}};export{ne as F,H as a,L as b,A as c,re as d,W as e,_ as f,$ as g,D as h,V as i,ae as u};
