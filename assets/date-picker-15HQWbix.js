import{j as i}from"./jsx-runtime-BpbtHYHY.js";import{u as Pt}from"./index-tjcNNcsH.js";import{r}from"./index-BwPxMuoB.js";import{d as $,i as Ze,a as $e,b as kt,C as ht}from"./calendar-BxjAMc25.js";import{u as gt}from"./index-DLOQPSsO.js";import{u as _t}from"./index-CmygkWjO.js";import{u as yt}from"./index-2pdm5d7T.js";import{u as bt,f as Dt}from"./form-control-4O_IQfgA.js";import{u as vt}from"./i18n-provider-D_kv1vSA.js";import{u as xt,o as It}from"./theme-provider-DGyR61Aa.js";import{a3 as jt,M as Ot,ae as wt,an as Ft,a4 as Vt,h as A,a as oe,d as et,B as Nt,o as te,ao as Bt,b as J,c as G,J as St,g as Et,q as Rt}from"./factory-B_KMcXyW.js";import{P as Tt,b as Mt,a as zt}from"./popover-trigger-lFjT6k2t.js";import{P as Ht}from"./portal-DnDmgWrA.js";import{a as Lt,b as Yt}from"./icon-DIzRaLo1.js";import{f as ae}from"./forward-ref-Ukjd1cIW.js";import{a as At}from"./use-component-style-65RA3nVD.js";const Kt=f=>{var Ge,Qe;const{locale:p}=vt(),{theme:c}=xt(),m=(Qe=(Ge=c.__config)==null?void 0:Ge.date)==null?void 0:Qe.locale,{type:C,allowInput:n=!0,allowInputBeyond:s=!1,amountOfMonths:d,animation:k,autoFocus:u=!0,boundary:E,calendarColorScheme:w,calendarSize:R,calendarVariant:F,closeDelay:V,closeOnBlur:b=!0,closeOnEsc:T=!0,dateFormat:M,defaultIsOpen:K,defaultMonth:z,defaultOpen:W,defaultType:D,defaultValue:N,disableOutsideDays:B,duration:P=.2,enableMultiple:v,enableRange:H,eventListeners:o,excludeDate:t,firstDayOfWeek:h,flip:le,gutter:ce,hiddenOutsideDays:ue,holidays:pe,inputFormat:U="YYYY/MM/DD",isLazy:ot,isOpen:at,lazy:de=ot,lazyBehavior:fe,locale:S=m??p,matchWidth:me,maxDate:g,maxSelectValues:Ce,minDate:_,minSelectValues:Pe,modifiers:ke,month:he,monthFormat:ge,offset:_e,open:nt,openDelay:ye,paginateBy:be,parseDate:Q,pattern:st=/[^0-9\-\/]/g,placement:De="bottom-start",preventOverflow:ve,strategy:xe,today:Ie,value:je,weekdayFormat:Oe,weekendDays:we,withControls:Fe,withHeader:Ve,withLabel:Ne,withWeekdays:Be,yearFormat:Se,calendarProps:Ee,onChange:Re,onChangeMonth:Te,onChangeType:Me,onClear:X,onClose:rt,onDelete:ze,onEnter:He,onOpen:it,__selectType:Le,...x}=bt(f),{"aria-readonly":qt,...I}=jt(x,Dt),[Ye,lt]=Ot(x,wt),{open:l,onClose:j,onOpen:Ae}=_t({defaultIsOpen:K,defaultOpen:W,isOpen:at,open:nt,onClose:rt,onOpen:it}),Z=r.useRef(null),q=r.useRef(null),{disabled:L,readOnly:Y}=I,ct=r.useCallback(e=>{let a=Q==null?void 0:Q(e);if(!a&&$(e).isValid()&&(a=$(e,U,S).toDate()),a!=null&&!(t!=null&&t(a)))return s||(g&&Ze(a,g)&&(a=g),_&&$e(a,_)&&(a=_)),a},[s,t,U,S,g,_,Q]),ut=r.useCallback(e=>{if(e!=null&&!(t!=null&&t(e)))return s||(g&&Ze(e,g)&&(e=g),_&&$e(e,_)&&(e=_)),$(e).locale(S).format(U)},[s,t,U,S,g,_]),y=r.useCallback(()=>{var e;L||Y||(Ae(),u&&n&&((e=q.current)==null||e.focus()))},[u,n,L,Y,Ae]),Ke=r.useCallback(()=>{var e;l?u&&n&&((e=q.current)==null||e.focus()):y()},[u,n,l,y]),We=r.useCallback(()=>{l||y()},[l,y]),Ue=r.useCallback(e=>{const a=Ft(e);Vt(Z.current,a)||b&&l&&j()},[b,l,j]),qe=r.useCallback(e=>{if(e.key===" "&&(e.key=e.code),L||Y)return;const Xe={Backspace:ze,Enter:l?He:O=>{O.preventDefault(),O.stopPropagation(),y()},Escape:T?O=>{O.preventDefault(),O.stopPropagation(),j()}:void 0,Space:l?void 0:O=>{O.preventDefault(),O.stopPropagation(),y()}}[e.key];Xe&&Xe(e)},[T,L,Y,l,j,He,ze,y]),Je=r.useCallback(e=>{var a;e.stopPropagation(),X==null||X(),u&&n&&l&&((a=q.current)==null||a.focus())},[u,n,l,X]);yt({ref:Z,enabled:l&&b,handler:j});const pt=r.useCallback((e={},a=null)=>({ref:oe(Z,a),...Ye,...I,...e,onBlur:A(e.onBlur,x.onBlur,Ue),onClick:A(e.onClick,x.onClick,Ke)}),[Ye,I,Ue,Ke,x]),dt=r.useCallback(e=>({animation:k,boundary:E,closeDelay:V,duration:P,eventListeners:o,flip:le,gutter:ce,lazy:de,lazyBehavior:fe,matchWidth:me,modifiers:ke,offset:_e,openDelay:ye,placement:De,preventOverflow:ve,strategy:xe,...e,closeOnBlur:!1,closeOnButton:!1,isOpen:l,trigger:"never",onClose:j,onOpen:y}),[k,E,V,P,o,le,ce,l,de,fe,me,ke,_e,j,y,ye,De,ve,xe]),ft=r.useCallback((e={},a=null)=>({"aria-haspopup":"dialog","data-active":et(l),"data-not-allowed":et(!Y&&!L&&!n),role:"combobox",tabIndex:-1,...I,...e,ref:oe(q,a),onFocus:A(e.onFocus,x.onFocus,We),onKeyDown:A(e.onKeyDown,x.onKeyDown,qe)}),[n,L,Y,I,l,x,We,qe]),mt=r.useCallback(e=>({...e,type:C,colorScheme:w,size:R,variant:F,amountOfMonths:d,dateFormat:M,defaultMonth:z,defaultType:D,disableOutsideDays:B,firstDayOfWeek:h,hiddenOutsideDays:ue,holidays:pe,maxSelectValues:Ce,minSelectValues:Pe,month:he,monthFormat:ge,paginateBy:be,today:Ie,weekdayFormat:Oe,weekendDays:we,withControls:Fe,withHeader:Ve,withLabel:Ne,withWeekdays:Be,yearFormat:Se,onChangeMonth:Te,onChangeType:Me,...Ee,defaultValue:N,enableMultiple:v,enableRange:H,excludeDate:t,locale:S,maxDate:g,minDate:_,value:je,onChange:Re,__selectType:Le}),[ue,Ce,Pe,v,H,d,w,Ee,R,F,M,z,D,N,B,t,h,pe,S,g,_,he,ge,Re,Te,Me,be,Ie,C,je,Oe,we,Fe,Ve,Ne,Be,Se,Le]),Ct=r.useCallback(({clear:e,...a})=>({...a,...I,onClick:A(a.onClick,e?Je:void 0)}),[I,Je]);return{allowInput:n,containerRef:Z,dateToString:ut,inputFormat:U,inputRef:q,locale:S,open:l,pattern:st,stringToDate:ct,formControlProps:I,getCalendarProps:mt,getContainerProps:pt,getFieldProps:ft,getIconProps:Ct,getPopoverProps:dt,inputProps:lt,onClose:j,onOpen:y}},[Wt,ne]=Nt({name:"DatePickerContext",errorMessage:`useDatePickerContext returned is 'undefined'. Seems you forgot to wrap the components in "<DatePicker />"`}),Ut=({closeOnSelect:f=!0,defaultValue:p,placeholder:c,value:m,onChange:C,...n})=>{const[s,d]=gt({defaultValue:p,value:m,onChange:C,onUpdate:(o,t)=>!kt(o,t)}),{allowInput:k,dateToString:u,inputFormat:E,inputRef:w,locale:R,pattern:F,stringToDate:V,formControlProps:b,getCalendarProps:T,getContainerProps:M,getFieldProps:K,getIconProps:z,getPopoverProps:W,inputProps:D,onClose:N}=Kt({...n,defaultValue:p,value:s,onChange:o=>{const t=u(o);d(o),P(t),f&&o&&N()},onClear:()=>{d(void 0),P(void 0)},onClose:()=>{var t;const o=u(s);P(o),(t=n.onClose)==null||t.call(n)}}),[B,P]=r.useState(u(s)),v=r.useCallback(o=>{let t=o.target.value;t=t.replace(F,"");const h=V(t);P(t),h&&$(h).isValid()?d(h):d(void 0)},[F,V,P,d]);te(()=>{d(m)},[m]),te(()=>{if(w.current&&Bt(w.current))return;const o=u(s);P(o)},[s]),te(()=>{const o=u(s);P(o)},[R,E]);const H=r.useCallback((o={},t=null)=>{const h={...o.style,...D.style,...b.disabled||!k?{pointerEvents:"none"}:{}};return{autoComplete:"off",placeholder:c,tabIndex:k?0:-1,...b,...D,...o,ref:t,style:h,value:B??"",onChange:A(o.onChange,v)}},[D,k,c,b,B,v]);return{value:s,getCalendarProps:T,getContainerProps:M,getFieldProps:K,getIconProps:z,getInputProps:H,getPopoverProps:W,onClose:N}},tt=ae((f,p)=>{const[c,m]=At("DatePicker",f),{className:C,children:n,isClearable:s=!0,clearable:d=s,color:k,h:u,height:E=u,minH:w,minHeight:R=w,clearIconProps:F,containerProps:V,contentProps:b,fieldProps:T,iconProps:M,inputProps:K,portalProps:z={disabled:!0},...W}=It(m),{value:D,getCalendarProps:N,getContainerProps:B,getFieldProps:P,getIconProps:v,getInputProps:H,getPopoverProps:o,onClose:t}=Ut(W),h={color:k,h:"fit-content",w:"100%",...c.container};return i.jsx(Wt,{value:c,children:i.jsx(Tt,{...o(),children:i.jsxs(J.div,{className:G("ui-date-picker",C),__css:h,...B(V),children:[i.jsxs(J.div,{className:"ui-date-picker__inner",__css:{position:"relative",...c.inner},children:[i.jsx(se,{...P({height:E,minHeight:R,...T},p),inputProps:H(K)}),d&&D?i.jsx(ie,{...v({clear:!0,...F})}):i.jsx(ee,{...v({clear:!1,...M})})]}),i.jsx(Ht,{...z,children:i.jsxs(Mt,{as:"div",className:"ui-date-picker__content",__css:{...c.content},...b,children:[i.jsx(ht,{className:"ui-date-picker__calendar",...N()}),St(n,{value:D,onClose:t})]})})]})})})});tt.displayName="DatePicker";tt.__ui__="DatePicker";const se=ae(({className:f,inputProps:p,...c},m)=>{const C=ne(),{ref:n,...s}=p??{},d={alignItems:"center",display:"flex",pe:"2rem",...C.field};return i.jsx(zt,{children:i.jsx(J.div,{className:G("ui-date-picker__field",f),__css:d,...c,children:i.jsx(J.input,{ref:oe(m,n),className:"ui-date-picker__field__input","aria-label":"Input date value",display:"inline-block",w:"100%",...s})})})});se.displayName="DatePickerField";se.__ui__="DatePickerField";const ee=ae(({className:f,children:p,__css:c,...m},C)=>{const s={alignItems:"center",cursor:"pointer",display:"inline-flex",justifyContent:"center",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",...ne().icon,...c},k=Et(p).map(u=>r.cloneElement(u,{style:{color:"currentColor",maxHeight:"1em",maxWidth:"1em"},"aria-hidden":!0,focusable:!1}));return i.jsx(J.div,{ref:C,className:G("ui-date-picker__icon",f),__css:s,...m,children:Rt(p)?k:i.jsx(re,{})})});ee.displayName="DatePickerIcon";ee.__ui__="DatePickerIcon";const re=({className:f,...p})=>i.jsx(Yt,{className:G("ui-date-picker__icon__calendar",f),viewBox:"0 0 24 24",...p,children:i.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z",fill:"currentColor"})});re.displayName="DatePickerCalendarIcon";re.__ui__="DatePickerCalendarIcon";const ie=({className:f,children:p,...c})=>{const m=r.useRef(null),C=ne(),n=c.disabled,s=Pt({ref:m,disabled:n,...c});return i.jsx(ee,{className:G("ui-date-picker__icon--clear",f),"aria-label":"Clear value",__css:C.clearIcon,...s,children:p??i.jsx(Lt,{h:"0.5em",w:"0.5em"})})};ie.displayName="DatePickerClearIcon";ie.__ui__="DatePickerClearIcon";export{tt as D,Wt as a,se as b,ie as c,ee as d,ne as e,Kt as u};
