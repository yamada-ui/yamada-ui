import{r as u}from"./index-IybTgENJ.js";import{L as a}from"./motion-AgWUVtfu.js";import{u as x}from"./index-GPdqE8CR.js";const y=u.createContext(null),C=t=>!t.isLayoutDirty&&t.willUpdate(!1);function p(){const t=new Set,o=new WeakMap,r=()=>t.forEach(C);return{add:e=>{t.add(e),o.set(e,e.addEventListener("willUpdate",r))},remove:e=>{t.delete(e);const n=o.get(e);n&&(n(),o.delete(e)),r()},dirty:r}}const d=t=>t===!0,L=t=>d(t===!0)||t==="id",E=({children:t,id:o,inheritId:r,inherit:e=!0})=>{r!==void 0&&(e=r);const n=u.useContext(a),l=u.useContext(y),[i,f]=x(),s=u.useRef(null),c=n.id||l;s.current===null&&(L(e)&&c&&(o=o?c+"-"+o:c),s.current={id:o,group:d(e)&&n.group||p()});const m=u.useMemo(()=>({...s.current,forceRender:i}),[f]);return u.createElement(a.Provider,{value:m},t)};export{E as L};
