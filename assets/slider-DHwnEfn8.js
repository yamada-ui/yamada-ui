import{d as St,aq as Ct,a6 as J,r as l,an as wt,h as dt,m as mt,G as yt,i as it,M as Pt,ax as Mt,a as q,e as Et,Q as pt,f as _t,j as p,s as Z,D as E}from"./iframe-B58gGoPv.js";import{u as jt}from"./index-BAwTtQKG.js";import{u as Rt}from"./index-Dp97PSmK.js";import{i as It,g as N,b as X}from"./event-9ixPF7ep.js";import{u as Tt}from"./use-field-props-DAwmxNtQ.js";import{v as Y,r as lt,p as At,c as ct}from"./number-CcP_arM8.js";const Vt=St({base:{mark:{"&[data-indicator]":{_before:{bg:"{indicator-fill}",boxSize:"{track-size}",position:"absolute",rounded:"{indicator-rounded}"},_between:{"--indicator-fill":"colorScheme.contrast"}},color:"fg.muted",fontSize:"xs",pointerEvents:"none",position:"absolute",textAlign:"center",whiteSpace:"nowrap",zIndex:1},range:{bg:"{range-fill}",position:"absolute",rounded:"{track-rounded}"},root:{"--indicator-rounded":"radii.full","--track-rounded":"radii.full",alignItems:"center",display:"inline-flex",isolation:"isolate",position:"relative",touchAction:"none",_readOnly:{layerStyle:"readOnly"},_disabled:{layerStyle:"disabled"}},thumb:{alignItems:"center",bg:"{thumb-fill}",borderColor:"{thumb-stroke}",borderWidth:"2px",boxSize:"{thumb-size}",color:"{thumb-stroke}",display:"flex",justifyContent:"center",position:"absolute",rounded:"{thumb-rounded}",zIndex:2},track:{bg:"{track-fill}",cursor:{base:"pointer",_readOnly:"default",_disabled:"not-allowed"},flex:"1",position:"relative",rounded:"{track-rounded}"}},props:{orientation:{horizontal:{mark:{left:"{mark-position}",pt:"calc({track-size} + {spaces.2})",top:"0",translate:"-50% 0",_before:{left:"50%",top:"0",translate:"-50% 0"}},range:{h:"full",left:"{range-start}",top:"50%",translate:"0 -50%",w:"calc({range-end} - {range-start} + ({track-size} / 2))",_range:{left:"calc({range-start} - ({track-size} / 2))",w:"calc({range-end} - {range-start} + {track-size})"}},root:{flexDirection:"row",minW:"{thumb-size}",w:"full"},thumb:{top:"50%",translate:"-50% -50%",_end:{left:"{range-end}"},_start:{left:"{range-start}"}},track:{h:"{track-size}"}},vertical:{mark:{bottom:"{mark-position}",left:"0",lineHeight:"2",ps:"calc({track-size} + {spaces.3})",translate:"0 50%",_before:{left:"0",top:"50%",translate:"0 -50%"}},range:{bottom:"{range-start}",h:"calc({range-end} - {range-start} + ({track-size} / 2))",left:"50%",translate:"-50% 0",w:"full",_range:{bottom:"calc({range-start} - ({track-size} / 2))",h:"calc({range-end} - {range-start} + {track-size})"}},root:{flexDirection:"column",h:"full",minH:"{thumb-size}"},thumb:{left:"50%",translate:"-50% 50%",_end:{bottom:"{range-end}"},_start:{bottom:"{range-start}"}},track:{w:"{track-size}"}}},shape:{circle:{root:{"--thumb-rounded":"radii.full"}},rounded:{root:{"--thumb-rounded":"radii.l2"}},square:{root:{"--thumb-rounded":"0"}}}},variants:{outline:{root:{"--indicator-fill":"colorScheme.solid","--range-fill":"colorScheme.solid","--thumb-fill":"colors.bg","--thumb-stroke":"colorScheme.solid","--track-fill":"colors.bg.muted"}},solid:{root:{"--indicator-fill":"colorScheme.solid","--range-fill":"colorScheme.solid","--thumb-fill":"colorScheme.solid","--thumb-stroke":"colorScheme.solid","--track-fill":"colors.bg.muted"}}},sizes:{sm:{root:{"--thumb-size":"sizes.4","--track-size":"sizes.1.5"}},md:{root:{"--thumb-size":"sizes.5","--track-size":"sizes.2"}},lg:{root:{"--thumb-size":"sizes.6","--track-size":"sizes.2.5"}}},defaultProps:{size:"md",variant:"outline",orientation:"horizontal",shape:"circle"}}),Dt=({threshold:o=3,...n}={})=>{const{getWindow:d}=Ct(),h=J(n.onStart),x=J(n.onMove),k=J(n.onEnd),b=l.useRef(null),z=l.useRef([]),f=l.useRef(null),S=l.useCallback(()=>{z.current.forEach(a=>a()),b.current=null,z.current=[]},[]),i=l.useCallback(a=>o===0||!b.current?!0:Math.sqrt(Math.pow(a.x-b.current.x,2)+Math.pow(a.y-b.current.y,2))>=o,[o]);wt(()=>{S()});const m=l.useCallback((a={})=>({...a,ref:mt(f,a.ref),onPointerDown:dt(a.onPointerDown,v=>{const _=v.nativeEvent.view??d();if(!_||It(v.nativeEvent)||!f.current)return;v.preventDefault();const j=N(v.nativeEvent),V=f.current.getBoundingClientRect();h(v.nativeEvent,j,V),b.current=j,z.current.push(X(_,"pointermove",C=>{if(!f.current)return;const w=N(C),R=f.current.getBoundingClientRect();i(w)&&(b.current=w,x(C,w,R))})),z.current.push(X(_,"pointerup",C=>{if(!f.current)return;S();const w=N(C),R=f.current.getBoundingClientRect();k(C,w,R)})),z.current.push(X(_,"pointercancel",C=>{if(!f.current)return;S();const w=N(C),R=f.current.getBoundingClientRect();k(C,w,R)}))})}),[S,d,k,x,h,i]);return[f,m]},Ft=(o={})=>{const{props:{id:n,ref:d,name:h,"aria-labelledby":x,"aria-valuetext":k,betweenThumbs:b=0,defaultValue:z=0,disabled:f,getAriaValueText:S,max:i=100,min:m=0,orientation:a="horizontal",readOnly:v,required:_,step:j=1,value:V,onChange:C,onChangeEnd:w,onChangeStart:R,...tt},ariaProps:$,dataProps:y,eventProps:et}=Tt(o),[r,L]=Rt({defaultValue:z,value:V,onChange:C}),{t:rt}=yt("slider"),D=l.useRef(0),T=!(f||v),[Nt,nt]=Dt({onEnd:(t,e,g)=>{if(!T)return;const s=Q(e,g);if(c){const u=D.current===0,M=D.current===0?1:0,A=r[M];w?.(u?[s,A]:[A,s])}else w?.(s)},onMove:(t,e,g)=>{if(!T)return;const s=Q(e,g);P(D.current,s)},onStart:(t,e,g)=>{if(!T)return;const s=Q(e,g);if(c){const u=r.map(zt=>Math.abs(zt-s)),M=Math.min(...u),A=u.indexOf(M);D.current=A;const at=A===0,I=r[A===0?1:0];R?.(at?[s,I]:[I,s])}else D.current=0,R?.(r);P(D.current,s)}}),c=!pt(r),F=c?r.map(t=>Y(t,m,i)):Y(r,m,i),G=(i-m)/10,B=j||(i-m)/100;i<m&&console.warn("Do not assign a number less than 'min' to 'max'");const O=l.useCallback(t=>{const e=t===0,s=c?r[t===0?1:0]:r;return{max:c&&e?s-b:i,min:c?e?m:s+b:m}},[b,i,m,c,r]),Q=l.useCallback(({x:t,y:e},{bottom:g,height:s,left:u,width:M})=>{const st=(a==="horizontal"?t-u:g-e)/(a==="horizontal"?M:s);let I=At(st,m,i);return I=parseFloat(lt(I,m,j)),I=ct(I,m,i),I},[a,m,i,j]),P=l.useCallback((t,e)=>{if(!T)return;const{max:g,min:s}=O(t);e=parseFloat(lt(e,s,B)),e=ct(e,s,g),L(u=>{if(it(u)){const M=[...u];return M[t]=e,M}else return e})},[O,T,B,L]),H=l.useCallback((t,e=B)=>c?P(t,r[t]+e):P(t,r+e),[B,c,P,r]),K=l.useCallback((t,e=B)=>c?P(t,r[t]-e):P(t,r-e),[B,c,P,r]),ot=l.useCallback(t=>e=>{const{max:g,min:s}=O(t);Pt(e,{ArrowDown:()=>K(t),ArrowLeft:()=>K(t),ArrowRight:()=>H(t),ArrowUp:()=>H(t),End:()=>P(t,g),Home:()=>P(t,s),PageDown:()=>K(t,G),PageUp:()=>H(t,G)})},[O,P,K,H,G]),ft=l.useCallback(t=>{const e={...y,"data-orientation":a,...et,...tt,...t};return e.style??={},it(F)?(e.style["--range-start"]=`${Math.abs(F[0])}%`,e.style["--range-end"]=`${Math.abs(F[1])}%`):(e.style["--range-start"]="0%",e.style["--range-end"]=`${Math.abs(F)}%`),e},[y,et,a,F,tt]),gt=l.useCallback(({index:t=0,...e}={})=>({...Mt,...y,...$,id:n,type:"hidden",name:h,disabled:f,readOnly:v,required:_,value:c?r[t]:r,...e,ref:t===0?mt(e.ref,d):e.ref}),[y,$,n,h,f,v,_,c,r,d]),ht=l.useCallback(t=>nt({...y,"data-orientation":a,...t}),[y,nt,a]),kt=l.useCallback(t=>({...y,"data-orientation":a,"data-range":q(c),...t}),[y,a,c]),vt=l.useCallback(({style:t,value:e,...g})=>{const s=c?r[0]<e&&e<r[1]:e<r,u=Y(e,m,i);return{...y,"aria-hidden":!0,"data-between":q(s),"data-orientation":a,role:"presentation",...g,style:{...t,"--mark-position":`${u}%`}}},[y,i,m,a,c,r]),xt=l.useCallback(({index:t=0,...e}={})=>{const{max:g,min:s}=O(t),u={...y,...$,"aria-label":rt("Slider thumb"),"aria-orientation":a,"aria-valuemax":g,"aria-valuemin":s,role:"slider",tabIndex:T?0:-1,...e,"aria-labelledby":Et(e["aria-labelledby"],x),onKeyDown:dt(e.onKeyDown,ot(t))};if(c){const M=r[t];u["data-start"]=q(t===0),u["data-end"]=q(t===1),u["aria-valuenow"]=M,u["aria-valuetext"]=k??S?.(M,t)??M.toString()}else u["data-end"]=q(t===0),u["aria-valuenow"]=r,u["aria-valuetext"]=k??S?.(r,t)??r.toString();return u},[rt,x,$,k,y,S,O,T,ot,a,c,r]);return{percent:F,range:c,setValue:L,stepDown:K,stepUp:H,value:r,getInputProps:gt,getMarkProps:vt,getRangeProps:kt,getRootProps:ft,getThumbProps:xt,getTrackProps:ht,onChange:P}},{ComponentContext:Bt,useComponentContext:U,withContext:W,withProvider:Ot}=_t("slider",Vt),Yt=Ot(({children:o,marks:n,orientation:d,inputProps:h,marksProps:x,rangeProps:k,thumbProps:b,trackProps:z,...f})=>{const S=jt(d),{range:i,getInputProps:m,getMarkProps:a,getRangeProps:v,getRootProps:_,getThumbProps:j,getTrackProps:V}=Ft({orientation:S,...f}),C=l.useMemo(()=>o||p.jsxs(p.Fragment,{children:[p.jsxs(Ht,{...z,children:[p.jsx(Kt,{...k}),i?p.jsx($t,{...b}):p.jsx(bt,{...b})]}),n?p.jsx(Ut,{marks:n,...x}):null]}),[o,n,x,i,k,b,z]),w=l.useMemo(()=>({range:i,getInputProps:m,getMarkProps:a,getRangeProps:v,getThumbProps:j,getTrackProps:V}),[i,m,a,v,j,V]);return p.jsx(Bt,{value:w,children:p.jsxs(Z.div,{..._(),children:[p.jsx(qt,{...h}),C]})})},"root",{transferProps:["orientation"]})(void 0,({indicatorFill:o,indicatorRounded:n,rangeFill:d,thumbFill:h,thumbRounded:x,thumbSize:k,thumbStroke:b,trackFill:z,trackRounded:f,trackSize:S,...i})=>({"--indicator-fill":E(o,"colors"),"--indicator-rounded":E(n,"radii"),"--range-fill":E(d,"colors"),"--thumb-fill":E(h,"colors"),"--thumb-rounded":E(x,"radii"),"--thumb-size":E(k,"sizes"),"--thumb-stroke":E(b,"colors"),"--track-fill":E(z,"colors"),"--track-rounded":E(f,"radii"),"--track-size":E(S,"sizes"),...i})),qt=()=>{const{range:o,getInputProps:n}=U();return o?Array.from({length:2}).map((d,h)=>p.jsx(Z.input,{...n({index:h})},h)):p.jsx(Z.input,{...n()})},Ht=W("div","track")(void 0,o=>{const{getTrackProps:n}=U();return n(o)}),Kt=W("div","range")(void 0,o=>{const{getRangeProps:n}=U();return n(o)}),ut=W("div","mark")(void 0,({indicator:o=!0,...n})=>{const{getMarkProps:d}=U();return d({"data-indicator":q(o),...n})}),Ut=({marks:o,...n})=>p.jsx(p.Fragment,{children:o.map((d,h)=>{if(pt(d))return p.jsx(ut,{value:d,...n},h);{const{indicator:x,label:k,value:b}=d;return p.jsx(ut,{indicator:x,value:b,children:k},h)}})}),bt=W("div","thumb")(void 0,o=>{const{getThumbProps:n}=U();return n(o)}),$t=o=>p.jsx(p.Fragment,{children:Array.from({length:2}).map((n,d)=>p.jsx(bt,{index:d,...o},d))});export{Yt as S,Ht as a,bt as b,Kt as c,Ut as d,Vt as s};
