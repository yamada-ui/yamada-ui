import{j as d}from"./jsx-runtime-BpbtHYHY.js";import{r}from"./index-BwPxMuoB.js";import{i as K,v as W,u as X,m as L,h as S,d as f,a as Y,b as N,c as B}from"./factory-DbNU74ts.js";import{f as H}from"./forward-ref-Ukjd1cIW.js";import{u as F}from"./use-component-style-CpB_lyT3.js";import{o as G}from"./theme-provider-ChqdwXGn.js";const J={"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",_scrollbar:{display:"none"}},O={"&::-webkit-scrollbar-thumb":{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},"@-moz-document url-prefix()":{scrollbarColor:"transparent transparent",_dark:{scrollbarColor:"transparent transparent"},_light:{scrollbarColor:"transparent transparent"}},_dark:{"&::-webkit-scrollbar-thumb":{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},_scrollbarTrack:{bg:"transparent"}},_light:{"&::-webkit-scrollbar-thumb":{bg:"transparent"},"&::-webkit-scrollbar-track":{bg:"transparent"},_scrollbarThumb:{bg:"transparent"},_scrollbarTrack:{bg:"transparent"}},_scrollbarThumb:{bg:"transparent"},_scrollbarTrack:{bg:"transparent"}},P=H((_,a)=>{const[o,g]=F("ScrollArea",_),{type:e="hover",overflow:k="overlay",scrollHideDelay:c=1e3,onScrollPositionChange:u,...l}=G(g),[n,T]=r.useState(!1),[t,x]=r.useState(!1),w=e==="always",A=e==="never",M=K()&&W(/apple/i),i=r.useRef(void 0),b=r.useRef(void 0),m=r.useRef(null),p=r.useRef({x:0,y:0});X(()=>{!m.current||!M||(m.current.scrollLeft=p.current.x,m.current.scrollTop=p.current.y)});const E=r.useCallback(()=>{e==="hover"&&(clearTimeout(i.current),T(!0))},[e]),R=r.useCallback(()=>{e==="hover"&&(i.current=setTimeout(()=>T(!1),c))},[c,e]),j=r.useCallback(s=>{const $=s.target,{scrollLeft:y,scrollTop:h}=$,{x:q,y:z}=p.current,D=Math.abs(y-q)<=5&&Math.abs(h-z)<=5;u==null||u({x:y,y:h}),p.current={x:y,y:h},!(e!=="scroll"||D)&&(t||x(!0),clearTimeout(b.current),b.current=setTimeout(()=>x(!1),c))},[t,u,c,e]);r.useEffect(()=>()=>{i.current&&clearTimeout(i.current),b.current&&clearTimeout(b.current)},[]);const C=r.useMemo(()=>{const s={overflow:k,...o};return A?L(s,J):L(s,!w&&!n&&!t?O:{})},[w,n,A,t,k,o]),I=r.useMemo(()=>({__css:C,...l,onMouseEnter:S(l.onMouseEnter,E),onMouseLeave:S(l.onMouseLeave,R),onScroll:S(l.onScroll,j)}),[C,E,R,j,l]);if(M){const s=`${n}-${t}`;return d.jsx(v,{ref:Y(a,m),"data-hovered":f(n),"data-key":s,"data-scrolling":f(t),...I},s)}else return d.jsx(v,{ref:a,"data-hovered":f(n),"data-scrolling":f(t),...I})});P.displayName="ScrollArea";P.__ui__="ScrollArea";const v=H(({className:_,children:a,innerProps:o,...g},e)=>d.jsx(N.div,{ref:e,className:B("ui-scroll-area",_),tabIndex:0,...g,children:o?d.jsx(N.div,{className:"ui-scroll-area__inner",...o,children:a}):a}));v.displayName="InternalScrollArea";v.__ui__="InternalScrollArea";export{P as S};
