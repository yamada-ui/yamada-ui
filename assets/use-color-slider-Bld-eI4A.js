import{u as de}from"./index-D3uVnNfI.js";import{u as pe,a as ge,b as be}from"./index-DCkI3YJn.js";import{r as s}from"./index-Bv9Y92EF.js";import{u as Ce,f as ve}from"./form-control-C8eO6U25.js";import{r as Y,p as Pe,c as F,v as he}from"./number-CcP_arM8.js";import{M as ye,s as J,o as Se,a as A,h as D,d as we}from"./factory-7Z88KRtK.js";const $e=({focusThumbOnChange:o=!0,...m})=>{o||(m.isReadOnly=!0);const{id:E,name:$,style:B,channel:T="hue",defaultValue:Q,max:c,min:u=0,step:I=1,thumbColor:U,value:W,onChange:Z,onChangeEnd:_,onChangeStart:ee,...te}=Ce(m),[{"aria-readonly":b,disabled:h,readOnly:y,required:K,onBlur:M,onFocus:N,...i},z]=ye(te,ve),ne=J(ee),S=J(_),[re,w]=de({defaultValue:Q??u+(c-u)/2,value:W,onChange:Z}),a=F(re,u,c),L=he(a,u,c),[j,q]=s.useState(!1),x=!(h||y),d=I||(c-u)/100,k=(c-u)/10,G=s.useRef(null),R=s.useRef(null),V=s.useRef(null),r=pe({eventSource:null,focusThumbOnChange:o,interactive:x,max:c,min:u,step:I,value:a}),C=ge(V),oe=s.useCallback(e=>{var X;if(!R.current)return;const{max:t,min:n,step:l}=r.current;r.current.eventSource="pointer";const{left:p,width:ie}=R.current.getBoundingClientRect(),{clientX:fe}=((X=e.touches)==null?void 0:X[0])??e,me=(fe-p)/ie;let g=Pe(me,n,t);return l&&(g=parseFloat(Y(g,n,l))),g=F(g,n,t),g},[r]),H=e=>{const{value:t}=r.current,n=oe(e);n!=null&&n!==t&&w(n)},ae=s.useCallback(()=>{const{focusThumbOnChange:e}=r.current;e&&setTimeout(()=>{var t;return(t=V.current)==null?void 0:t.focus()})},[r]),f=s.useCallback(e=>{const{interactive:t,max:n,min:l}=r.current;t&&(e=parseFloat(Y(e,l,d)),e=F(e,l,n),w(e))},[w,r,d]),v=s.useCallback((e=d)=>f(a+e),[f,a,d]),P=s.useCallback((e=d)=>f(a-e),[f,a,d]),O=s.useCallback(e=>{const{max:t,min:n}=r.current,p={ArrowDown:()=>P(),ArrowLeft:()=>P(),ArrowRight:()=>v(),ArrowUp:()=>v(),End:()=>f(t),Home:()=>f(n),PageDown:()=>P(k),PageUp:()=>v(k)}[e.key];p&&(e.preventDefault(),e.stopPropagation(),p(e),r.current.eventSource="keyboard")},[f,r,P,v,k]);be(G,{onMove:e=>{const{interactive:t}=r.current;t&&H(e)},onSessionEnd:()=>{const{interactive:e,value:t}=r.current;e&&(q(!1),S(t))},onSessionStart:e=>{const{interactive:t,value:n}=r.current;t&&(q(!0),ae(),H(e),ne(n))}}),Se(()=>{const{eventSource:e,value:t}=r.current;e==="keyboard"&&S(t)},[a,S]);const se=s.useCallback((e={},t=null)=>{const{width:n}=C??{width:0},l={...e.style,...B,paddingInline:`${n/2}px`};return{...e,...i,...z,ref:A(t,G),style:l,tabIndex:-1}},[z,i,B,C]),le=s.useCallback((e={},t=null)=>({...i,"aria-readonly":b,...e,id:E,ref:t,type:"hidden",name:$,disabled:h,readOnly:y,required:K,value:a}),[b,h,i,E,$,y,K,a]),ue=s.useCallback((e={},t=null)=>({...i,...e,ref:A(t,R)}),[i]),ce=s.useCallback((e={},t=null)=>{const n=L,{width:l}=C??{width:0},p={...e.style,left:`calc(${n}% - ${l/2}px)`,position:"absolute",touchAction:"none",userSelect:"none"};return{"aria-label":"Slider thumb",bg:U??`hsl(${a}, 100%, 50%)`,...i,"aria-readonly":b,...e,ref:A(t,V),style:p,"aria-valuemax":c,"aria-valuemin":u,"aria-valuenow":a,"aria-valuetext":xe(T,a),"data-active":we(j&&o),role:"slider",tabIndex:x&&o?0:void 0,onBlur:D(e.onBlur,M),onFocus:D(e.onFocus,N),onKeyDown:D(e.onKeyDown,O)}},[L,C,U,a,i,b,c,u,T,j,o,x,M,N,O]);return{value:a,getContainerProps:se,getInputProps:le,getThumbProps:ce,getTrackProps:ue}},xe=(o,m)=>o==="hue"?`${m}Â°, ${ke(m)}`:`${m*100}%`,ke=o=>o<30||o>=330?"Red":o<90?"Yellow":o<150?"Green":o<210?"Cyan":o<270?"Blue":"Magenta";export{$e as u};
