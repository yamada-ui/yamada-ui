import{d as B,r as o,ao as L,ap as U,h as l,f as G,m as H,b as w,aq as A,j as u,a6 as J,ar as K,L as F,l as M,q as N}from"./iframe-Bh9OJiMa.js";import{u as I}from"./index-DupE20-r.js";import{u as Q}from"./index-9337QP8d.js";import{u as V,c as X,g as Y}from"./popover-D_wSxUaV.js";import{u as Z}from"./use-disclosure-BIhcLmn4.js";const _=B({base:{content:{bg:"bg.float",borderColor:"border.muted",borderWidth:"1px",boxShadow:"sm",fontSize:"sm",maxW:"xs",position:"relative",px:"sm",py:"xs",rounded:"l2"},positioner:{zIndex:"ginyu"}}}),$=(b={})=>{const[x,{closeDelay:m=0,closeOnClick:p=!0,closeOnEsc:P=!0,closeOnScroll:T,defaultOpen:h,disabled:f,open:v,openDelay:C=0,onClose:y,onOpen:k}]=V(b,["open"]),s=o.useId(),i=o.useRef(null),c=o.useRef(void 0),d=o.useRef(void 0),{open:e,onClose:E,onOpen:O}=Z({defaultOpen:h,open:v,onClose:y,onOpen:k}),{getPopperProps:R,getReferenceProps:D}=X({open:e,...x}),a=o.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=void 0),E()},[E]),g=o.useCallback(()=>{!f&&!c.current&&(e&&a(),c.current=L(i.current).setTimeout(O,C))},[f,e,a,O,C]),t=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0),d.current=L(i.current).setTimeout(()=>{a()},m)},[m,a]);I(()=>A(i.current),"keydown",({key:n})=>{P&&n==="Escape"&&t()}),I(()=>A(i.current),"scroll",()=>{e&&T&&a()}),Q({ref:i,enabled:e,handler:()=>{t()}}),U(()=>{clearTimeout(c.current),clearTimeout(d.current)});const W=o.useCallback(({"aria-describedby":n,...r}={})=>D({...r,ref:H(r.ref,i),"aria-describedby":G(n,e?s:void 0),onBlur:l(r.onBlur,t),onClick:l(r.onClick,p?t:void 0),onFocus:l(r.onFocus,g),onPointerEnter:l(r.onPointerEnter,S=>{S.pointerType!=="touch"&&g()}),onPointerLeave:l(r.onPointerLeave,S=>{S.pointerType!=="touch"&&t()})}),[D,s,g,e,p,t]),q=o.useCallback(n=>R(n),[R]),z=o.useCallback((n={})=>({id:s,"data-close":w(!e),"data-open":w(e),role:"tooltip",onPointerLeave:l(n.onPointerLeave,t),...n}),[s,t,e]);return{open:e,getContentProps:z,getPositionerProps:q,getTriggerProps:W,onClose:a,onDelayClose:t,onDelayOpen:g,onOpen:O}},{StyleContext:ee,withContext:j,useRootComponentProps:oe}=M("tooltip",_),ue=b=>{const[x,{animationScheme:m="scale",children:p,content:P,duration:T=.1,contentProps:h,portalProps:f,...v}]=oe(b),{open:C,getContentProps:y,getPositionerProps:k,getTriggerProps:s}=$(v);return P?u.jsxs(ee,{value:x,children:[u.jsx(ne,{asChild:!0,...s(),children:p}),u.jsx(J,{children:C?u.jsx(K,{...f,children:u.jsx(te,{...k(),children:u.jsx(re,{...Y(m,T),...F(y(F(h))),children:P})})}):null})]}):p},te=j("div","positioner")(),ne=j("button","trigger")(),re=j(N.div,"content")();export{ue as T};
