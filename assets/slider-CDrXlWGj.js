import{G as vt,r as b,i as nt,a as xt,h as W,m as Pt,O as kt,b as B,f as yt,J as ct,g as jt,j as c,s as Y,U as y}from"./iframe-DaVT7dxo.js";import{u as wt}from"./index-CUCGStop.js";import{u as Ct,s as St}from"./index-6FlR9BXM.js";import{u as Mt}from"./index-3228ODx_.js";import{u as It}from"./use-field-props-BTZiGdm1.js";import{v as X,r as st,p as Rt,c as lt}from"./number-CcP_arM8.js";const Tt=(n={})=>{const{props:{id:o,ref:p,name:g,"aria-labelledby":j,"aria-valuetext":k,betweenThumbs:x=0,defaultValue:R=0,disabled:S,getAriaValueText:P,max:s=100,min:u=0,orientation:d="horizontal",readOnly:T,required:E,step:V=1,value:N,onChange:L,onChangeEnd:w,onChangeStart:A,...Z},ariaProps:O,dataProps:f,eventProps:q}=It(n),[r,G]=Mt({defaultValue:R,value:N,onChange:L}),{t:tt}=vt("slider"),F=b.useRef(0),M=!(S||T),[Kt,et]=Ct({onEnd:(t,e,m)=>{if(!M)return;const a=Q(e,m);if(l){const i=F.current===0,v=F.current===0?1:0,I=r[v];w==null||w(i?[a,I]:[I,a])}else w==null||w(a)},onMove:(t,e,m)=>{if(!M)return;const a=Q(e,m);h(F.current,a)},onStart:(t,e,m)=>{if(!M)return;const a=Q(e,m);if(l){const i=r.map(ht=>Math.abs(ht-a)),v=Math.min(...i),I=i.indexOf(v);F.current=I;const at=I===0,C=r[I===0?1:0];A==null||A(at?[a,C]:[C,a])}else F.current=0,A==null||A(r);h(F.current,a)}}),l=!ct(r),z=l?r.map(t=>X(t,u,s)):X(r,u,s),J=(s-u)/10,D=V||(s-u)/100;s<u&&console.warn("Do not assign a number less than 'min' to 'max'");const _=b.useCallback(t=>{const e=t===0,a=l?r[t===0?1:0]:r;return{max:l&&e?a-x:s,min:l?e?u:a+x:u}},[x,s,u,l,r]),Q=b.useCallback(({x:t,y:e},{bottom:m,height:a,left:i,width:v})=>{const ot=(d==="horizontal"?t-i:m-e)/(d==="horizontal"?v:a);let C=Rt(ot,u,s);return C=parseFloat(st(C,u,V)),C=lt(C,u,s),C},[d,u,s,V]),h=b.useCallback((t,e)=>{if(!M)return;const{max:m,min:a}=_(t);e=parseFloat(st(e,a,D)),e=lt(e,a,m),G(i=>{if(nt(i)){const v=[...i];return v[t]=e,v}else return e})},[_,M,D,G]),K=b.useCallback((t,e=D)=>l?h(t,r[t]+e):h(t,r+e),[D,l,h,r]),U=b.useCallback((t,e=D)=>l?h(t,r[t]-e):h(t,r-e),[D,l,h,r]),rt=b.useCallback(t=>e=>{const{max:m,min:a}=_(t);xt(e,{ArrowDown:()=>U(t),ArrowLeft:()=>U(t),ArrowRight:()=>K(t),ArrowUp:()=>K(t),End:()=>h(t,m),Home:()=>h(t,a),PageDown:()=>U(t,J),PageUp:()=>K(t,J)})},[_,h,U,K,J]),pt=b.useCallback((t={})=>{const e={...f,"data-orientation":d,...Z,...t,onBlur:W(t.onBlur,q.onBlur),onFocus:W(t.onFocus,q.onFocus)};return e.style??(e.style={}),nt(z)?(e.style["--range-start"]=`${Math.abs(z[0])}%`,e.style["--range-end"]=`${Math.abs(z[1])}%`):(e.style["--range-start"]="0%",e.style["--range-end"]=`${Math.abs(z)}%`),e},[f,q,d,z,Z]),dt=b.useCallback(({index:t=0,...e}={})=>({...kt,...f,...O,id:o,type:"hidden",name:g,disabled:S,readOnly:T,required:E,value:l?r[t]:r,...e,ref:t===0?Pt(e.ref,p):e.ref}),[f,O,o,g,S,T,E,l,r,p]),mt=b.useCallback(t=>et({...f,"data-orientation":d,...t}),[f,et,d]),bt=b.useCallback(t=>({...f,"data-orientation":d,"data-range":B(l),...t}),[f,d,l]),gt=b.useCallback(({style:t,value:e,...m})=>{const a=l?r[0]<e&&e<r[1]:e<r,i=X(e,u,s);return{...f,"aria-hidden":!0,"data-between":B(a),"data-orientation":d,role:"presentation",...m,style:{...t,"--mark-position":`${i}%`}}},[f,s,u,d,l,r]),ft=b.useCallback(({index:t=0,...e}={})=>{const{max:m,min:a}=_(t),i={...f,...O,"aria-label":tt("Slider thumb"),"aria-orientation":d,"aria-valuemax":m,"aria-valuemin":a,role:"slider",tabIndex:M?0:-1,...e,"aria-labelledby":yt(e["aria-labelledby"],j),onKeyDown:W(e.onKeyDown,rt(t))};if(l){const v=r[t];i["data-start"]=B(t===0),i["data-end"]=B(t===1),i["aria-valuenow"]=v,i["aria-valuetext"]=k??(P==null?void 0:P(v,t))??v.toString()}else i["data-end"]=B(t===0),i["aria-valuenow"]=r,i["aria-valuetext"]=k??(P==null?void 0:P(r,t))??r.toString();return i},[tt,j,O,k,f,P,_,M,rt,d,l,r]);return{percent:z,range:l,setValue:G,stepDown:U,stepUp:K,value:r,getInputProps:dt,getMarkProps:gt,getRangeProps:bt,getRootProps:pt,getThumbProps:ft,getTrackProps:mt,onChange:h}},{ComponentContext:Vt,useComponentContext:$,withContext:H,withProvider:At}=jt("slider",St),Lt=At(({children:n,marks:o,orientation:p,inputProps:g,marksProps:j,rangeProps:k,thumbProps:x,trackProps:R,...S})=>{const P=wt(p),{range:s,getInputProps:u,getMarkProps:d,getRangeProps:T,getRootProps:E,getThumbProps:V,getTrackProps:N}=Tt({orientation:P,...S}),L=b.useMemo(()=>n||c.jsxs(c.Fragment,{children:[c.jsxs(zt,{...R,children:[c.jsx(Dt,{...k}),s?c.jsx(Bt,{...x}):c.jsx(ut,{...x})]}),o?c.jsx(_t,{marks:o,...j}):null]}),[n,o,j,s,k,x,R]),w=b.useMemo(()=>({range:s,getInputProps:u,getMarkProps:d,getRangeProps:T,getThumbProps:V,getTrackProps:N}),[s,u,d,T,V,N]);return c.jsx(Vt,{value:w,children:c.jsxs(Y.div,{...E(),children:[c.jsx(Ft,{...g}),L]})})},"root",{transferProps:["orientation"]})(void 0,({indicatorFill:n,indicatorRounded:o,rangeFill:p,thumbFill:g,thumbRounded:j,thumbSize:k,thumbStroke:x,trackFill:R,trackRounded:S,trackSize:P,...s})=>({"--indicator-fill":y(n,"colors"),"--indicator-rounded":y(o,"radii"),"--range-fill":y(p,"colors"),"--thumb-fill":y(g,"colors"),"--thumb-rounded":y(j,"radii"),"--thumb-size":y(k,"sizes"),"--thumb-stroke":y(x,"colors"),"--track-fill":y(R,"colors"),"--track-rounded":y(S,"radii"),"--track-size":y(P,"sizes"),...s})),Ft=()=>{const{range:n,getInputProps:o}=$();return n?Array.from({length:2}).map((p,g)=>c.jsx(Y.input,{...o({index:g})},g)):c.jsx(Y.input,{...o()})},zt=H("div","track")(void 0,n=>{const{getTrackProps:o}=$();return o(n)}),Dt=H("div","range")(void 0,n=>{const{getRangeProps:o}=$();return o(n)}),it=H("div","mark")(void 0,({indicator:n=!0,...o})=>{const{getMarkProps:p}=$();return p({"data-indicator":B(n),...o})}),_t=({marks:n,...o})=>c.jsx(c.Fragment,{children:n.map((p,g)=>{if(ct(p))return c.jsx(it,{value:p,...o},g);{const{indicator:j,label:k,value:x}=p;return c.jsx(it,{indicator:j,value:x,children:k},g)}})}),ut=H("div","thumb")(void 0,n=>{const{getThumbProps:o}=$();return o(n)}),Bt=n=>c.jsx(c.Fragment,{children:Array.from({length:2}).map((o,p)=>c.jsx(ut,{index:p,...n},p))});export{Lt as S,zt as a,ut as b,Dt as c,_t as d};
