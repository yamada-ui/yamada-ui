import{m as f}from"./menu.style-rG1wPR9u.js";import{n as y}from"./native-select.style-BW9Gtkut.js";import{d as ge,a3 as X,c as be,aJ as de,aH as ee,aK as Ce,j as te,au as xe,r as b,H as ve,K as ye,a as we,N as ke,h as Q,m as ae,b as re,f as me,e as he}from"./iframe-D0k82VKj.js";import{c as De}from"./index-CHt3lkje.js";import{d as Se}from"./popover-D71C8iMr.js";import{u as ze}from"./use-disclosure-nWTEVeYt.js";const Ae=ge({base:{...y.base,content:{...f.base?.content,maxH:"xs"},field:{...y.base?.field,"--gap":"spaces.1",alignItems:"center",display:"flex"},group:f.base?.group,indicator:f.base?.indicator,label:f.base?.label,option:f.base?.item,separator:f.base?.separator,valueText:{userSelect:"none"}},props:{wrap:{false:{valueText:{truncated:!0}},true:{field:{py:"{gap}"},valueText:{display:"inline-flex",flexWrap:"wrap",gapY:"{gap}"}}}},variants:{filled:{...y.variants?.filled,field:{_expanded:X.inside,_focus:X.inside,...y.variants?.filled.field}},flushed:{...y.variants?.flushed,field:{_expanded:{...y.variants?.flushed.field?._focusVisible,_invalid:{borderColor:"{error-border-color}",boxShadow:"0px 1px 0px 0px {error-border-color}"}},_focus:{...y.variants?.flushed.field?._focusVisible,_invalid:{borderColor:"{error-border-color}",boxShadow:"0px 1px 0px 0px {error-border-color}"}},...y.variants?.flushed.field}},outline:{...y.variants?.outline,field:{_expanded:X.inside,_focus:X.inside,...y.variants?.outline.field}},plain:{...y.variants?.plain,field:{_expanded:X.inside,_focus:X.inside,...y.variants?.plain.field}}},sizes:{xs:{...y.sizes?.xs,content:f.sizes?.sm.content,indicator:f.sizes?.sm.indicator,label:f.sizes?.sm.label,option:f.sizes?.sm.item},sm:{...y.sizes?.sm,content:f.sizes?.md.content,indicator:f.sizes?.md.indicator,label:f.sizes?.md.label,option:f.sizes?.md.item},md:{...y.sizes?.md,content:f.sizes?.md.content,indicator:f.sizes?.md.indicator,label:f.sizes?.md.label,option:f.sizes?.md.item},lg:{...y.sizes?.lg,content:f.sizes?.lg.content,indicator:f.sizes?.lg.indicator,label:f.sizes?.lg.label,option:f.sizes?.lg.item},xl:{...y.sizes?.xl,content:f.sizes?.lg.content,indicator:f.sizes?.lg.indicator,label:f.sizes?.lg.label,option:f.sizes?.lg.item}},defaultProps:{size:"md",variant:"outline",wrap:!1}}),ue=e=>typeof e=="object"&&e!=null&&e.nodeType===1,fe=(e,n)=>(!n||e!=="hidden")&&e!=="visible"&&e!=="clip",ne=(e,n)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const c=getComputedStyle(e,null);return fe(c.overflowY,n)||fe(c.overflowX,n)||(u=>{const r=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch{return null}})(u);return!!r&&(r.clientHeight<u.scrollHeight||r.clientWidth<u.scrollWidth)})(e)}return!1},oe=(e,n,c,u,r,t,o,l)=>t<e&&o>n||t>e&&o<n?0:t<=e&&l<=c||o>=n&&l>=c?t-e-u:o>n&&l<c||t<e&&l>c?o-n+r:0,Me=e=>{const n=e.parentElement;return n??(e.getRootNode().host||null)},pe=(e,n)=>{var c,u,r,t;if(typeof document>"u")return[];const{scrollMode:o,block:l,inline:C,boundary:w,skipOverflowHiddenElements:R}=n,j=typeof w=="function"?w:g=>g!==w;if(!ue(e))throw new TypeError("Invalid target");const F=document.scrollingElement||document.documentElement,W=[];let x=e;for(;ue(x)&&j(x);){if(x=Me(x),x===F){W.push(x);break}x!=null&&x===document.body&&ne(x)&&!ne(document.documentElement)||x!=null&&ne(x,R)&&W.push(x)}const P=(u=(c=window.visualViewport)==null?void 0:c.width)!=null?u:innerWidth,H=(t=(r=window.visualViewport)==null?void 0:r.height)!=null?t:innerHeight,{scrollX:T,scrollY:M}=window,{height:k,width:m,top:_,right:L,bottom:B,left:p}=e.getBoundingClientRect(),{top:h,right:E,bottom:K,left:z}=(g=>{const a=window.getComputedStyle(g);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(e);let V=l==="start"||l==="nearest"?_-h:l==="end"?B+K:_+k/2-h+K,D=C==="center"?p+m/2-z+E:C==="end"?L+E:p-z;const S=[];for(let g=0;g<W.length;g++){const a=W[g],{height:N,width:G,top:Y,right:J,bottom:q,left:d}=a.getBoundingClientRect();if(o==="if-needed"&&_>=0&&p>=0&&B<=H&&L<=P&&(a===F&&!ne(a)||_>=Y&&B<=q&&p>=d&&L<=J))return S;const i=getComputedStyle(a),s=parseInt(i.borderLeftWidth,10),v=parseInt(i.borderTopWidth,10),A=parseInt(i.borderRightWidth,10),U=parseInt(i.borderBottomWidth,10);let O=0,I=0;const Z="offsetWidth"in a?a.offsetWidth-a.clientWidth-s-A:0,$="offsetHeight"in a?a.offsetHeight-a.clientHeight-v-U:0,se="offsetWidth"in a?a.offsetWidth===0?0:G/a.offsetWidth:0,le="offsetHeight"in a?a.offsetHeight===0?0:N/a.offsetHeight:0;if(F===a)O=l==="start"?V:l==="end"?V-H:l==="nearest"?oe(M,M+H,H,v,U,M+V,M+V+k,k):V-H/2,I=C==="start"?D:C==="center"?D-P/2:C==="end"?D-P:oe(T,T+P,P,s,A,T+D,T+D+m,m),O=Math.max(0,O+M),I=Math.max(0,I+T);else{O=l==="start"?V-Y-v:l==="end"?V-q+U+$:l==="nearest"?oe(Y,q,N,v,U+$,V,V+k,k):V-(Y+N/2)+$/2,I=C==="start"?D-d-s:C==="center"?D-(d+G/2)+Z/2:C==="end"?D-J+A+Z:oe(d,J,G,s,A+Z,D,D+m,m);const{scrollLeft:ie,scrollTop:ce}=a;O=le===0?0:Math.max(0,Math.min(ce+O/le,a.scrollHeight-N/le+$)),I=se===0?0:Math.max(0,Math.min(ie+I/se,a.scrollWidth-G/se+Z)),V+=ce-O,D+=ie-I}S.push({el:a,top:O,left:I})}return S},Ve=e=>e===!1?{block:"end",inline:"nearest"}:(n=>n===Object(n)&&Object.keys(n).length!==0)(e)?e:{block:"start",inline:"nearest"};function We(e,n){if(!e.isConnected||!(r=>{let t=r;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const c=(r=>{const t=window.getComputedStyle(r);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((r=>typeof r=="object"&&typeof r.behavior=="function")(n))return n.behavior(pe(e,n));const u=typeof n=="boolean"||n==null?void 0:n.behavior;for(const{el:r,top:t,left:o}of pe(e,Ve(n))){const l=t-c.top+c.bottom,C=o-c.left+c.right;r.scroll({top:l,left:C,behavior:u})}}const je=(e,{Group:n,Label:c,Option:u})=>de(e).filter(({type:t})=>ee(t,u)||ee(t,n)).map(({type:t,props:o})=>{if(ee(t,u))return{...o,label:o.children};{const l=de(o.children),C=Ce(l,c);return{...o,items:l.filter(({type:w})=>ee(w,u)).map(({props:w})=>({...w,label:w.children})),label:C?.props.children??o.label}}}),Le=(e,{Empty:n,Group:c,Option:u})=>e.map((r,t)=>{if("data-empty"in r&&n){const{label:o,...l}=r;return te.jsx(n,{...l,children:o},t)}else if("items"in r){const{items:o=[],label:l,...C}=r;return te.jsx(c,{label:l,...C,children:o.map(({label:w,...R},j)=>te.jsx(u,{...R,children:w},j))},t)}else{const{label:o,...l}=r;return te.jsx(u,{...l,children:o},t)}}),{DescendantsContext:Be,useDescendant:Pe,useDescendants:Ie}=De(),[Ke,Re]=be({name:"ComboboxContext"}),[Ne,Ge]=be({name:"ComboboxGroupContext"}),Ye=(e={})=>{const[n,{"aria-label":c,"aria-labelledby":u,closeOnSelect:r=!0,defaultOpen:t,disabled:o,initialFocusValue:l,open:C,openOnClick:w=!0,openOnEnter:R=!0,openOnSpace:j=!0,readOnly:F,selectFocusRef:W,selectOnSpace:x=!0,onChange:P,onClose:H,onOpen:T,...M}]=Se(e,["disabled","open","defaultOpen","onOpen","onClose","openOnClick"]),{getWindow:k}=xe(),m=!(F||o),_=b.useRef(null),L=b.useRef(null),B=b.useId(),p=Ie(),{open:h,onClose:E,onOpen:K}=ze({defaultOpen:t,open:C,onClose:H,onOpen:T}),z=b.useRef(null),V=b.useMemo(()=>({autoFocus:!1,matchWidth:!0,openOnClick:!1,...n,disabled:!m,open:h,onClose:E,onOpen:K}),[m,E,K,h,n]),D=b.useCallback((d,i=r)=>{(W??_).current?.focus(),!(!m||ve(d))&&(P?.(d),i&&E())},[r,m,P,E,W]),S=b.useCallback((d,i="start")=>{if(!L.current||!d)return;const s=k()?.getComputedStyle(L.current),v=i==="start"?s?.paddingBlockStart:s?.paddingBlockEnd,A=parseInt(v??"0px");We(d.node,{behavior:U=>U.forEach(({el:O,top:I})=>{O.scrollTop=i==="start"?I-A:I+A}),block:i,boundary:L.current,inline:"nearest",scrollMode:"if-needed"})},[k]),g=b.useCallback(d=>{!_.current||!d||o||(_.current.setAttribute("aria-activedescendant",d.id),z.current=d,p.active(d))},[p,o]),a=b.useCallback((d,i="start")=>{K(),setTimeout(()=>{if(l){const v=p.values().find(({value:A})=>l===A)??d();g(v),S(v,i)}else{const s=d();g(s),S(s,i)}})},[p,l,g,K,S]),N=b.useCallback(d=>{o||(d.preventDefault(),h?E():w&&a(p.enabledFirstValue))},[p,o,E,a,h,w]),G=b.useCallback(d=>{o||ye(d)||we(d,{ArrowDown:i=>{if(i.preventDefault(),!h)a(p.enabledFirstValue);else if(z.current){const s=p.enabledNextValue(z.current);g(s),S(s,s?.recurred?"start":"end")}else{const s=p.enabledFirstValue();g(s),S(s)}},ArrowUp:i=>{if(i.preventDefault(),!h)a(p.enabledLastValue,"end");else if(z.current){const s=p.enabledPrevValue(z.current);g(s),S(s,s?.recurred?"end":"start")}else{const s=p.enabledLastValue();g(s),S(s,"end")}},End:i=>{if(i.preventDefault(),!h)return;const s=p.enabledLastValue();g(s),S(s,"end")},Enter:i=>{if(h){if(!z.current)return;i.preventDefault();const{closeOnSelect:s,value:v}=z.current;D(v,s)}else{if(!R)return;i.preventDefault(),a(p.enabledFirstValue)}},Home:i=>{if(!h)return;i.preventDefault();const s=p.enabledFirstValue();g(s),S(s)},Space:i=>{if(h){if(!z.current||!x)return;i.preventDefault();const{closeOnSelect:s,value:v}=z.current;D(v,s)}else{if(!j)return;i.preventDefault(),a(p.enabledFirstValue)}}},{preventDefault:!1})},[o,h,a,p,g,S,R,D,j,x]);ke(()=>{h||(z.current=null)},[h]);const Y=b.useCallback(({ref:d,"aria-label":i,"aria-labelledby":s,...v}={})=>({"aria-controls":h?B:void 0,"aria-disabled":he(!m),"aria-expanded":h,"aria-haspopup":"listbox","aria-label":i||c,"aria-labelledby":me(s,u),"data-disabled":re(o),"data-readonly":re(F),role:"combobox",tabIndex:m?0:-1,...M,...v,ref:ae(d,M.ref,_),onClick:Q(v.onClick,M.onClick,N),onKeyDown:Q(v.onKeyDown,M.onKeyDown,G)}),[h,B,m,u,o,F,c,M,N,G]),J=b.useCallback(({ref:d,...i}={})=>({id:B,role:"listbox",...i,ref:ae(d,L),onKeyDown:Q(i.onKeyDown)}),[B]),q=b.useCallback(d=>({role:"separator",...d}),[]);return{activeDescendant:z,descendants:p,interactive:m,open:h,getContentProps:J,getSeparatorProps:q,getTriggerProps:Y,popoverProps:V,onActiveDescendant:g,onClose:E,onOpen:K,onOpenWithActiveDescendant:a,onScrollIntoView:S,onSelect:D}},Ue=({"aria-labelledby":e,...n}={})=>{const c=b.useId(),u=b.useCallback(({"aria-labelledby":t,...o}={})=>({"aria-labelledby":me(e,t,c),role:"group",...n,...o}),[e,c,n]),r=b.useCallback(t=>({id:c,role:"presentation",...t}),[c]);return{getGroupProps:u,getLabelProps:r}},Xe=({id:e,"aria-disabled":n,"data-disabled":c,closeOnSelect:u,disabled:r=!1,selected:t=!1,value:o,...l}={})=>{const C=b.useId(),w=b.useRef(null),{onActiveDescendant:R,onClose:j,onSelect:F}=Re();e??=C;const{descendants:W,register:x}=Pe({id:e,closeOnSelect:u,disabled:r,value:o}),P=b.useCallback(()=>{if(r)return;const k=W.value(w.current);R(k)},[W,r,R]),H=b.useCallback(k=>{k.preventDefault(),!r&&F(o,u)},[u,r,F,o]),T=b.useCallback(({ref:k,...m}={})=>({id:e,"aria-disabled":n??he(r),"aria-selected":t,"data-disabled":c??re(r),"data-selected":re(t),"data-value":o,role:"option",tabIndex:-1,...l,...m,ref:ae(k,l.ref,w,x),onClick:Q(m.onClick,l.onClick,H),onMouseMove:Q(m.onMouseMove,l.onMouseMove,P)}),[e,n,r,t,c,o,l,x,H,P]),M=b.useCallback(({style:k,...m}={})=>({style:{opacity:t?1:0,...k},...m}),[t]);return{descendants:W,disabled:r,selected:t,getIndicatorProps:M,getItemProps:T,onActiveDescendant:R,onClose:j}};export{Be as C,Xe as a,Le as b,je as c,Ke as d,Ue as e,Ne as f,Ge as g,Ae as s,Ye as u};
