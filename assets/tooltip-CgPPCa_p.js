import{d as U,r as o,am as L,an as $,h as l,e as q,m as G,a as w,ao as A,f as H,j as u,S as J,a0 as K,$ as F,p as M}from"./iframe-BVYXOt_x.js";import{u as I}from"./index-3IyU_3IU.js";import{u as N}from"./index-C-UgCYOb.js";import{u as Q,a as V,g as X}from"./popover-Ds5KodhE.js";import{u as Y}from"./use-disclosure-D_7SB-7u.js";const Z=U({base:{content:{bg:"bg.panel",borderColor:"border.muted",borderWidth:"1px",boxShadow:"sm",fontSize:"sm",maxW:"xs",position:"relative",px:"sm",py:"xs",rounded:"l2",zIndex:"ginyu"}}}),_=(b={})=>{const[x,{closeDelay:m=0,closeOnClick:p=!0,closeOnEsc:P=!0,closeOnScroll:T,defaultOpen:h,disabled:f,open:v,openDelay:C=0,onClose:y,onOpen:k}]=Q(b,["open"]),s=o.useId(),i=o.useRef(null),c=o.useRef(void 0),d=o.useRef(void 0),{open:e,onClose:E,onOpen:O}=Y({defaultOpen:h,open:v,onClose:y,onOpen:k}),{getPopperProps:R,getReferenceProps:D}=V({open:e,...x}),a=o.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=void 0),E()},[E]),g=o.useCallback(()=>{!f&&!c.current&&(e&&a(),c.current=L(i.current).setTimeout(O,C))},[f,e,a,O,C]),t=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0),d.current=L(i.current).setTimeout(()=>{a()},m)},[m,a]);I(()=>A(i.current),"keydown",({key:n})=>{P&&n==="Escape"&&t()}),I(()=>A(i.current),"scroll",()=>{e&&T&&a()}),N({ref:i,enabled:e,handler:()=>{t()}}),$(()=>{clearTimeout(c.current),clearTimeout(d.current)});const W=o.useCallback(({"aria-describedby":n,...r}={})=>D({...r,ref:G(r.ref,i),"aria-describedby":q(n,e?s:void 0),onBlur:l(r.onBlur,t),onClick:l(r.onClick,p?t:void 0),onFocus:l(r.onFocus,g),onPointerEnter:l(r.onPointerEnter,S=>{S.pointerType!=="touch"&&g()}),onPointerLeave:l(r.onPointerLeave,S=>{S.pointerType!=="touch"&&t()})}),[D,s,g,e,p,t]),z=o.useCallback(n=>R(n),[R]),B=o.useCallback((n={})=>({id:s,"data-close":w(!e),"data-open":w(e),role:"tooltip",onPointerLeave:l(n.onPointerLeave,t),...n}),[s,t,e]);return{open:e,getContentProps:B,getPositionerProps:z,getTriggerProps:W,onClose:a,onDelayClose:t,onDelayOpen:g,onOpen:O}},{StyleContext:ee,withContext:j,useRootComponentProps:oe}=H("tooltip",Z),ue=b=>{const[x,{animationScheme:m="scale",children:p,content:P,duration:T=.1,contentProps:h,portalProps:f,...v}]=oe(b),{open:C,getContentProps:y,getPositionerProps:k,getTriggerProps:s}=_(v);return P?u.jsxs(ee,{value:x,children:[u.jsx(ne,{asChild:!0,...s(),children:p}),u.jsx(J,{children:C?u.jsx(K,{...f,children:u.jsx(te,{...k(),children:u.jsx(re,{...X(m,T),...F(y(F(h))),children:P})})}):null})]}):p},te=j("div","positioner")(),ne=j("button","trigger")(),re=j(M.div,"content")();export{ue as T};
