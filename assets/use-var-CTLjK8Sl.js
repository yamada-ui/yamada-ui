import{r as V}from"./index-ClcD9ViR.js";import{T as k,x as A,y as C,z as b,m as F,A as M}from"./factory-D0ba2aB7.js";const T=(t,a)=>`${t}-${a}`,z=(t,a,n)=>{const i=V.useContext(k);return V.useMemo(()=>y(t,a,n)(i),[t,a,n,i])},y=(t,a,{format:n=T,transform:i=!1}={})=>l=>{var _,$;const o=new Map,c={};if(!l.__breakpoints)return[[],c];const{isResponsive:h}=l.__breakpoints,u=(($=(_=l.__config)==null?void 0:_.var)==null?void 0:$.prefix)??A,R=C(t,{separator:"$$",shouldProcess:m=>!h(m)});return Object.entries(R).forEach(([m,e],E)=>{const d=m.split("$$");if(!d.some(s=>a.includes(s)))return;const r=d.at(-1),x=d.slice(0,-1);if(o.has(r)){const s=o.get(r);if(!s)return;const f=x.reduceRight((p,g)=>({[g]:p}),b(e)?e:{base:e});e=F(s.value,f),o.set(r,{...s,value:e})}else{const s=n(r,E),f=M[r],p=b(f)?f.token:void 0;e={base:void 0,...x.reduceRight((O,j)=>({[j]:O}),b(e)?e:{base:e})},o.set(r,{name:s,token:p,value:e,__prefix:u}),i?c[r]=`var(--${u}-${s})`:c[r]=`$${s}`}}),[[...o.values()],c]},B=(...t)=>t.filter(Boolean).flatMap(a=>a);export{B as m,z as u};
