import{r as n}from"./iframe-DlW9lece.js";import{u as d}from"./index-5770M7Nv.js";function b(s,a=[]){const[r,e]=g(s,a,{loading:!0});return n.useEffect(()=>{e()},[e]),r}function g(s,a=[],r={loading:!1}){const e=n.useRef(0),c=d(),[o,u]=n.useState(r),f=n.useCallback((...i)=>{const l=++e.current;return o.loading||u(t=>({...t,loading:!0})),s(...i).then(t=>(c()&&l===e.current&&u({loading:!1,value:t}),t),t=>(c()&&l===e.current&&u({error:t,loading:!1}),t))},a);return[o,f]}export{b as u};
