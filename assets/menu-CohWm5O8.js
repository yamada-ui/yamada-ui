import{n as re,o as ae,I as ce,c as K,r as o,E as U,a as $,h as w,b as H,e as _,m as q,f as Q,ao as X,a4 as ue,l as W,i as Z,P as le,g as ie,j as s,N as Y,s as V}from"./iframe-CzLob2S8.js";import{m as de}from"./menu.style-DQ4ctX9D.js";import{u as me}from"./index-CcC-ZdNF.js";import{c as Ce}from"./index-i-2YwH-J.js";import{u as ge}from"./use-disclosure-z7Ww8LBB.js";import{u as pe,P as xe,a as fe,b as Me,e as be}from"./popover-B4PPvidZ.js";import{C as he}from"./chevron-right-icon-ThDfRkPk.js";import{C as ke}from"./check-icon-gZzA7Zp0.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],ve=re("circle-small",je),Pe=ae(ce)({as:ve}),{DescendantsContext:De,useDescendant:Se,useDescendantRegister:ye,useDescendants:Ie}=Ce(),[Re,ee]=K({name:"MenuContext"}),[Ae,we]=K({name:"MenuGroupContext"}),[Te,Fe]=K({name:"MainMenuContext",strict:!1}),[Ee,Ge]=K({name:"MenuOptionGroupContext"}),Ve=({closeOnSelect:t,defaultOpen:n,disabled:e=!1,open:g,subMenuDirection:a="end",onClose:r,onOpen:u,onSelect:x}={})=>{const h=o.useId(),i=o.useId(),M=Ie(),f=o.useRef(U),j=o.useRef(U),d=o.useRef(null),{open:c,onClose:b,onOpen:l}=ge({defaultOpen:n,open:g,onClose:r,onOpen:u}),v=o.useCallback(()=>j.current(),[]),p=o.useCallback((k,R={preventScroll:!0})=>{!d.current||!k||e||(d.current.setAttribute("aria-activedescendant",k.id),M.active(k,R))},[M,e]),{mainCloseOnSelect:I,subMenu:S,getSubMenuProps:y,onMainSelect:T}=Ke({descendants:M,disabled:e,open:c,subMenuDirection:a,onActiveDescendant:p,onClose:b,onOpen:l});t??=I??!0;const m=o.useCallback((k,R=t)=>{e||(x?.(k),T?.(k,R),R&&b())},[t,e,b,T,x]),C=o.useCallback(k=>{e||(k.preventDefault(),c?b():l())},[e,b,l,c]),P=o.useCallback(k=>{e||(k.preventDefault(),l(),f.current())},[e,l]),D=o.useCallback(k=>{e||$(k,{ArrowDown:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();p(R)})},ArrowUp:()=>{l(),setTimeout(()=>{const R=M.enabledLastValue();p(R)})},Enter:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();p(R)})},Space:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();p(R)})}})},[M,e,p,l]),G=o.useCallback((k={})=>({...y({id:h,"aria-controls":c?i:void 0,"aria-disabled":_(e),"aria-expanded":c,"aria-haspopup":"menu","data-trigger":H(!0),role:"button",tabIndex:e?-1:0,...k,onClick:w(k.onClick,C),onKeyDown:w(k.onKeyDown,D)})}),[i,e,y,C,D,c,h]),E=o.useCallback((k={})=>({id:h,"aria-controls":c?i:void 0,"aria-disabled":_(e),"aria-expanded":c,"aria-haspopup":"menu","data-trigger":H(!0),role:"application",...k,onContextMenu:w(k.onContextMenu,P)}),[i,e,P,c,h]),O=o.useCallback(({ref:k,"aria-labelledby":R,...se}={})=>({id:i,"aria-labelledby":Q(R,h),role:"menu",...se,ref:q(k,d)}),[i,h]),N=o.useCallback(k=>({role:"separator",...k}),[]);return{closeOnSelect:t,descendants:M,open:c,subMenu:S,subMenuDirection:a,updateRef:f,getContentProps:O,getContextTriggerProps:E,getSeparatorProps:N,getTriggerProps:G,onActiveDescendant:p,onClose:b,onCloseRef:j,onCloseSubMenu:v,onOpen:l,onSelect:m}},Ke=({descendants:t,disabled:n=!1,open:e,subMenuDirection:g="end",onActiveDescendant:a,onClose:r,onOpen:u})=>{const x=o.useId(),{closeOnSelect:h,descendants:i,onActiveDescendant:M,onCloseRef:f,onSelect:j}=Fe()??{},d=!!i&&!!M,c=ye(i),b=o.useRef(null),l=o.useCallback(m=>(m??=b.current,m?X(m.getAttribute("data-disabled")):!1),[]),v=o.useCallback(m=>(m??=b.current,m?X(m.getAttribute("aria-disabled")):!1),[]),p=o.useCallback(m=>{d&&(m.defaultPrevented=n||l()||v())},[v,l,n,d]),I=o.useCallback(()=>{!d||n||l()||v()||u()},[v,l,n,u,d]),S=o.useCallback(m=>{if(!d||n||l()||v())return;const C=t.value(b.current);M(C),m.defaultPrevented=!0},[v,l,t,n,M,d]),y=o.useCallback(m=>{if(!d||n)return;const C=e?t:i,P=e?a:M;$(m,{ArrowDown:()=>{const D=C.enabledNextValue(b.current);P(D),m.defaultPrevented=!0},ArrowUp:()=>{const D=C.enabledPrevValue(b.current);P(D),m.defaultPrevented=!0},End:()=>{const D=C.enabledLastValue();P(D),m.defaultPrevented=!0},Home:()=>{const D=C.enabledFirstValue();P(D),m.defaultPrevented=!0},[g==="end"?"ArrowRight":"ArrowLeft"]:()=>{u(),setTimeout(()=>{const D=t.enabledFirstValue();a(D)}),m.defaultPrevented=!0}})},[d,n,e,t,i,a,M,g,u]);ue(f,r);const T=o.useCallback(({id:m=x,ref:C,...P}={})=>{const G=c({id:m,disabled:E=>n||l(E)||v(E)});return{role:d?"menuitem":"button",...P,ref:q(C,b,G),onClick:w(p,P.onClick),onKeyDown:w(y,P.onKeyDown),onMouseEnter:w(I,P.onMouseEnter),onMouseMove:w(S,P.onMouseMove)}},[x,d,c,p,y,I,S,n,l,v]);return{mainCloseOnSelect:h,subMenu:d,getSubMenuProps:T,onMainSelect:j}},Le=({"aria-labelledby":t,...n})=>{const e=o.useId(),g=o.useCallback(({"aria-labelledby":r,...u}={})=>({"aria-labelledby":Q(t,r,e),role:"group",...n,...u}),[t,e,n]),a=o.useCallback(r=>({id:e,role:"presentation",...r}),[e]);return{getGroupProps:g,getLabelProps:a}},ne=({id:t,"aria-disabled":n,"data-disabled":e,"data-trigger":g,closeOnSelect:a,disabled:r=!1,value:u,...x})=>{const h=X(g),{subMenu:i,subMenuDirection:M,onActiveDescendant:f,onClose:j,onCloseSubMenu:d,onSelect:c}=ee(),b=o.useId(),l=o.useRef(null),v=i&&h;t??=b;const{descendants:p,register:I}=Se({id:t,disabled:r||v}),S=o.useCallback(()=>{if(r)return;const m=p.value(l.current);f(m)},[p,r,f]),y=o.useCallback(m=>{$(m,{ArrowDown:()=>{const C=p.enabledNextValue(l.current);f(C)},ArrowUp:()=>{const C=p.enabledPrevValue(l.current);f(C)},End:()=>{const C=p.enabledLastValue();f(C)},Enter:()=>c(u,a),Home:()=>{const C=p.enabledFirstValue();f(C)},Space:()=>c(u,a),[M==="end"?"ArrowLeft":"ArrowRight"]:()=>{if(!i)return;j(),p.firstValue()?.node.focus()}})},[a,p,f,j,c,i,M,u]),T=o.useCallback(({ref:m,...C}={})=>({id:t,"aria-disabled":n??_(r),"data-disabled":e??H(r),role:"menuitem",tabIndex:-1,...x,...C,ref:q(m,x.ref,l,I),onClick:w(C.onClick,x.onClick,()=>c(u,a)),onFocus:w(C.onFocus,x.onFocus,S),onKeyDown:w(C.onKeyDown,x.onKeyDown,y),onMouseMove:w(C.onMouseMove,x.onMouseMove,()=>{d(),S()})}),[t,n,r,e,x,I,S,y,c,u,a,d]);return{subMenuTrigger:v,getItemProps:T}},Oe=({type:t="checkbox",defaultValue:n=t==="checkbox"?[]:"",value:e,onChange:g})=>{const[a,r]=me({defaultValue:n,value:e,onChange:g}),u=t==="radio",x=o.useCallback(h=>{r(i=>u&&W(i)?h:!u&&Z(i)?i.includes(h)?i.filter(M=>M!==h):i.concat(h):i)},[u,r]);return le(()=>{r(e)},[e]),{type:t,value:a,onChange:x}},Ne=({disabled:t,value:n,...e})=>{const{type:g,value:a,onChange:r}=Ge(),{getItemProps:u}=ne({disabled:t,value:n,...e}),x=g==="radio"&&W(a),h=g==="checkbox"&&Z(a),i=x?n===a:h?a.includes(n):!1,M=o.useCallback(({style:j,...d}={})=>({style:{opacity:i?1:0,...j},...d}),[i]),f=o.useCallback((j={})=>u({role:x?"menuitemradio":"menuitemcheckbox",...j,onClick:w(j.onClick,()=>t?U:r?.(n))}),[t,u,r,x,n]);return{type:g,selected:i,getIndicatorProps:M,getOptionItemProps:f}},{ComponentContext:Ue,StyleContext:He,useComponentContext:L,withContext:A,useRootComponentProps:_e}=ie("menu",de),tn=t=>{const[n,e]=_e(t),[{animationScheme:g,initialFocusRef:a,offset:r,placement:u,...x},{children:h,disabled:i,...M}]=pe(e,["disabled","open","defaultOpen","onOpen","onClose"]),{closeOnSelect:f,descendants:j,open:d,subMenu:c,subMenuDirection:b,updateRef:l,getContentProps:v,getContextTriggerProps:p,getSeparatorProps:I,getTriggerProps:S,onActiveDescendant:y,onClose:T,onCloseRef:m,onCloseSubMenu:C,onOpen:P,onSelect:D}=Ve({disabled:i,...M}),G=o.useMemo(()=>({...x,animationScheme:g??(c?"inline-start":"block-start"),autoFocus:!!a,disabled:i,initialFocusRef:a,offset:r??(c?[0,0]:void 0),open:d,placement:u??(c?`center-${b}`:"end-start"),updateRef:l,onClose:T,onOpen:P}),[g,i,a,r,T,P,d,u,x,c,b,l]),E=o.useMemo(()=>({subMenu:c,subMenuDirection:b,onActiveDescendant:y,onClose:T,onCloseSubMenu:C,onOpen:P,onSelect:D}),[T,P,D,y,c,b,C]),O=o.useMemo(()=>({closeOnSelect:f,descendants:j,onActiveDescendant:y,onCloseRef:m,onSelect:D}),[f,j,y,m,D]),N=o.useMemo(()=>({getContentProps:v,getContextTriggerProps:p,getSeparatorProps:I,getTriggerProps:S}),[v,p,I,S]);return s.jsx(He,{value:n,children:s.jsx(De,{value:j,children:s.jsx(Re,{value:E,children:s.jsx(Te,{value:O,children:s.jsx(Ue,{value:N,children:s.jsx(xe,{...G,children:h})})})})})})},on=A(fe,"trigger")(void 0,t=>{const{getTriggerProps:n}=L();return Y(n(Y(t)))}),sn=A(({children:t,onContextMenu:n,...e})=>{const[g,a]=o.useState({left:0,top:0}),{getContextTriggerProps:r}=L();return s.jsxs(s.Fragment,{children:[s.jsx(Xe,{children:s.jsx(V.div,{style:{position:"fixed",...g}})}),s.jsx(V.div,{asChild:!0,...r({onContextMenu:w(n,u=>{a({left:u.clientX,top:u.clientY})}),...e}),children:t})]})},"contextTrigger")(),Xe=A(be,"anchor")(),rn=A(Me,"content")(void 0,({children:t,footer:n,header:e,items:g=[],footerProps:a,headerProps:r,portalProps:u,...x})=>{const{subMenu:h}=ee(),{getContentProps:i}=L(),M=o.useMemo(()=>t||s.jsxs(s.Fragment,{children:[e?s.jsx(Ye,{...r,children:e}):null,g.map((f,j)=>{if("type"in f)if(f.type==="radio"){const{type:d,hasSeparator:c=!0,hasEndSeparator:b=c,hasStartSeparator:l=c,items:v=[],...p}=f;return s.jsxs(o.Fragment,{children:[l?s.jsx(F,{}):null,s.jsx(z,{type:d,...p,children:v.map(({label:I,...S},y)=>s.jsx(J,{...S,children:I},y))}),b?s.jsx(F,{}):null]},j)}else if(f.type==="checkbox"){const{type:d,hasSeparator:c=!0,hasEndSeparator:b=c,hasStartSeparator:l=c,items:v=[],...p}=f;return s.jsxs(o.Fragment,{children:[l?s.jsx(F,{}):null,s.jsx(z,{type:d,...p,children:v.map(({label:I,...S},y)=>s.jsx(J,{...S,children:I},y))}),b?s.jsx(F,{}):null]},j)}else return s.jsx(F,{},j);else if("items"in f){const{hasSeparator:d=!0,hasEndSeparator:c=d,hasStartSeparator:b=d,items:l=[],...v}=f;return s.jsxs(o.Fragment,{children:[b?s.jsx(F,{}):null,s.jsx(te,{...v,children:l.map(({label:p,...I},S)=>s.jsx(B,{...I,children:p},S))}),c?s.jsx(F,{}):null]},j)}else if("value"in f){const{label:d,...c}=f;return s.jsx(B,{...c,children:d},j)}}),n?s.jsx($e,{...a,children:n}):null]}),[t,n,a,e,r,g]);return{...i(Y({...x,children:M})),portalProps:h?{...u,disabled:!0}:u}}),Ye=A("div","header")({"data-header":""}),$e=A("div","footer")({"data-footer":""}),qe=A("span","label")(void 0,t=>{const{getLabelProps:n}=we();return n(t)}),te=A(({children:t,label:n,labelProps:e,...g})=>{const{getGroupProps:a,getLabelProps:r}=Le(g),u=o.useMemo(()=>({getLabelProps:r}),[r]);return s.jsx(Ae,{value:u,children:s.jsxs(V.div,{...a(),children:[n?s.jsx(qe,{...e,children:n}):null,t]})})},"group")(),z=A(({type:t,defaultValue:n,value:e,onChange:g,...a})=>{const{type:r,value:u,onChange:x}=Oe({type:t,defaultValue:n,value:e,onChange:g}),h=o.useMemo(()=>({type:r,value:u,onChange:x}),[r,u,x]);return s.jsx(Ee,{value:h,children:s.jsx(te,{...a})})},{name:"optionGroup",slot:["group","option"]})(),B=A(({children:t,...n})=>{const{subMenuTrigger:e,getItemProps:g}=ne(n);return s.jsxs(V.div,{...g(),children:[t,e?s.jsx(oe,{as:he,ms:"auto"}):null]})},"item")(),J=A(({children:t,icon:n,...e})=>{const{type:g,getIndicatorProps:a,getOptionItemProps:r}=Ne(e);return s.jsxs(V.div,{...r(),children:[s.jsx(oe,{...a(),children:n||(g==="radio"?s.jsx(Pe,{fill:"currentColor"}):s.jsx(ke,{}))}),t]})},{name:"optionItem",slot:["item","option"]})(),oe=A("div","indicator")(),an=A("kbd","command")(),F=A("hr","separator")(void 0,t=>{const{getSeparatorProps:n}=L();return n(t)});export{tn as M,on as a,rn as b,B as c,F as d,te as e,z as f,J as g,oe as h,an as i,Xe as j,sn as k};
