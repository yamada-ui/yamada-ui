import{d as M,W as Q,c as T,r as n,X as Y,N as B,m as N,f as V,B as q,l as Z,h as C,b,e as W,P as H}from"./iframe-zUpmkGgl.js";import{u as $,a as E}from"./index-Dal1_S4H.js";import{u as O}from"./use-field-props-DY5RPiKr.js";const te=M({base:{group:{},indicator:{alignItems:"center",borderColor:"{indicator-border-color}",borderWidth:"2px",boxSize:"{indicator-size}",display:"inline-flex",focusRingColor:"{focus-border-color}","input:focus-visible + &":Q.outline,justifyContent:"center",_invalid:{borderColor:"{error-border-color}",focusRingColor:"{error-border-color}"}},label:{},root:{"--error-border-color":"colors.border.error","--focus-border-color":"colorScheme.outline","--indicator-border-color":"colors.border.emphasized",alignItems:"center",display:"flex",fontSize:"{label-size}",gap:"2",userSelect:"none",_readOnly:{layerStyle:"readOnly"},_disabled:{layerStyle:"disabled"}}},props:{shape:{rounded:{indicator:{rounded:"l1"}},square:{indicator:{rounded:"0"}}}},variants:{outline:{indicator:{color:"colorScheme.outline"},root:{_checked:{"--indicator-border-color":"colorScheme.outline"},_indeterminate:{"--indicator-border-color":"colorScheme.outline"}}},solid:{indicator:{color:"colorScheme.contrast",_checked:{bg:"colorScheme.solid"},_indeterminate:{bg:"colorScheme.solid"}},root:{_checked:{"--indicator-border-color":"colorScheme.solid"},_indeterminate:{"--indicator-border-color":"colorScheme.solid"}}},subtle:{indicator:{bg:"colorScheme.subtle",color:"colorScheme.fg"},root:{"--indicator-border-color":"transparent"}},surface:{indicator:{bg:"colorScheme.subtle",color:"colorScheme.fg"},root:{"--indicator-border-color":"colorScheme.muted"}}},sizes:{sm:{indicator:{fontSize:"xs"},root:{"--indicator-size":"sizes.3.5","--label-size":"fontSizes.sm"}},md:{indicator:{fontSize:"sm"},root:{"--indicator-size":"sizes.4","--label-size":"fontSizes.md"}},lg:{indicator:{fontSize:"md"},root:{"--indicator-size":"sizes.5","--label-size":"fontSizes.lg"}}},defaultProps:{size:"md",variant:"solid",shape:"rounded"}}),[ie,ee]=T({name:"CheckboxGroupContext",strict:!1}),se=(F={})=>{const{context:{labelId:S}={},props:{defaultValue:h=[],disabled:P,max:t,readOnly:m,required:p,value:R,onChange:x,...f},ariaProps:{"aria-describedby":y,...z},dataProps:l,eventProps:g}=O(F),r=!(m||P),[s,k]=$({defaultValue:h,value:R,onChange:x}),d=n.useCallback(e=>{r&&(Y(e)&&(e=e.target.value),k(o=>o.includes(e)?o.filter(a=>a!==e):!B(t)||o.length<t?[...o,e]:o))},[r,t,k]),A=n.useCallback(({ref:e,"aria-describedby":o,"aria-labelledby":a,...I}={})=>({...l,"aria-describedby":V(y,o),"aria-labelledby":V(S,a),role:"group",...f,...I,ref:N(e,f.ref)}),[y,l,S,f]),v=n.useCallback((e={})=>{const o=!q(s)&&(Z(e.value)||B(e.value))&&s.includes(e.value),a=!o&&B(t)&&s.length>=t;return{...l,...z,type:"checkbox",style:H.style,"aria-checked":o,"aria-disabled":W(a),"data-checked":b(o),"data-disabled":b(a),checked:o,disabled:a,readOnly:m,required:p,...e,onBlur:C(e.onBlur,g.onBlur),onChange:C(e.onChange,d),onFocus:C(e.onFocus,g.onFocus)}},[z,l,g,t,d,m,p,s]),D=n.useCallback(e=>({...l,...e}),[l]);return{max:t,value:s,getInputProps:v,getLabelProps:D,getRootProps:A,onChange:d}},ce=({"aria-describedby":F,...S}={})=>{const h=ee(),{max:P,value:t,getInputProps:m,getLabelProps:p}=h??{},R=n.useId(),{props:{id:x,ref:f,name:y,checked:z,defaultChecked:l=!1,disabled:g,indeterminate:r=!1,readOnly:s,required:k,value:d,onChange:A,...v},ariaProps:{"aria-describedby":D,...e},dataProps:o,eventProps:a}=O({id:h?R:void 0,...S,notSupportReadOnly:!0}),I=h?F:D,U=!q(t)&&!q(d)?t.includes(d):z,[i,j]=E({defaultValue:l,value:U,onChange:A}),X=!i&&B(P)&&h&&h.value.length>=P,_=!(s||X),G=n.useCallback(c=>{if(!_)return c.defaultPrevented=!0;r&&(c.target.checked=!0),j(c)},[_,r,j]),w=n.useCallback((c={})=>{const u={...o,"data-checked":b(i),"data-indeterminate":b(r),...v,...c};return p?.(u)??u},[o,i,r,v,p]),J=n.useCallback(({"aria-describedby":c,...u}={})=>{const L={...o,...e,id:x,type:"checkbox",name:y,style:H.style,"aria-checked":r?"mixed":i,"aria-describedby":V(I,c),"aria-disabled":W(!_),"data-checked":b(i),"data-indeterminate":b(r),checked:i,disabled:g,readOnly:s,required:k,value:d,...u,ref:N(u.ref,f),onBlur:C(u.onBlur,a.onBlur),onChange:C(u.onChange,G),onFocus:C(u.onFocus,a.onFocus)};return m?.(L)??L},[o,e,x,y,r,i,I,_,g,s,k,d,f,a,G,m]),K=n.useCallback((c={})=>({...o,"aria-hidden":"true","data-checked":b(i),"data-indeterminate":b(r),...c}),[o,i,r]);return{checked:i,indeterminate:r,getIndicatorProps:K,getInputProps:J,getRootProps:w,onChange:G}};export{ie as C,se as a,te as c,ce as u};
