import{d as be,G as me,r as l,a as pe,h as I,m as he,O as xe,f as ye,g as fe,j as P,s as $}from"./iframe-BIJNUwA0.js";import{h as y}from"./hue-slider.style-CqS9D4ty.js";import{s as _,u as ge}from"./index-CM4McNEE.js";import{u as Se}from"./index-CH90kZaX.js";import{u as ve}from"./use-field-props-DKzDJnFJ.js";import{r as L,c as p}from"./number-CcP_arM8.js";var N,G,H,U,W,J,Q,X,Y,Z;const ze=be({base:{root:{aspectRatio:"16 / 9",boxShadow:"inner",isolation:"isolate",maxW:"full",p:"calc({thumb-size} / 2)",rounded:"{root-rounded}",touchAction:"none",w:"full",_readOnly:{layerStyle:"readOnly"},_disabled:{layerStyle:"disabled"}},thumb:{...(N=_.base)==null?void 0:N.thumb,...(G=y.base)==null?void 0:G.thumb,boxSize:"{thumb-size}",left:"{--x, 0%}",position:"absolute",rounded:"{thumb-rounded}",top:"{--y, 0%}",transform:"translate(-50%, -50%)"},track:{boxSize:"full",cursor:{base:"pointer",_readOnly:"default",_disabled:"not-allowed"},position:"relative"}},props:{shape:{circle:{root:{...(H=_.props)==null?void 0:H.shape.circle.root,"--root-rounded":"radii.l2"}},rounded:{root:{...(U=_.props)==null?void 0:U.shape.rounded.root,"--root-rounded":"radii.l2"}},square:{root:{...(W=_.props)==null?void 0:W.shape.square.root,"--root-rounded":"0"}}}},sizes:{xs:{root:{"--thumb-size":(J=y.sizes)==null?void 0:J.xs.root["--thumb-size"]}},sm:{root:{"--thumb-size":(Q=y.sizes)==null?void 0:Q.sm.root["--thumb-size"]}},md:{root:{"--thumb-size":(X=y.sizes)==null?void 0:X.md.root["--thumb-size"]}},lg:{root:{"--thumb-size":(Y=y.sizes)==null?void 0:Y.lg.root["--thumb-size"]}},xl:{root:{"--thumb-size":(Z=y.sizes)==null?void 0:Z.xl.root["--thumb-size"]}}},defaultProps:{size:"md",shape:"circle"}});function Pe(t){return[p(t[0],0,360),p(t[1],0,1),p(t[2],0,1)]}const Ce=(t={})=>{const{props:{id:i,ref:f,name:g,"aria-labelledby":C,"aria-valuetext":k,defaultValue:j=[0,0,1],disabled:h,getAriaValueText:c,readOnly:S,required:w,step:u=.01,value:oe,onChange:re,onChangeEnd:A,onChangeStart:R,...V},ariaProps:T,dataProps:d,eventProps:F}=ve(t),{t:B}=me("saturationSlider"),[v,z]=Se({defaultValue:j,value:oe,onChange:re}),[r,o,a]=Pe(v),b=!(h||S),[je,M]=ge({onEnd:(e,s,n)=>{if(!b)return;const m=D(s,n);A==null||A(m)},onMove:(e,s,n)=>{if(!b)return;const m=D(s,n);z(m)},onStart:(e,s,n)=>{if(!b)return;const m=D(s,n);R==null||R(v),z(m)}}),x=l.useCallback(([e,s,n])=>{b&&(s=p(s,0,1),n=p(n,0,1),z([e,s,n]))},[b,z]),D=l.useCallback(({x:e,y:s},{bottom:n,height:m,left:ie,width:ue})=>{const E={x:e-ie,y:n-s},K={x:E.x/ue,y:E.y/m},q={x:p(K.x,0,1),y:p(K.y,0,1)},de=L(q.x,0,u),ce=L(q.y,0,u);return[r,parseFloat(de),parseFloat(ce)]},[r,u]),O=l.useCallback(e=>{pe(e,{ArrowDown:()=>x([r,o,a-u]),ArrowLeft:()=>x([r,o-u,a]),ArrowRight:()=>x([r,o+u,a]),ArrowUp:()=>x([r,o,a+u])})},[r,x,o,u,a]),ae=l.useCallback((e={})=>({...d,...V,...e,style:{...V.style,...e.style,"--x":`${Math.abs(o*100)}%`,"--y":`${Math.abs(100-a*100)}%`,backgroundColor:`hsl(${r}, 100%, 50%)`,backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, transparent)"},onBlur:I(e.onBlur,F.onBlur),onFocus:I(e.onFocus,F.onFocus)}),[d,F,r,V,o,a]),se=l.useCallback((e={})=>({...xe,...d,...T,id:i,type:"hidden",name:g,disabled:h,readOnly:S,required:w,value:[r,o,a].toString(),...e,ref:he(e.ref,f)}),[T,d,h,r,i,g,S,f,w,o,a]),ne=l.useCallback((e={})=>M({...d,...e}),[d,M]),le=l.useCallback((e={})=>({...d,...T,"aria-label":B("Saturation and brightness thumb"),"aria-roledescription":"2D slider","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o*100,"aria-valuetext":k??(c==null?void 0:c(v))??B("Saturation {saturation}%, Brightness {brightness}%",{brightness:a*100,saturation:o*100}),role:"slider",tabIndex:b?0:-1,...e,"aria-labelledby":ye(e["aria-labelledby"],C),onKeyDown:I(e.onKeyDown,O)}),[C,T,k,d,c,b,O,o,B,a,v]);return{setValue:z,value:v,getInputProps:se,getRootProps:ae,getThumbProps:le,getTrackProps:ne,onChange:x}},{ComponentContext:ke,useComponentContext:ee,withContext:te,withProvider:we}=fe("saturation-slider",ze),Ie=we(({children:t,inputProps:i,thumbProps:f,trackProps:g,...C})=>{const{getInputProps:k,getRootProps:j,getThumbProps:h,getTrackProps:c}=Ce(C),S=l.useMemo(()=>t||P.jsx(Te,{...g,children:P.jsx(_e,{...f})}),[t,f,g]),w=l.useMemo(()=>({getThumbProps:h,getTrackProps:c}),[h,c]);return P.jsx(ke,{value:w,children:P.jsxs($.div,{...j(),children:[P.jsx($.input,{...k(i)}),S]})})},"root")(),Te=te("div","track")(void 0,t=>{const{getTrackProps:i}=ee();return i(t)}),_e=te("div","thumb")(void 0,t=>{const{getThumbProps:i}=ee();return i(t)});export{Ie as S,Te as a,_e as b};
