import{c as ue,A as de,r,i as j,N as ce,l as W,B as ee,aJ as se,f as me,h as ne,j as o,b as Ce,a as xe,g as be,D as re,s as pe}from"./iframe-COpE3uSe.js";import{u as Pe,a as he,c as ge,b as fe,C as ve,d as Se,s as Ie,e as je,f as ke,g as Me}from"./select.style-Q8Edsnzt.js";import{u as Oe}from"./index-CmrZ2qa-.js";import{u as ye}from"./use-field-props-qOu5Tg87.js";import{X as Ge}from"./x-icon-DAFzbT0J.js";import{u as Ae}from"./input-CEApOgG-.js";import{u as Ee}from"./group-BcN9SPfp.js";import{u as De,P as Fe,a as Re,b as Ve}from"./popover-DNVIrjJp.js";import{u as we}from"./use-input-border-C5BYnfYe.js";import{I as Be,a as Le}from"./input-group-B9e3kRKs.js";import{C as Te}from"./check-icon-kf4MFf7R.js";import{C as Ke}from"./chevron-down-icon-DQAa7-10.js";const Ne=({count:t,index:n,label:p,separator:l,value:c})=>{const m=t-1===n;return o.jsxs("span",{"data-placeholder":Ce(c===""),children:[p,m?null:`${l} `]})},[Xe,Je]=ue({name:"SelectContext"}),Ue=(t={})=>{const{t:n}=de("select"),{context:{labelId:p}={},props:{multiple:l=!1,closeOnSelect:c=!l,defaultValue:m=l?[]:"",disabled:C,includePlaceholder:a=!l,items:P=[],max:h,placeholder:i,readOnly:k,render:M=Ne,separator:g=",",value:$,onChange:q,...B},ariaProps:L,dataProps:f,eventProps:T}=ye(t),[d,v]=Oe({defaultValue:m,value:$,onChange:q}),K=r.useCallback(e=>{v(s=>j(s)?s.includes(e)?s.filter(u=>u!==e):!ce(h)||s.length<h?[...s,e]:s:e)},[h,v]),S=r.useMemo(()=>{const e=[...P];return i&&e.unshift({hidden:!a,label:i,value:""}),e},[P,i,a]),D=r.useMemo(()=>!S.filter(({hidden:e})=>!e).length,[S]),{descendants:N,interactive:X,open:O,getContentProps:F,getSeparatorProps:R,getTriggerProps:x,onActiveDescendant:z,onClose:H,onOpen:Q,onSelect:Y}=Pe({closeOnSelect:c,disabled:C,initialFocusValue:j(d)?d[0]:d,readOnly:k,onChange:K,...L,...f,...T,...B}),y=r.useMemo(()=>{const e={};return S.forEach(s=>{"items"in s?s.items.forEach(u=>{u.value??=W(u.label)?u.label:void 0,ee(u.value)||(e[u.value]=u)}):(s.value??=W(s.label)?s.label:void 0,ee(s.value)||(e[s.value]=s))}),e},[S]),G=r.useMemo(()=>j(d)?d.length?se(d.map(e=>y[e])):i?[{label:i,value:""}]:[]:W(d)?se(y[d]):[],[i,d,y]),V=r.useMemo(()=>{const e=G.length;return G.map((s,u)=>{const E=M({count:e,index:u,separator:g,...s});return r.isValidElement(E)?r.cloneElement(E,{...E.props,key:u}):E})},[M,G,g]),I=r.useCallback(()=>{v(e=>j(e)?[]:"")},[v]),A=r.useCallback(e=>({...f,...e}),[f]),J=r.useCallback(({"aria-labelledby":e,...s}={})=>x({"aria-label":i,"aria-labelledby":me(e,p),...s,children:V}),[V,x,p,i]),U=r.useCallback(e=>F({hidden:D,...e}),[D,F]),w=r.useCallback(e=>({...f,...e}),[f]),Z=r.useCallback((e={})=>w({"aria-label":n("Clear value"),role:"button",tabIndex:0,...e,onClick:ne(e.onClick,I),onKeyDown:ne(e.onKeyDown,s=>xe(s,{Enter:I,Space:I}))}),[w,I,n]);return{descendants:N,includePlaceholder:a,interactive:X,items:S,max:h,open:O,placeholder:i,setValue:v,value:d,valueMap:y,getClearIconProps:Z,getContentProps:U,getFieldProps:J,getIconProps:w,getRootProps:A,getSeparatorProps:R,onActiveDescendant:z,onChange:K,onClose:H,onOpen:Q,onSelect:Y}},We=({children:t,closeOnSelect:n,disabled:p,hidden:l,value:c,...m}={})=>{const{max:C,value:a}=Je();c??=W(t)?t:void 0;const P=j(a)?!ee(c)&&a.includes(c):a===c,h=ce(C)&&j(a)&&a.length>=C,{getIndicatorProps:i,getItemProps:k}=he({children:t,closeOnSelect:n,disabled:p||l||h&&!P,hidden:l,selected:P,value:c,...m}),M=r.useCallback((g={})=>k(g),[k]);return{getIndicatorProps:i,getOptionProps:M}},{ComponentContext:$e,useComponentContext:oe,withContext:b,withProvider:qe}=be("select",Ie),io=qe(t=>{const[n,p]=Ee(t),[l,{className:c,css:m,colorScheme:C,children:a,clearable:P,clearIcon:h=o.jsx(Ge,{}),errorBorderColor:i,focusBorderColor:k,icon:M,items:g,contentProps:$,elementProps:q,groupProps:B,iconProps:L,optionProps:f,placeholderProps:T,rootProps:d,...v}]=De(p,["disabled","open","defaultOpen","onOpen","onClose","openOnClick"]),K=r.useMemo(()=>g||ge(a,{Group:le,Label:ie,Option:_}),[g,a]),{descendants:S,includePlaceholder:D,interactive:N,items:X,max:O,open:F,placeholder:R,value:x,getClearIconProps:z,getContentProps:H,getFieldProps:Q,getIconProps:Y,getRootProps:y,getSeparatorProps:G,onActiveDescendant:V,onChange:I,onClose:A,onOpen:J,onSelect:U}=Ue({items:K,...v}),w=r.useMemo(()=>({animationScheme:"block-start",autoFocus:!1,matchWidth:!0,openOnClick:!1,...l,disabled:!N,open:F,onClose:A,onOpen:J}),[N,A,J,F,l]),Z=r.useMemo(()=>a?o.jsxs(o.Fragment,{children:[R?o.jsx(_,{...T,hidden:!D,value:"",children:R}):null,a]}):fe(X,{Group:le,Option:_}),[a,X,R,D,T]),e=we({errorBorderColor:i,focusBorderColor:k}),s=r.useMemo(()=>({max:O,value:x,onActiveDescendant:V,onChange:I,onClose:A,onSelect:U}),[O,V,I,A,U,x]),u=r.useMemo(()=>({max:O,value:x}),[O,x]),E=r.useMemo(()=>({getSeparatorProps:G,groupProps:B,optionProps:f}),[G,B,f]),te=j(x)?!!x.length:!!x;return o.jsx(ve,{value:S,children:o.jsx(Se,{value:s,children:o.jsx(Xe,{value:u,children:o.jsx($e,{value:E,children:o.jsxs(Fe,{...w,children:[o.jsxs(Be,{className:c,css:m,colorScheme:C,...y({...n,...d}),children:[o.jsx(Re,{children:o.jsx(ze,{...Q(e)})}),o.jsx(Le,{clickable:P&&te,...q,children:P&&te?o.jsx(ae,{icon:h,...z(L)}):o.jsx(ae,{icon:M,...Y(L)})})]}),o.jsx(Qe,{...re(H(re($))),children:Z})]})})})})})},"root")(t=>({...Ae(),...t})),ze=b("div","field")({"data-group-propagate":""},({children:t,...n})=>({...n,children:o.jsx(He,{children:t})})),ae=b("div","icon")(void 0,({children:t,icon:n,...p})=>({children:n||t||o.jsx(Ke,{}),...p})),He=b("span","valueText")(),Qe=b(Ve,"content")(),ie=b("span","label")(void 0,t=>{const{getLabelProps:n}=Me();return n(t)}),le=b(({children:t,label:n,labelProps:p,...l})=>{const{groupProps:c}=oe(),{getGroupProps:m,getLabelProps:C}=je({...c,...l}),a=r.useMemo(()=>({getLabelProps:C}),[C]);return o.jsx(ke,{value:a,children:o.jsxs(pe.div,{...m(),children:[n?o.jsx(ie,{...p,children:n}):null,t]})})},"group")(),_=b(({children:t,icon:n,...p})=>{const{optionProps:{icon:l,...c}={}}=oe(),{getIndicatorProps:m,getOptionProps:C}=We({...c,...p});return o.jsxs(pe.div,{...C(),children:[o.jsx(Ye,{...m(),children:n??l??o.jsx(Te,{})}),t]})},"option")(),Ye=b("div","indicator")(),uo=b("hr","separator")(void 0,t=>{const{getSeparatorProps:n}=oe();return n(t)});export{io as S,_ as a,le as b,ie as c,uo as d};
