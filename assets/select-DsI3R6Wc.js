import{c as de,J as me,r,i as k,L as pe,l as U,K as ee,aQ as ne,f as Ce,h as re,j as t,b as xe,a as be,g as Pe,X as he,N as ae,s as ue}from"./iframe-B0P9Y6nu.js";import{u as ge,a as fe,c as ve,b as Se,C as Ie,d as je,s as ke,e as Me,f as ye,g as Oe}from"./index-BiBJiXkq.js";import{u as Ee}from"./index-ISt4vA3k.js";import{u as Ge}from"./use-field-props-DDmJ1gDh.js";import{u as Ae}from"./input-BqUpQ0eP.js";import{u as De}from"./group-BCvsLja2.js";import{u as Fe,P as Re,a as Ve,b as we}from"./popover-qjt-uMCM.js";import{u as Le}from"./use-input-border-BNPs4Mo9.js";import{I as Ke,a as Te}from"./input-group-B4X35XkF.js";import{C as Be}from"./check-icon-bA-W2xAF.js";import{C as Ne}from"./chevron-down-icon-D2OpjyIl.js";const Xe=({count:s,index:n,label:p,separator:l,value:c})=>{const m=s-1===n;return t.jsxs("span",{style:{marginInlineEnd:"var(--gap)"},"data-placeholder":xe(c===""),children:[p,m?null:l]})},[Je,Qe]=de({name:"SelectContext"}),Ue=(s={})=>{const{t:n}=me("select"),{context:{labelId:p}={},props:{multiple:l=!1,closeOnSelect:c=!l,defaultValue:m=l?[]:"",disabled:C,includePlaceholder:a=!l,items:P=[],max:h,placeholder:u,readOnly:M,render:y=Xe,separator:g=",",value:W,onChange:q,...K},ariaProps:T,dataProps:f,eventProps:B}=Ge(s),[d,v]=Ee({defaultValue:m,value:W,onChange:q}),O=r.useCallback(e=>{v(o=>k(o)?o.includes(e)?o.filter(i=>i!==e):!pe(h)||o.length<h?[...o,e]:o:e)},[h,v]),S=r.useMemo(()=>{const e=[...P];return u&&e.unshift({hidden:!a,label:u,value:""}),e},[P,u,a]),F=r.useMemo(()=>!S.filter(({hidden:e})=>!e).length,[S]),{descendants:N,interactive:X,open:E,getContentProps:R,getSeparatorProps:V,getTriggerProps:x,onActiveDescendant:z,onClose:H,onOpen:Y,onSelect:Z}=ge({closeOnSelect:c,disabled:C,initialFocusValue:k(d)?d[0]:d,readOnly:M,onChange:O,...T,...f,...B,...K}),G=r.useMemo(()=>{const e={};return S.forEach(o=>{"items"in o?o.items.forEach(i=>{i.value??=U(i.label)?i.label:void 0,ee(i.value)||(e[i.value]=i)}):(o.value??=U(o.label)?o.label:void 0,ee(o.value)||(e[o.value]=o))}),e},[S]),A=r.useMemo(()=>k(d)?d.length?ne(d.map(e=>G[e])):u?[{label:u,value:""}]:[]:U(d)?ne(G[d]):[],[u,d,G]),w=r.useMemo(()=>{const e=A.length;return A.map((o,i)=>{const j=y({count:e,index:i,separator:g,onClear:se=>{se?.preventDefault(),se?.stopPropagation(),o.value&&O(o.value)},...o});return r.isValidElement(j)?r.cloneElement(j,{...j.props,key:i}):j})},[O,y,A,g]),I=r.useCallback(()=>{v(e=>k(e)?[]:"")},[v]),D=r.useCallback(e=>({...f,...e}),[f]),J=r.useCallback(({"aria-labelledby":e,...o}={})=>x({"aria-label":u,"aria-labelledby":Ce(e,p),...o,children:w}),[w,x,p,u]),Q=r.useCallback(e=>R({hidden:F,...e}),[F,R]),L=r.useCallback(e=>({...f,...e}),[f]),_=r.useCallback((e={})=>L({"aria-label":n("Clear value"),role:"button",tabIndex:0,...e,onClick:re(e.onClick,I),onKeyDown:re(e.onKeyDown,o=>be(o,{Enter:I,Space:I}))}),[L,I,n]);return{descendants:N,includePlaceholder:a,interactive:X,items:S,max:h,open:E,placeholder:u,setValue:v,value:d,valueMap:G,getClearIconProps:_,getContentProps:Q,getFieldProps:J,getIconProps:L,getRootProps:D,getSeparatorProps:V,onActiveDescendant:z,onChange:O,onClose:H,onOpen:Y,onSelect:Z}},We=({children:s,closeOnSelect:n,disabled:p,hidden:l,value:c,...m}={})=>{const{max:C,value:a}=Qe();c??=U(s)?s:void 0;const P=k(a)?!ee(c)&&a.includes(c):a===c,h=pe(C)&&k(a)&&a.length>=C,{getIndicatorProps:u,getItemProps:M}=fe({children:s,closeOnSelect:n,disabled:p||l||h&&!P,hidden:l,selected:P,value:c,...m}),y=r.useCallback((g={})=>M(g),[M]);return{getIndicatorProps:u,getOptionProps:y}},{ComponentContext:qe,useComponentContext:oe,withContext:b,withProvider:ze}=Pe("select",ke),uo=ze(s=>{const[n,p]=De(s),[l,{className:c,css:m,colorScheme:C,children:a,clearable:P,clearIcon:h=t.jsx(he,{}),errorBorderColor:u,focusBorderColor:M,icon:y,items:g,contentProps:W,elementProps:q,groupProps:K,iconProps:T,optionProps:f,placeholderProps:B,rootProps:d,...v}]=Fe(p,["disabled","open","defaultOpen","onOpen","onClose","openOnClick"]),O=r.useMemo(()=>g||ve(a,{Group:ce,Label:ie,Option:$}),[g,a]),{descendants:S,includePlaceholder:F,interactive:N,items:X,max:E,open:R,placeholder:V,value:x,getClearIconProps:z,getContentProps:H,getFieldProps:Y,getIconProps:Z,getRootProps:G,getSeparatorProps:A,onActiveDescendant:w,onChange:I,onClose:D,onOpen:J,onSelect:Q}=Ue({items:O,...v}),L=r.useMemo(()=>({animationScheme:"block-start",autoFocus:!1,matchWidth:!0,...l,disabled:!N,open:R,onClose:D,onOpen:J}),[N,D,J,R,l]),_=r.useMemo(()=>a?t.jsxs(t.Fragment,{children:[V?t.jsx($,{...B,hidden:!F,value:"",children:V}):null,a]}):Se(X,{Group:ce,Option:$}),[a,X,V,F,B]),e=Le({errorBorderColor:u,focusBorderColor:M}),o=r.useMemo(()=>({max:E,value:x,onActiveDescendant:w,onChange:I,onClose:D,onSelect:Q}),[E,w,I,D,Q,x]),i=r.useMemo(()=>({max:E,value:x}),[E,x]),te=r.useMemo(()=>({getSeparatorProps:A,groupProps:K,optionProps:f}),[A,K,f]),j=k(x)?!!x.length:!!x;return t.jsx(Ie,{value:S,children:t.jsx(je,{value:o,children:t.jsx(Je,{value:i,children:t.jsx(qe,{value:te,children:t.jsxs(Re,{...L,children:[t.jsxs(Ke,{className:c,css:m,colorScheme:C,...G({...n,...d}),children:[t.jsx(Ve,{children:t.jsx(He,{...Y(e)})}),t.jsx(Te,{clickable:P&&j,...q,children:P&&j?t.jsx(le,{icon:h,...z(T)}):t.jsx(le,{icon:y,...Z(T)})})]}),t.jsx(Ze,{...ae(H(ae(W))),children:_})]})})})})})},"root")(s=>({...Ae(),...s})),He=b("div","field")({"data-group-propagate":""},({children:s,...n})=>({...n,children:t.jsx(Ye,{children:s})})),le=b("div","icon")(void 0,({children:s,icon:n,...p})=>({children:n||s||t.jsx(Ne,{}),...p})),Ye=b("span","valueText")(),Ze=b(we,"content")(),ie=b("span","label")(void 0,s=>{const{getLabelProps:n}=Oe();return n(s)}),ce=b(({children:s,label:n,labelProps:p,...l})=>{const{groupProps:c}=oe(),{getGroupProps:m,getLabelProps:C}=Me({...c,...l}),a=r.useMemo(()=>({getLabelProps:C}),[C]);return t.jsx(ye,{value:a,children:t.jsxs(ue.div,{...m(),children:[n?t.jsx(ie,{...p,children:n}):null,s]})})},"group")(),$=b(({children:s,icon:n,...p})=>{const{optionProps:{icon:l,...c}={}}=oe(),{getIndicatorProps:m,getOptionProps:C}=We({...c,...p});return t.jsxs(ue.div,{...C(),children:[t.jsx(_e,{...m(),children:n??l??t.jsx(Be,{})}),s]})},"option")(),_e=b("div","indicator")(),io=b("hr","separator")(void 0,s=>{const{getSeparatorProps:n}=oe();return n(s)});export{uo as S,$ as a,ce as b,ie as c,io as d};
