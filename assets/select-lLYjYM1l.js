import{c as he,G as fe,r as t,i as M,J as Ce,l as D,H as ae,aR as ie,f as ve,m as Ie,h as ne,O as Se,e as je,j as o,b as ke,a as ye,g as Me,X as Oe,s as le,L as pe}from"./iframe-D0k82VKj.js";import{u as Re,a as Ge,c as Ae,b as Ee,C as Fe,d as Ve,s as De,e as we,f as Le,g as Te}from"./index-Ccb9n6Mt.js";import{u as Be}from"./index-Bb9gnTOn.js";import{u as Ke}from"./use-field-props-CqEx8ctB.js";import{u as He}from"./input-Z3NWNvVg.js";import{u as Ne}from"./group-wqTpA82u.js";import{u as Xe}from"./use-input-border-BupPeUaJ.js";import{P as qe,a as Je,b as Ue}from"./popover-D71C8iMr.js";import{I as ze,a as Qe}from"./input-group-cuo2st2X.js";import{C as We}from"./check-icon-B019Rgxq.js";import{C as Ye}from"./chevron-down-icon-sbcZmcf2.js";const Ze=({count:s,index:r,label:i,separator:d,value:l})=>{const p=s-1===r;return o.jsxs("span",{style:{marginInlineEnd:"var(--gap)"},"data-placeholder":ke(l===""),children:[i,p?null:d]})},[_e,$e]=he({name:"SelectContext"}),eo=(s={})=>{const{t:r}=fe("select"),{context:{labelId:i}={},props:{id:d,name:l,multiple:p=!1,closeOnSelect:c=!p,defaultValue:x=p?[]:"",disabled:f,focusOnClear:j=!0,includePlaceholder:k=!p,items:y=[],max:v,placeholder:u,readOnly:G,render:w=Ze,required:A,separator:E=",",value:L,onChange:T,...Y},ariaProps:Z,dataProps:g,eventProps:_}=Ke(s),I=t.useRef(null),[a,b]=Be({defaultValue:x,value:L,onChange:T}),S=t.useCallback(e=>{b(n=>M(n)?n.includes(e)?n.filter(C=>C!==e):!Ce(v)||n.length<v?[...n,e]:n:e)},[v,b]),m=t.useMemo(()=>{const e=[...y];return u&&e.unshift({hidden:!k,label:u,value:""}),e},[y,u,k]),B=t.useMemo(()=>!m.filter(({hidden:e})=>!e).length,[m]),{descendants:$,interactive:P,open:ee,getContentProps:K,getSeparatorProps:oe,getTriggerProps:F,popoverProps:H,onActiveDescendant:N,onClose:X,onOpen:q,onSelect:J}=Re({closeOnSelect:c,disabled:f,initialFocusValue:M(a)?a[0]:a,readOnly:G,onChange:S,...Z,...g,..._,...Y}),O=t.useMemo(()=>{const e={};return m.forEach(n=>{"items"in n?n.items.forEach(C=>{C.value??=D(C.label)?C.label:void 0,ae(C.value)||(e[C.value]=C)}):(n.value??=D(n.label)?n.label:void 0,ae(n.value)||(e[n.value]=n))}),e},[m]),V=t.useMemo(()=>M(a)?a.length?ie(a.map(e=>O[e])):u?[{label:u,value:""}]:[]:D(a)?ie(O[a]):[],[u,a,O]),U=t.useMemo(()=>{const e=V.length;return V.map((n,C)=>{const W=w({count:e,index:C,separator:E,onClear:ue=>{ue?.preventDefault(),ue?.stopPropagation(),n.value&&S(n.value)},...n});return t.isValidElement(W)?t.cloneElement(W,{...W.props,key:C}):W})},[S,w,V,E]),z=t.useCallback(()=>{!P||!I.current||I.current.focus()},[P]),R=t.useCallback(()=>{P&&(b(e=>M(e)?[]:""),I.current&&j&&I.current.focus())},[j,P,b]),te=t.useCallback(e=>({...g,...e}),[g]),Q=t.useCallback(({ref:e,"aria-labelledby":n,...C}={})=>F({ref:Ie(e,I),"aria-label":u,"aria-labelledby":ve(n,i),...C,children:U}),[U,F,i,u]),be=t.useCallback((e={})=>({...g,...Se,id:d,name:l,defaultValue:D(a)?a:a.join(", "),disabled:f,readOnly:G,required:A,...e,onFocus:ne(e.onFocus,z)}),[g,f,d,l,z,G,A,a]),Pe=t.useCallback(e=>K({hidden:B,...e}),[B,K]),se=t.useCallback(e=>({...g,...e}),[g]),ge=t.useCallback((e={})=>se({"aria-disabled":je(!P),"aria-label":r("Clear value"),role:"button",tabIndex:P?0:-1,...e,onClick:ne(e.onClick,R),onKeyDown:ne(e.onKeyDown,n=>ye(n,{Enter:R,Space:R}))}),[se,P,R,r]);return{descendants:$,includePlaceholder:k,interactive:P,items:m,max:v,open:ee,placeholder:u,setValue:b,value:a,valueMap:O,getClearIconProps:ge,getContentProps:Pe,getFieldProps:Q,getIconProps:se,getInputProps:be,getRootProps:te,getSeparatorProps:oe,popoverProps:H,onActiveDescendant:N,onChange:S,onClose:X,onOpen:q,onSelect:J}},oo=({children:s,closeOnSelect:r,disabled:i,hidden:d,value:l,...p}={})=>{const{max:c,value:x}=$e();l??=D(s)?s:void 0;const f=M(x)?!ae(l)&&x.includes(l):x===l,j=Ce(c)&&M(x)&&x.length>=c,{getIndicatorProps:k,getItemProps:y}=Ge({children:s,closeOnSelect:r,disabled:i||d||j&&!f,hidden:d,selected:f,value:l,...p}),v=t.useCallback((u={})=>y(u),[y]);return{getIndicatorProps:k,getOptionProps:v}},{ComponentContext:to,useComponentContext:ce,withContext:h,withProvider:so}=Me("select",De),vo=so(s=>{const[r,{className:i,css:d,colorScheme:l,animationScheme:p="block-start",children:c,clearable:x,clearIcon:f=o.jsx(Oe,{}),duration:j,errorBorderColor:k,focusBorderColor:y,icon:v,items:u,contentProps:G,elementProps:w,groupProps:A,iconProps:E,optionProps:L,placeholderProps:T,rootProps:Y,...Z}]=Ne(s),g=t.useMemo(()=>u||Ae(c,{Group:me,Label:xe,Option:re}),[u,c]),{descendants:_,includePlaceholder:I,items:a,max:b,placeholder:S,value:m,getClearIconProps:B,getContentProps:$,getFieldProps:P,getIconProps:ee,getInputProps:K,getRootProps:oe,getSeparatorProps:F,popoverProps:H,onActiveDescendant:N,onChange:X,onClose:q,onSelect:J}=eo({items:g,...Z}),O=t.useMemo(()=>({animationScheme:p,duration:j,...H}),[p,j,H]),V=t.useMemo(()=>c?o.jsxs(o.Fragment,{children:[S?o.jsx(re,{...T,hidden:!I,value:"",children:S}):null,c]}):Ee(a,{Group:me,Option:re}),[c,a,S,I,T]),U=Xe({errorBorderColor:k,focusBorderColor:y}),z=t.useMemo(()=>({max:b,value:m,onActiveDescendant:N,onChange:X,onClose:q,onSelect:J}),[b,N,X,q,J,m]),R=t.useMemo(()=>({max:b,value:m}),[b,m]),te=t.useMemo(()=>({getSeparatorProps:F,groupProps:A,optionProps:L}),[F,A,L]),Q=M(m)?!!m.length:!!m;return o.jsx(Fe,{value:_,children:o.jsx(Ve,{value:z,children:o.jsx(_e,{value:R,children:o.jsx(to,{value:te,children:o.jsxs(qe,{...O,children:[o.jsx(le.input,{...K()}),o.jsxs(ze,{className:i,css:d,colorScheme:l,...oe({...r,...Y}),children:[o.jsx(Je,{children:o.jsx(no,{...P(U)})}),o.jsx(Qe,{clickable:x&&Q,...w,children:x&&Q?o.jsx(de,{icon:f,...B(E)}):o.jsx(de,{icon:v,...ee(E)})})]}),o.jsx(ao,{...pe($(pe(G))),children:V})]})})})})})},"root")(s=>({...He(),...s})),no=h("div","field")({"data-group-propagate":""},({children:s,...r})=>({...r,children:o.jsx(ro,{children:s})})),de=h("div","icon")(void 0,({children:s,icon:r,...i})=>({children:r||s||o.jsx(Ye,{}),...i})),ro=h("span","valueText")(),ao=h(Ue,"content")(),xe=h("span","label")(void 0,s=>{const{getLabelProps:r}=Te();return r(s)}),me=h(({children:s,label:r,labelProps:i,...d})=>{const{groupProps:l}=ce(),{getGroupProps:p,getLabelProps:c}=we({...l,...d}),x=t.useMemo(()=>({getLabelProps:c}),[c]);return o.jsx(Le,{value:x,children:o.jsxs(le.div,{...p(),children:[r?o.jsx(xe,{...i,children:r}):null,s]})})},"group")(),re=h(({children:s,icon:r,...i})=>{const{optionProps:{icon:d,...l}={}}=ce(),{getIndicatorProps:p,getOptionProps:c}=oo({...l,...i});return o.jsxs(le.div,{...c(),children:[o.jsx(lo,{...p(),children:r??d??o.jsx(We,{})}),s]})},"option")(),lo=h("div","indicator")(),Io=h("hr","separator")(void 0,s=>{const{getSeparatorProps:r}=ce();return r(s)});export{vo as S,re as a,me as b,xe as c,Io as d};
