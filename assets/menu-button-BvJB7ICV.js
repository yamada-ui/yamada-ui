import{j as a}from"./jsx-runtime-BpbtHYHY.js";import{r as f}from"./index-BwPxMuoB.js";import{u as C,a as j,M as K}from"./menu-list-BWmTIbff.js";import{a as E}from"./popover-trigger-Ddfu3ZQC.js";import{c as F}from"./icon-Dk5VwDTI.js";import{f as x}from"./forward-ref-Ukjd1cIW.js";import{a5 as t,n as N,b as y,h as S,d as U,c as h,a as L}from"./factory-DbNU74ts.js";const M=x(({id:r,as:s,className:c,children:i,...p},l)=>{const{onKeyDownRef:d,onUpstreamRestoreFocus:_}=C()??{},{buttonRef:D,open:u,onClose:w,onFocusFirstItem:e,onFocusLastItem:I,onOpen:o}=j(),R=f.useId();r??(r=R);const b=f.useCallback(n=>{n.key===" "&&(n.key=n.code);const m={ArrowDown:t(o,e),ArrowUp:t(o,I),Enter:t(o,e),Space:t(o,e)}[n.key];m&&(n.preventDefault(),m())},[e,I,o]),g=f.useCallback(n=>{n.key===" "&&(n.key=n.code);const m={ArrowLeft:u?t(_,w):void 0,ArrowRight:u?void 0:t(o,e),Enter:u?void 0:t(o,e),Space:u?void 0:t(o,e)}[n.key];m&&(n.preventDefault(),m())},[u,o,e,_,w]);N(d,g);const A=f.useMemo(()=>s?y(s):v,[s]);return a.jsx(E,{children:a.jsx(A,{id:r,ref:L(D,l),className:h("ui-menu",c),"aria-haspopup":"menu",...p,"data-active":U(u),onKeyDown:S(p.onKeyDown,b),children:i})})});M.displayName="MenuButton";M.__ui__="MenuButton";const v=x((r,s)=>{const{styles:c}=j(),i={alignItems:"center",appearance:"none",display:"inline-flex",outline:0,...c.button};return a.jsx(y.button,{ref:s,__css:i,...r})}),k=x(({className:r,children:s,icon:c,iconProps:i,innerProps:p,...l},d)=>a.jsxs(M,{ref:d,className:h("ui-menu__item-button",r),flex:"1",...l,children:[a.jsx(y.span,{as:"span",flex:"1",...p,children:s}),a.jsx(K,{...i,children:c??a.jsx(F,{fontSize:"1.5em",transform:"rotate(-90deg)"})})]}));k.displayName="MenuItemButton";k.__ui__="MenuItemButton";export{M,k as a};
