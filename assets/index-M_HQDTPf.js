import{u as b}from"./index-YFprnXPi.js";import{u as v}from"./index-BhIdR6KT.js";import{r as i}from"./index-Bv9Y92EF.js";import{Q as c,U as d,K as l,J as w,F as S,V as p}from"./factory-7Z88KRtK.js";import{u as h}from"./theme-provider-DsbwOWxu.js";const x=t=>{const{theme:s}=h();return c(t)?t.map(n=>d(n,s,p)).join(", "):d(t,s,p)},F=(t,s)=>{const{theme:n}=h(),e=i.useRef(l(s)?void 0:c(s)?s.map(String):String(s)),r=i.useRef(new Map),[f,m]=i.useState(()=>{for(const[u,a]of Object.entries(t)){if(r.current.has(u))return;c(a)?r.current.set(u,a.map(o=>d(o,n,p)).join(", ")):r.current.set(u,d(a,n,p))}return c(e.current)?e.current.map(u=>r.current.get(u)).join(", "):r.current.get(e.current??"")}),g=i.useCallback(u=>{const a=!l(e.current)&&c(t)?c(e.current)?e.current.map(Number):Number(e.current):e.current,o=w(u,a);e.current=c(o)?o.map(String):String(o),c(e.current)?m(e.current.map(A=>r.current.get(A)).join(", ")):m(r.current.get(e.current))},[t]);return[f,g]},M=({ref:t,isOpen:s,open:n=s})=>{const[e,r]=i.useState(n),[f,{on:m}]=b();return i.useEffect(()=>{f||(r(n),m())},[n,f,m]),v(()=>t.current,"animationend",()=>r(n)),{present:!(n?!1:!e),onAnimationComplete(){var o;const u=S(t.current),a=new u.CustomEvent("animationend",{bubbles:!0});(o=t.current)==null||o.dispatchEvent(a)}}};export{F as a,M as b,x as u};
