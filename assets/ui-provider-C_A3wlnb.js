import{j as s}from"./jsx-runtime-Nms4Y4qS.js";import{d as S,a as E}from"./index-CB49XI1O.js";import{b,c as M,f as y,B as N,a7 as g,a8 as I}from"./factory-CJEIqePD.js";import{T,R as C,G as L}from"./theme-provider-BmJ-9UWz.js";import{r as u}from"./index-BwDkhjyp.js";import{M as _,u as R,l as U,d as k,m as z}from"./motion-Bd6WkMzw.js";import{L as A}from"./loading-provider-DBzF8Pld.js";import{u as G}from"./index-BlhRxAhu.js";import{n as j}from"./notice-DKgLU1VA.js";import{A as H}from"./index-Ms_xn5rh.js";import{P as K}from"./container-portal-HerNt1yQ.js";function O({children:i,isValidProp:e,...t}){e&&U(e),t={...u.useContext(_),...t},t.isStatic=R(()=>t.isStatic);const o=u.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return s.jsx(_.Provider,{value:o,children:i})}const W=({variants:i,gap:e="fallback(4, 1rem)",appendToParentPortal:t,listProps:o,itemProps:m,containerRef:a})=>{const d=u.useSyncExternalStore(j.subscribe,j.getSnapshot,j.getSnapshot),c=Object.entries(d).map(([n,x])=>{const l=n.includes("top")?"env(safe-area-inset-top, 0px)":void 0,r=n.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,v=n.includes("left")?void 0:"env(safe-area-inset-right, 0px)",h=n.includes("right")?void 0:"env(safe-area-inset-left, 0px)",f={position:"fixed",zIndex:"fallback(zarbon, 160)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:e,gap:e,top:l,bottom:r,right:v,left:h};return s.jsx(b.ul,{className:M("ui-notice__list",`ui-notice__list--${n}`),__css:f,...o,children:s.jsx(H,{initial:!1,children:x.map(p=>s.jsx(P,{variants:i,itemProps:m,...p},p.id))})},n)});return s.jsx(K,{appendToParentPortal:t,containerRef:a,children:c})},B={initial:({placement:i})=>({opacity:0,[["top","bottom"].includes(i)?"y":"x"]:(i==="bottom"||i.includes("right")?1:-1)*24}),animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.95,transition:{duration:.2,ease:[.4,0,1,1]}}},P=u.memo(({variants:i=B,itemProps:e,placement:t,duration:o=5e3,message:m,onCloseComplete:a,isDelete:d=!1,onDelete:c,style:n})=>{const[x,l]=u.useState(o),r=k();y(()=>{r||a==null||a()},[r]),y(()=>{l(o)},[o]);const v=()=>l(null),h=()=>l(o),f=()=>{r&&c()};u.useEffect(()=>{r&&d&&c()},[r,d,c]),G(f,x);const p={pointerEvents:"auto",maxW:"36rem",minW:"20rem",...n};return s.jsx(z.li,{layout:!0,className:"ui-notice__list__item",variants:i,initial:"initial",animate:"animate",exit:"exit",onHoverStart:v,onHoverEnd:h,custom:{placement:t},style:{display:"flex",justifyContent:t.includes("left")?"flex-start":t.includes("right")?"flex-end":"center"},...e,children:s.jsx(b.div,{className:"ui-notice__list__item__inner",__css:p,children:N(m,{onClose:f})})})});P.displayName="NoticeComponent";const tt=({theme:i=S,config:e=E,disableResetStyle:t,disableGlobalStyle:o,colorModeManager:m,colorModeStorageKey:a,themeSchemeManager:d,themeSchemeStorageKey:c,environment:n,disableEnvironment:x,children:l})=>{var r;return s.jsx(g,{environment:n,disabled:x,children:s.jsx(T,{theme:i,config:e,themeSchemeManager:d,storageKey:c,children:s.jsx(I,{colorModeManager:m,storageKey:a,config:e,children:s.jsx(O,{...(r=e.motion)==null?void 0:r.config,children:s.jsxs(A,{...e.loading,children:[t?null:s.jsx(C,{}),o?null:s.jsx(L,{}),l,s.jsx(W,{...e.notice})]})})})})})};export{tt as U};
