import{j as e}from"./jsx-runtime-DztICxWZ.js";import{r as b}from"./index-Bv9Y92EF.js";import{F as X,a as Y,H as R,E,b as Z,c as $,R as L}from"./form-control-C8eO6U25.js";import{V as P}from"./visually-hidden-D8yDyhNx.js";import{f as H}from"./forward-ref-DH6f5tnY.js";import{a as ee}from"./use-component-style-DHLtMqa5.js";import{o as se}from"./theme-provider-DsbwOWxu.js";import{g as re,C,b as N,d as s,c as q}from"./factory-7Z88KRtK.js";const I=H(({id:u,...m},p)=>{const[t,d]=ee("Fieldset",m),i=b.useId(),{className:f,children:n,isDisabled:g=!1,disabled:l=g,errorMessage:r,helperMessage:a,isInvalid:x=!1,invalid:o=x,isReadOnly:h=!1,isReplace:S=!0,isRequired:O=!1,legend:_,optionalIndicator:V,readOnly:j=h,replace:F=S,required:w=O,requiredIndicator:A,errorMessageProps:B,helperMessageProps:D,legendProps:T,...k}=se(d),[M,v]=b.useState(!1),y=re(n),z=C(y,c),G=C(y,R),J=C(y,E),K=!!z,Q=!!G,U=!!J,W={...t.container};return u??(u=i),e.jsx(X,{value:{disabled:l,focused:M,invalid:o,readOnly:j,replace:F,required:w,onBlur:()=>v(!1),onFocus:()=>v(!0)},children:e.jsx(Y,{value:t,children:e.jsxs(N.fieldset,{ref:p,className:q("ui-fieldset",f),"data-disabled":s(l),"data-focus":s(M),"data-invalid":s(o),"data-readonly":s(j),disabled:l,__css:W,...k,children:[!K&&_?e.jsxs(c,{optionalIndicator:V,requiredIndicator:A,...T,children:[_,(!F||!o)&&a?e.jsx(P,{children:a}):null,o&&r?e.jsx(P,{children:r}):null]}):null,n,!Q&&a?e.jsx(R,{...D,children:a}):null,!U&&r?e.jsx(E,{...B,children:r}):null]})})})});I.displayName="Fieldset";I.__ui__="Fieldset";const c=H(({className:u,children:m,isRequired:p,optionalIndicator:t=null,required:d=p,requiredIndicator:i=null,...f},n)=>{const{disabled:g,focused:l,invalid:r,readOnly:a,required:x}=Z()??{},h={...($()??{}).legend};return d??(d=x),e.jsxs(N.legend,{ref:n,className:q("ui-fieldset__legend",u),"data-disabled":s(g),"data-focus":s(l),"data-invalid":s(r),"data-readonly":s(a),__css:h,...f,children:[m,d?i?e.jsx(L,{children:i}):e.jsx(L,{}):t]})});c.displayName="Legend";c.__ui__="Legend";export{I as F,c as L};
