import{d as N,r as o,at as w,au as U,h as l,f as q,m as G,b as L,av as A,g as H,j as u,a8 as J,aw as K,N as F,t as M}from"./iframe-s8tBpZKs.js";import{u as I}from"./index-DGkt9D23.js";import{u as Q}from"./index-DcfHFLQJ.js";import{c as V,d as X,g as Y}from"./popover-CYNpNmiG.js";import{u as Z}from"./use-disclosure-CT_-4hp7.js";const _=N({base:{content:{bg:"bg.float",borderColor:"border.muted",borderWidth:"1px",boxShadow:"sm",fontSize:"sm",maxW:"xs",position:"relative",px:"sm",py:"xs",rounded:"l2"},positioner:{zIndex:"ginyu"}}}),$=(b={})=>{const[x,{closeDelay:m=0,closeOnClick:p=!0,closeOnEsc:P=!0,closeOnScroll:T,defaultOpen:h,disabled:f,open:v,openDelay:g=0,onClose:y,onOpen:k}]=V(b,["open"]),s=o.useId(),i=o.useRef(null),c=o.useRef(void 0),d=o.useRef(void 0),{open:e,onClose:E,onOpen:O}=Z({defaultOpen:h,open:v,onClose:y,onOpen:k}),{getPopperProps:R,getReferenceProps:D}=X({open:e,...x}),a=o.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=void 0),E()},[E]),C=o.useCallback(()=>{!f&&!c.current&&(e&&a(),c.current=w(i.current).setTimeout(O,g))},[f,e,a,O,g]),t=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=void 0),d.current=w(i.current).setTimeout(()=>{a()},m)},[m,a]);I(()=>A(i.current),"keydown",({key:n})=>{P&&n==="Escape"&&t()}),I(()=>A(i.current),"scroll",()=>{e&&T&&a()}),Q({ref:i,enabled:e,handler:()=>{t()}}),U(()=>{clearTimeout(c.current),clearTimeout(d.current)});const W=o.useCallback(({"aria-describedby":n,...r}={})=>D({...r,ref:G(r.ref,i),"aria-describedby":q(n,e?s:void 0),onBlur:l(r.onBlur,t),onClick:l(r.onClick,p?t:void 0),onFocus:l(r.onFocus,C),onPointerEnter:l(r.onPointerEnter,S=>{S.pointerType!=="touch"&&C()}),onPointerLeave:l(r.onPointerLeave,S=>{S.pointerType!=="touch"&&t()})}),[D,s,C,e,p,t]),z=o.useCallback(n=>R(n),[R]),B=o.useCallback((n={})=>({id:s,"data-close":L(!e),"data-open":L(e),role:"tooltip",onPointerLeave:l(n.onPointerLeave,t),...n}),[s,t,e]);return{open:e,getContentProps:B,getPositionerProps:z,getTriggerProps:W,onClose:a,onDelayClose:t,onDelayOpen:C,onOpen:O}},{StyleContext:ee,withContext:j,useRootComponentProps:oe}=H("tooltip",_),ue=b=>{const[x,{animationScheme:m="scale",children:p,content:P,duration:T=.1,contentProps:h,portalProps:f,...v}]=oe(b),{open:g,getContentProps:y,getPositionerProps:k,getTriggerProps:s}=$(v);return P?u.jsxs(ee,{value:x,children:[u.jsx(ne,{asChild:!0,...s(),children:p}),u.jsx(J,{children:g?u.jsx(K,{...f,children:u.jsx(te,{...k(),children:u.jsx(re,{...Y(m,T),...F(y(F(h))),children:P})})}):null})]}):p},te=j("div","positioner")(),ne=j("button","trigger")(),re=j(M.div,"content")();export{ue as T};
