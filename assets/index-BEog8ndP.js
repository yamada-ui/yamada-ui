import{a as W}from"./index-ZCRYeFYt.js";import{r as e}from"./index-BwPxMuoB.js";import{S as y,a as R,d as Y}from"./factory-DbNU74ts.js";const x=d=>{const{isContentEditable:k,tagName:f}=d.target;return f!=="INPUT"&&f!=="TEXTAREA"&&!k},_=({ref:d,clickOnEnter:k=!0,clickOnSpace:f=!0,isDisabled:S,disabled:r=S,disableTouchBehavior:b=!0,isFocusable:V,focusable:X=V,focusOnClick:D=!0,tabIndex:N,onClick:C,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p,...A}={})=>{const[a,j]=e.useState(!0),[g,s]=e.useState(!1),u=W(),q=a?N:N||0,E=r&&!X,I=t=>{t&&t.tagName!=="BUTTON"&&j(!1)},h=e.useCallback(t=>{if(r){t.stopPropagation(),t.preventDefault();return}D&&t.currentTarget.focus(),C==null||C(t)},[r,D,C]),P=e.useCallback(t=>{g&&x(t)&&(t.preventDefault(),t.stopPropagation(),s(!1),u.remove(document,"keyup",P,!1))},[g,u]),z=e.useCallback(t=>{l==null||l(t),!(r||t.defaultPrevented||t.metaKey)&&(!x(t.nativeEvent)||a||(f&&t.key===" "&&(t.preventDefault(),s(!0)),k&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",P,!1)))},[r,a,l,k,f,u,P]),F=e.useCallback(t=>{n==null||n(t),!(r||t.defaultPrevented||t.metaKey)&&(!x(t.nativeEvent)||a||f&&t.key===" "&&(t.preventDefault(),s(!1),t.currentTarget.click()))},[f,a,r,n]),T=e.useCallback(t=>{t.button===0&&(s(!1),u.remove(document,"mouseup",T,!1))},[u]),G=e.useCallback(t=>{if(t.button===0){if(r){t.stopPropagation(),t.preventDefault();return}a||s(!0),t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",T,!1),c==null||c(t)}},[r,a,c,u,T]),H=e.useCallback(t=>{t.button===0&&(a||s(!1),p==null||p(t))},[p,a]),J=e.useCallback(t=>{if(r){t.preventDefault();return}b&&y()||m==null||m(t)},[r,m,b]),Q=e.useCallback(t=>{g&&(t.preventDefault(),s(!1)),!(b&&y())&&(i==null||i(t))},[g,i,b]);return a?{...A,ref:R(d,I),type:"button","aria-disabled":E?void 0:r,disabled:E,onClick:h,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p}:{...A,ref:R(d,I),"aria-disabled":r?"true":void 0,"data-active":Y(g),role:"button",tabIndex:E?void 0:q,onClick:h,onKeyDown:z,onKeyUp:F,onMouseDown:G,onMouseLeave:Q,onMouseOver:J,onMouseUp:H}};export{_ as u};
