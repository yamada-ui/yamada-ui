import{ap as f,a5 as i,r as o,M as E}from"./iframe-BHpF9Anv.js";const l=(n,c,a,r)=>{const{getDocument:t}=f(),s=i(a);return o.useEffect(()=>{const e=E(n)?n():n??t();if(e)return e.addEventListener(c,s,r),()=>{e.removeEventListener(c,s,r)}},[c,n,r,s,a,t]),()=>{(E(n)?n():n??document)?.removeEventListener(c,s,r)}},v=()=>{const n=o.useRef(new Map),c=n.current,a=o.useCallback((t,s,e,u)=>{n.current.set(e,{el:t,ev:s,options:u}),t.addEventListener(s,e,u)},[]),r=o.useCallback((t,s,e,u)=>{t.removeEventListener(s,e,u),n.current.delete(e)},[]);return o.useEffect(()=>()=>{c.forEach(({el:t,ev:s,options:e},u)=>r(t,s,u,e))},[r,c]),{add:a,remove:r}};export{v as a,l as u};
