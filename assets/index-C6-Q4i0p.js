import{au as f,ag as i,r as a,a1 as E}from"./iframe-Cq3rcaMI.js";const l=(n,c,o,r)=>{const{getDocument:t}=f(),s=i(o);return a.useEffect(()=>{const e=E(n)?n():n??t();if(e)return e.addEventListener(c,s,r),()=>{e.removeEventListener(c,s,r)}},[c,n,r,s,o,t]),()=>{(E(n)?n():n??document)?.removeEventListener(c,s,r)}},v=()=>{const n=a.useRef(new Map),c=n.current,o=a.useCallback((t,s,e,u)=>{n.current.set(e,{el:t,ev:s,options:u}),t.addEventListener(s,e,u)},[]),r=a.useCallback((t,s,e,u)=>{t.removeEventListener(s,e,u),n.current.delete(e)},[]);return a.useEffect(()=>()=>{c.forEach(({el:t,ev:s,options:e},u)=>r(t,s,u,e))},[r,c]),{add:o,remove:r}};export{v as a,l as u};
