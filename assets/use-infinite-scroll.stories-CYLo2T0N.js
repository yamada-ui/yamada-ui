import{r as d,j as n,T as l,Z as c,b2 as u,E as O,V as y,S as H}from"./iframe-C__kp2ks.js";import{u as f}from"./use-infinite-scroll-BjE7dfmd.js";import{H as x}from"./heading-Dbu8pZSv.js";import{C as h,a as L,b as m}from"./card-CWptEOdY.js";import"./preload-helper-PPVm8Dsz.js";const T={title:"Hooks / useInfiniteScroll"},p=()=>{const[o,s]=d.useState(50),{ref:i,finish:a}=f({onLoad:({finish:r,index:e})=>{console.log("onLoad",e),s(t=>t+50),e>=5&&r()}});return n.jsxs(n.Fragment,{children:[Array(o).fill(0).map((r,e)=>n.jsxs(h,{children:[n.jsx(L,{children:n.jsx(x,{size:"md",children:"『ドラゴンボール』（DRAGON BALL）"})}),n.jsx(m,{children:n.jsx(l,{children:"『ドラゴンボール』（DRAGON BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。"})})]},e)),a?null:n.jsx(c,{ref:i,w:"full",children:n.jsx(u,{fontSize:"2xl"})})]})},A=()=>{const o=d.useRef(null),s=d.useRef(O),[i,a]=d.useState(50),{ref:r,finish:e}=f({resetRef:s,rootRef:o,onLoad:({finish:t,index:C})=>{console.log("onLoad",C),a(S=>S+50),C>=5&&t()}});return n.jsxs(n.Fragment,{children:[n.jsxs(y,{ref:o,borderWidth:"1px",maxH:"xl",overflowY:"auto",p:"md",rounded:"l2",children:[Array(i).fill(0).map((t,C)=>n.jsxs(h,{children:[n.jsx(L,{children:n.jsx(x,{size:"md",children:"『ドラゴンボール』（DRAGON BALL）"})}),n.jsx(m,{children:n.jsx(l,{children:"『ドラゴンボール』（DRAGON BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。"})})]},C)),e?null:n.jsx(c,{ref:r,w:"full",children:n.jsx(u,{fontSize:"2xl"})})]}),n.jsx(H,{onClick:()=>s.current(),children:"Reset"})]})},R=()=>{const[o,s]=d.useState(50),{ref:i,finish:a}=f({rootMargin:"300px 0px 0px 0px",onLoad:({finish:r,index:e})=>{console.log("onLoad",e),s(t=>t+50),e>=5&&r()}});return n.jsxs(n.Fragment,{children:[Array(o).fill(0).map((r,e)=>n.jsxs(h,{children:[n.jsx(L,{children:n.jsx(x,{size:"md",children:"『ドラゴンボール』（DRAGON BALL）"})}),n.jsx(m,{children:n.jsx(l,{children:"『ドラゴンボール』（DRAGON BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。"})})]},e)),a?null:n.jsx(c,{ref:i,w:"full",children:n.jsx(u,{fontSize:"2xl"})})]})},j=()=>{const[o,s]=d.useState(50),{ref:i,finish:a}=f({threshold:1,onLoad:({finish:r,index:e})=>{console.log("onLoad",e),s(t=>t+50),e>=5&&r()}});return n.jsxs(n.Fragment,{children:[Array(o).fill(0).map((r,e)=>n.jsxs(h,{children:[n.jsx(L,{children:n.jsx(x,{size:"md",children:"『ドラゴンボール』（DRAGON BALL）"})}),n.jsx(m,{children:n.jsx(l,{children:"『ドラゴンボール』（DRAGON BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。"})})]},e)),a?null:n.jsx(c,{ref:i,w:"full",children:n.jsx(u,{fontSize:"2xl"})})]})},g=()=>{const[o,s]=d.useState(0),{ref:i,finish:a}=f({initialLoad:!0,onLoad:({finish:r,index:e})=>{console.log("onLoad",e),s(t=>t+50),e>=5&&r()}});return n.jsxs(n.Fragment,{children:[Array(o).fill(0).map((r,e)=>n.jsxs(h,{children:[n.jsx(L,{children:n.jsx(x,{size:"md",children:"『ドラゴンボール』（DRAGON BALL）"})}),n.jsx(m,{children:n.jsx(l,{children:"『ドラゴンボール』（DRAGON BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。"})})]},e)),a?null:n.jsx(c,{ref:i,w:"full",children:n.jsx(u,{fontSize:"2xl"})})]})},B=()=>{const[o,s]=d.useState(50),{ref:i,finish:a}=f({reverse:!0,onLoad:({finish:r,index:e})=>{console.log("onLoad",e),s(t=>t+50),e>=5&&r()}});return n.jsxs(n.Fragment,{children:[a?null:n.jsx(c,{ref:i,w:"full",children:n.jsx(u,{fontSize:"2xl"})}),Array(o).fill(0).map((r,e)=>n.jsxs(h,{children:[n.jsx(L,{children:n.jsx(x,{size:"md",children:"『ドラゴンボール』（DRAGON BALL）"})}),n.jsx(m,{children:n.jsx(l,{children:"『ドラゴンボール』（DRAGON BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。"})})]},e))]})};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`() => {
  const [count, setCount] = useState<number>(50);
  const {
    ref,
    finish
  } = useInfiniteScroll({
    onLoad: ({
      finish,
      index
    }) => {
      console.log("onLoad", index);
      setCount(prev => prev + 50);
      if (index >= 5) finish();
    }
  });
  return <>
      {Array(count).fill(0).map((_, index) => <Card.Root key={index}>
            <Card.Header>
              <Heading size="md">『ドラゴンボール』（DRAGON BALL）</Heading>
            </Card.Header>

            <Card.Body>
              <Text>
                『ドラゴンボール』（DRAGON
                BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。
              </Text>
            </Card.Body>
          </Card.Root>)}

      {!finish ? <Center ref={ref} w="full">
          <Loading.Oval fontSize="2xl" />
        </Center> : null}
    </>;
}`,...p.parameters?.docs?.source}}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`() => {
  const rootRef = useRef<HTMLDivElement | null>(null);
  const resetRef = useRef<() => void>(noop);
  const [count, setCount] = useState<number>(50);
  const {
    ref,
    finish
  } = useInfiniteScroll({
    resetRef,
    rootRef,
    onLoad: ({
      finish,
      index
    }) => {
      console.log("onLoad", index);
      setCount(prev => prev + 50);
      if (index >= 5) finish();
    }
  });
  return <>
      <VStack ref={rootRef} borderWidth="1px" maxH="xl" overflowY="auto" p="md" rounded="l2">
        {Array(count).fill(0).map((_, index) => <Card.Root key={index}>
              <Card.Header>
                <Heading size="md">『ドラゴンボール』（DRAGON BALL）</Heading>
              </Card.Header>

              <Card.Body>
                <Text>
                  『ドラゴンボール』（DRAGON
                  BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。
                </Text>
              </Card.Body>
            </Card.Root>)}

        {!finish ? <Center ref={ref} w="full">
            <Loading.Oval fontSize="2xl" />
          </Center> : null}
      </VStack>

      <Button onClick={() => resetRef.current()}>Reset</Button>
    </>;
}`,...A.parameters?.docs?.source}}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`() => {
  const [count, setCount] = useState<number>(50);
  const {
    ref,
    finish
  } = useInfiniteScroll({
    rootMargin: "300px 0px 0px 0px",
    onLoad: ({
      finish,
      index
    }) => {
      console.log("onLoad", index);
      setCount(prev => prev + 50);
      if (index >= 5) finish();
    }
  });
  return <>
      {Array(count).fill(0).map((_, index) => <Card.Root key={index}>
            <Card.Header>
              <Heading size="md">『ドラゴンボール』（DRAGON BALL）</Heading>
            </Card.Header>

            <Card.Body>
              <Text>
                『ドラゴンボール』（DRAGON
                BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。
              </Text>
            </Card.Body>
          </Card.Root>)}

      {!finish ? <Center ref={ref} w="full">
          <Loading.Oval fontSize="2xl" />
        </Center> : null}
    </>;
}`,...R.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`() => {
  const [count, setCount] = useState<number>(50);
  const {
    ref,
    finish
  } = useInfiniteScroll({
    threshold: 1,
    onLoad: ({
      finish,
      index
    }) => {
      console.log("onLoad", index);
      setCount(prev => prev + 50);
      if (index >= 5) finish();
    }
  });
  return <>
      {Array(count).fill(0).map((_, index) => <Card.Root key={index}>
            <Card.Header>
              <Heading size="md">『ドラゴンボール』（DRAGON BALL）</Heading>
            </Card.Header>

            <Card.Body>
              <Text>
                『ドラゴンボール』（DRAGON
                BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。
              </Text>
            </Card.Body>
          </Card.Root>)}

      {!finish ? <Center ref={ref} w="full">
          <Loading.Oval fontSize="2xl" />
        </Center> : null}
    </>;
}`,...j.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`() => {
  const [count, setCount] = useState<number>(0);
  const {
    ref,
    finish
  } = useInfiniteScroll({
    initialLoad: true,
    onLoad: ({
      finish,
      index
    }) => {
      console.log("onLoad", index);
      setCount(prev => prev + 50);
      if (index >= 5) finish();
    }
  });
  return <>
      {Array(count).fill(0).map((_, index) => <Card.Root key={index}>
            <Card.Header>
              <Heading size="md">『ドラゴンボール』（DRAGON BALL）</Heading>
            </Card.Header>

            <Card.Body>
              <Text>
                『ドラゴンボール』（DRAGON
                BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。
              </Text>
            </Card.Body>
          </Card.Root>)}

      {!finish ? <Center ref={ref} w="full">
          <Loading.Oval fontSize="2xl" />
        </Center> : null}
    </>;
}`,...g.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`() => {
  const [count, setCount] = useState<number>(50);
  const {
    ref,
    finish
  } = useInfiniteScroll({
    reverse: true,
    onLoad: ({
      finish,
      index
    }) => {
      console.log("onLoad", index);
      setCount(prev => prev + 50);
      if (index >= 5) finish();
    }
  });
  return <>
      {!finish ? <Center ref={ref} w="full">
          <Loading.Oval fontSize="2xl" />
        </Center> : null}

      {Array(count).fill(0).map((_, index) => <Card.Root key={index}>
            <Card.Header>
              <Heading size="md">『ドラゴンボール』（DRAGON BALL）</Heading>
            </Card.Header>

            <Card.Body>
              <Text>
                『ドラゴンボール』（DRAGON
                BALL）は、鳥山明による日本の漫画作品。『週刊少年ジャンプ』（集英社）にて1984年51号から1995年25号まで連載された。世界中に散らばった七つの球をすべて集めると、どんな願いも一つだけ叶えられるという秘宝・ドラゴンボールと、主人公・孫悟空（そん・ごくう）を中心に展開する、「冒険」「夢」「バトル」「友情」などを描いた長編漫画。
              </Text>
            </Card.Body>
          </Card.Root>)}
    </>;
}`,...B.parameters?.docs?.source}}};const w=["Basic","Root","RootMargin","Threshold","InitialLoad","Reverse"];export{p as Basic,g as InitialLoad,B as Reverse,A as Root,R as RootMargin,j as Threshold,w as __namedExportsOrder,T as default};
