import{c as me,$ as de,aH as $,aI as ge,j as ee,av as Ce,r as m,A as xe,B as ve,E as we,h as P,m as ae,a as oe,e as pe,b as he,d as ye,Q as re}from"./iframe-BHZTlJ0V.js";import{c as ke}from"./index-BHV2F0Os.js";import{u as ze}from"./use-disclosure-ChtgJwpN.js";import{m as f}from"./menu.style-BYOELg0Q.js";import{n as v}from"./native-select.style-DJy9rgpS.js";const ue=t=>typeof t=="object"&&t!=null&&t.nodeType===1,fe=(t,o)=>(!o||t!=="hidden")&&t!=="visible"&&t!=="clip",te=(t,o)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const c=getComputedStyle(t,null);return fe(c.overflowY,o)||fe(c.overflowX,o)||(a=>{const s=(n=>{if(!n.ownerDocument||!n.ownerDocument.defaultView)return null;try{return n.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!s&&(s.clientHeight<a.scrollHeight||s.clientWidth<a.scrollWidth)})(t)}return!1},ne=(t,o,c,a,s,n,i,r)=>n<t&&i>o||n>t&&i<o?0:n<=t&&r<=c||i>=o&&r>=c?n-t-a:i>o&&r<c||n<t&&r>c?i-o+s:0,De=t=>{const o=t.parentElement;return o??(t.getRootNode().host||null)},be=(t,o)=>{var c,a,s,n;if(typeof document>"u")return[];const{scrollMode:i,block:r,inline:h,boundary:w,skipOverflowHiddenElements:E}=o,W=typeof w=="function"?w:e=>e!==w;if(!ue(t))throw new TypeError("Invalid target");const R=document.scrollingElement||document.documentElement,y=[];let p=t;for(;ue(p)&&W(p);){if(p=De(p),p===R){y.push(p);break}p!=null&&p===document.body&&te(p)&&!te(document.documentElement)||p!=null&&te(p,E)&&y.push(p)}const D=(a=(c=window.visualViewport)==null?void 0:c.width)!=null?a:innerWidth,M=(n=(s=window.visualViewport)==null?void 0:s.height)!=null?n:innerHeight,{scrollX:u,scrollY:b}=window,{height:g,width:k,top:C,right:H,bottom:x,left:z}=t.getBoundingClientRect(),{top:V,right:L,bottom:N,left:_}=(e=>{const l=window.getComputedStyle(e);return{top:parseFloat(l.scrollMarginTop)||0,right:parseFloat(l.scrollMarginRight)||0,bottom:parseFloat(l.scrollMarginBottom)||0,left:parseFloat(l.scrollMarginLeft)||0}})(t);let S=r==="start"||r==="nearest"?C-V:r==="end"?x+N:C+g/2-V+N,I=h==="center"?z+k/2-_+L:h==="end"?H+L:z-_;const d=[];for(let e=0;e<y.length;e++){const l=y[e],{height:F,width:j,top:B,right:G,bottom:K,left:U}=l.getBoundingClientRect();if(i==="if-needed"&&C>=0&&z>=0&&x<=M&&H<=D&&(l===R&&!te(l)||C>=B&&x<=K&&z>=U&&H<=G))return d;const X=getComputedStyle(l),Y=parseInt(X.borderLeftWidth,10),O=parseInt(X.borderTopWidth,10),Q=parseInt(X.borderRightWidth,10),q=parseInt(X.borderBottomWidth,10);let A=0,T=0;const J="offsetWidth"in l?l.offsetWidth-l.clientWidth-Y-Q:0,Z="offsetHeight"in l?l.offsetHeight-l.clientHeight-O-q:0,se="offsetWidth"in l?l.offsetWidth===0?0:j/l.offsetWidth:0,le="offsetHeight"in l?l.offsetHeight===0?0:F/l.offsetHeight:0;if(R===l)A=r==="start"?S:r==="end"?S-M:r==="nearest"?ne(b,b+M,M,O,q,b+S,b+S+g,g):S-M/2,T=h==="start"?I:h==="center"?I-D/2:h==="end"?I-D:ne(u,u+D,D,Y,Q,u+I,u+I+k,k),A=Math.max(0,A+b),T=Math.max(0,T+u);else{A=r==="start"?S-B-O:r==="end"?S-K+q+Z:r==="nearest"?ne(B,K,F,O,q+Z,S,S+g,g):S-(B+F/2)+Z/2,T=h==="start"?I-U-Y:h==="center"?I-(U+j/2)+J/2:h==="end"?I-G+Q+J:ne(U,G,j,Y,Q+J,I,I+k,k);const{scrollLeft:ie,scrollTop:ce}=l;A=le===0?0:Math.max(0,Math.min(ce+A/le,l.scrollHeight-F/le+Z)),T=se===0?0:Math.max(0,Math.min(ie+T/se,l.scrollWidth-j/se+J)),S+=ce-A,I+=ie-T}d.push({el:l,top:A,left:T})}return d},Me=t=>t===!1?{block:"end",inline:"nearest"}:(o=>o===Object(o)&&Object.keys(o).length!==0)(t)?t:{block:"start",inline:"nearest"};function Se(t,o){if(!t.isConnected||!(s=>{let n=s;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(t))return;const c=(s=>{const n=window.getComputedStyle(s);return{top:parseFloat(n.scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(o))return o.behavior(be(t,o));const a=typeof o=="boolean"||o==null?void 0:o.behavior;for(const{el:s,top:n,left:i}of be(t,Me(o))){const r=n-c.top+c.bottom,h=i-c.left+c.right;s.scroll({top:r,left:h,behavior:a})}}const Te=(t,{Group:o,Label:c,Option:a})=>de(t).filter(({type:n})=>$(n,a)||$(n,o)).map(({type:n,props:i})=>{if($(n,a))return{...i,label:i.children};{const r=de(i.children),h=ge(r,c);return{...i,items:r.filter(({type:w})=>$(w,a)).map(({props:w})=>({...w,label:w.children})),label:h?.props.children??i.label}}}),je=(t,{Empty:o,Group:c,Option:a})=>t.map((s,n)=>{if("data-empty"in s&&o){const{label:i,...r}=s;return ee.jsx(o,{...r,children:i},n)}else if("items"in s){const{items:i=[],label:r,...h}=s;return ee.jsx(c,{label:r,...h,children:i.map(({label:w,...E},W)=>ee.jsx(a,{...E,children:w},W))},n)}else{const{label:i,...r}=s;return ee.jsx(a,{...r,children:i},n)}}),{DescendantsContext:Be,useDescendant:Ie,useDescendants:We}=ke(),[Ke,Ve]=me({name:"ComboboxContext"}),[Le,Ne]=me({name:"ComboboxGroupContext"}),Ge=({"aria-labelledby":t,closeOnSelect:o=!0,defaultOpen:c,disabled:a,initialFocusValue:s,open:n,openOnClick:i=!0,readOnly:r,onChange:h,onClose:w,onOpen:E,...W}={})=>{const{getWindow:R}=Ce(),y=!(r||a),p=m.useRef(null),D=m.useRef(null),M=m.useId(),u=We(),{open:b,onClose:g,onOpen:k}=ze({defaultOpen:c,open:n,onClose:w,onOpen:E}),C=m.useRef(null),H=m.useCallback((d,e=o)=>{p.current?.focus(),!(!y||xe(d))&&(h?.(d),e&&g())},[o,y,h,g]),x=m.useCallback((d,e="start")=>{if(!D.current||!d)return;const l=R()?.getComputedStyle(D.current),F=e==="start"?l?.paddingBlockStart:l?.paddingBlockEnd,j=parseInt(F??"0px");Se(d.node,{behavior:B=>B.forEach(({el:G,top:K})=>{G.scrollTop=e==="start"?K-j:K+j}),block:e,boundary:D.current,inline:"nearest",scrollMode:"if-needed"})},[R]),z=m.useCallback(d=>{!p.current||!d||a||(p.current.setAttribute("aria-activedescendant",d.id),C.current=d,u.active(d))},[u,a]),V=m.useCallback(d=>{k(),setTimeout(()=>{const l=u.values().find(({value:F})=>s===F);z(l??d())})},[u,s,z,k]),L=m.useCallback(d=>{a||(d.preventDefault(),b?g():i&&V(()=>u.enabledFirstValue()))},[u,a,g,V,b,i]),N=m.useCallback(d=>{a||d.nativeEvent.isComposing||ve(d,{ArrowDown:()=>{if(!b)V(()=>{const e=u.enabledFirstValue();return x(e),e});else if(C.current){const e=u.enabledNextValue(C.current);z(e),x(e,e?.recurred?"start":"end")}else{const e=u.enabledFirstValue();z(e),x(e)}},ArrowUp:()=>{if(!b)V(()=>{const e=u.enabledLastValue();return x(e,"end"),e});else if(C.current){const e=u.enabledPrevValue(C.current);z(e),x(e,e?.recurred?"end":"start")}else{const e=u.enabledLastValue();z(e),x(e,"end")}},End:()=>{if(!b)return;const e=u.enabledLastValue();z(e),x(e,"end")},Enter:()=>{if(!b)V(()=>{const e=u.enabledFirstValue();return x(e),e});else{if(!C.current)return;const{closeOnSelect:e,value:l}=C.current;H(l,e)}},Home:()=>{if(!b)return;const e=u.enabledFirstValue();z(e),x(e)},Space:()=>{if(!b)V(()=>{const e=u.enabledFirstValue();return x(e),e});else{if(!C.current)return;const{closeOnSelect:e,value:l}=C.current;H(l,e)}}})},[a,b,V,u,x,z,H]);we(()=>{b||(C.current=null)},[b]);const _=m.useCallback(({ref:d,"aria-labelledby":e,...l}={})=>({"aria-controls":b?M:void 0,"aria-disabled":he(!y),"aria-expanded":b,"aria-haspopup":"listbox","aria-labelledby":pe(e,t),"data-disabled":oe(a),"data-readonly":oe(r),role:"combobox",tabIndex:y?0:-1,...W,...l,ref:ae(d,W.ref,p),onClick:P(l.onClick,W.onClick,L),onKeyDown:P(l.onKeyDown,W.onKeyDown,N)}),[M,y,b,t,a,r,W,L,N]),S=m.useCallback(({ref:d,...e}={})=>({id:M,role:"listbox",...e,ref:ae(d,D),onKeyDown:P(e.onKeyDown)}),[M]),I=m.useCallback(d=>({role:"separator",...d}),[]);return{activeDescendant:C,descendants:u,interactive:y,open:b,getContentProps:S,getSeparatorProps:I,getTriggerProps:_,onActiveDescendant:z,onClose:g,onOpen:k,onScrollIntoView:x,onSelect:H}},Pe=({"aria-labelledby":t,...o}={})=>{const c=m.useId(),a=m.useCallback(({"aria-labelledby":n,...i}={})=>({"aria-labelledby":pe(t,n,c),role:"group",...o,...i}),[t,c,o]),s=m.useCallback(n=>({id:c,role:"presentation",...n}),[c]);return{getGroupProps:a,getLabelProps:s}},_e=({id:t,"aria-disabled":o,"data-disabled":c,closeOnSelect:a,disabled:s=!1,selected:n=!1,value:i,...r}={})=>{const h=m.useId(),w=m.useRef(null),{onActiveDescendant:E,onClose:W,onSelect:R}=Ve();t??=h;const{descendants:y,register:p}=Ie({id:t,closeOnSelect:a,disabled:s,value:i}),D=m.useCallback(()=>{if(s)return;const g=y.value(w.current);E(g)},[y,s,E]),M=m.useCallback(g=>{g.preventDefault(),!s&&R(i,a)},[a,s,R,i]),u=m.useCallback(({ref:g,...k}={})=>({id:t,"aria-disabled":o??he(s),"aria-selected":n,"data-disabled":c??oe(s),"data-selected":oe(n),"data-value":i,role:"option",tabIndex:-1,...r,...k,ref:ae(g,r.ref,w,p),onClick:P(k.onClick,r.onClick,M),onMouseMove:P(k.onMouseMove,r.onMouseMove,D)}),[t,o,s,n,c,i,r,p,M,D]),b=m.useCallback(({style:g,...k}={})=>({style:{opacity:n?1:0,...g},...k}),[n]);return{descendants:y,disabled:s,selected:n,getIndicatorProps:b,getItemProps:u,onActiveDescendant:E,onClose:W}},Ue=ye({base:{...v.base,content:{...f.base?.content,maxH:"xs"},field:{...v.base?.field,alignItems:"center",display:"flex"},group:f.base?.group,indicator:f.base?.indicator,label:f.base?.label,option:f.base?.item,separator:f.base?.separator,valueText:{truncated:!0,userSelect:"none"}},variants:{filled:{...v.variants?.filled,field:{...v.variants?.filled.field,_expanded:re.inside}},flushed:{...v.variants?.flushed,field:{...v.variants?.flushed.field,_expanded:v.variants?.flushed.field?._focusVisible}},outline:{...v.variants?.outline,field:{...v.variants?.outline.field,_expanded:re.inside}},plain:{...v.variants?.plain,field:{...v.variants?.plain.field,_expanded:re.inside}}},sizes:{xs:{...v.sizes?.xs,content:f.sizes?.sm.content,indicator:f.sizes?.sm.indicator,label:f.sizes?.sm.label,option:f.sizes?.sm.item},sm:{...v.sizes?.sm,content:f.sizes?.md.content,indicator:f.sizes?.md.indicator,label:f.sizes?.md.label,option:f.sizes?.md.item},md:{...v.sizes?.md,content:f.sizes?.md.content,indicator:f.sizes?.md.indicator,label:f.sizes?.md.label,option:f.sizes?.md.item},lg:{...v.sizes?.lg,content:f.sizes?.lg.content,indicator:f.sizes?.lg.indicator,label:f.sizes?.lg.label,option:f.sizes?.lg.item},xl:{...v.sizes?.xl,content:f.sizes?.lg.content,indicator:f.sizes?.lg.indicator,label:f.sizes?.lg.label,option:f.sizes?.lg.item}},defaultProps:{size:"md",variant:"outline"}});export{Be as C,_e as a,je as b,Te as c,Ke as d,Pe as e,Le as f,Ne as g,Ue as s,Ge as u};
