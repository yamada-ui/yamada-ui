import{j as t}from"./jsx-runtime-BpbtHYHY.js";import{r as j}from"./index-BwPxMuoB.js";import{f as C}from"./forward-ref-Ukjd1cIW.js";import{a as es}from"./use-component-style-CpB_lyT3.js";import{o as as}from"./theme-provider-ChqdwXGn.js";import{g as rs,C as L,B as A,b as h,d as _,c as x,h as V,E as M}from"./factory-DbNU74ts.js";const[is,g]=A({name:"FormControlContext",strict:!1}),[ls,N]=A({name:"FormControlStyleContext",strict:!1}),D=C(({id:r,...a},i)=>{const[l,n]=es("FormControl",a),d=j.useId(),c=j.useId(),{className:o,children:u,isDisabled:p=!1,disabled:e=p,errorMessage:m,helperMessage:s,isInvalid:y=!1,invalid:f=y,isReadOnly:b=!1,isReplace:v=!0,isRequired:P=!1,label:F,optionalIndicator:w,readOnly:O=b,replace:k=v,required:T=P,requiredIndicator:z,errorMessageProps:G,helperMessageProps:J,labelProps:K,...Q}=as(n),[B,S]=j.useState(!1),H=rs(u),U=L(H,q),W=L(H,R),X=L(H,E),Y=!!U,Z=!!W,$=!!X,ss={...l.container};return r??(r=d),t.jsx(is,{value:{id:r,disabled:e,focused:B,invalid:f,labelId:c,readOnly:O,replace:k,required:T,onBlur:()=>S(!1),onFocus:()=>S(!0)},children:t.jsx(ls,{value:l,children:t.jsxs(h.div,{ref:i,className:x("ui-form__control",o),"data-disabled":_(e),"data-focus":_(B),"data-invalid":_(f),"data-readonly":_(O),__css:ss,...Q,children:[!Y&&F?t.jsx(q,{optionalIndicator:w,requiredIndicator:z,...K,children:F}):null,u,!Z&&s?t.jsx(R,{...J,children:s}):null,!$&&m?t.jsx(E,{...G,children:m}):null]})})})});D.displayName="FormControl";D.__ui__="FormControl";const ms=({id:r,disabled:a,invalid:i,isDisabled:l,isInvalid:n,isReadOnly:d,isRequired:c,readOnly:o,required:u,...p})=>{const e=g(),m=r??(e==null?void 0:e.id),s=e==null?void 0:e.labelId,y=a??l??(e==null?void 0:e.disabled),f=o??d??(e==null?void 0:e.readOnly),b=u??c??(e==null?void 0:e.required),v=i??n??(e==null?void 0:e.invalid);return{id:m,disabled:y,invalid:v,isDisabled:y,isInvalid:v,isReadOnly:f,isRequired:b,labelId:s,readOnly:f,required:b,...p}},_s=({id:r,disabled:a,invalid:i,isDisabled:l,isInvalid:n,isReadOnly:d,isRequired:c,readOnly:o,required:u,onBlur:p,onFocus:e,...m})=>{const s=g();return a??(a=l??(s==null?void 0:s.disabled)),u??(u=c??(s==null?void 0:s.required)),o??(o=d??(s==null?void 0:s.readOnly)),i??(i=n??(s==null?void 0:s.invalid)),{id:r??(s==null?void 0:s.id),"aria-disabled":M(a),"aria-invalid":M(i),"aria-readonly":M(o),"aria-required":M(u),"data-readonly":_(o),disabled:a,readOnly:o,required:u,onBlur:V(s==null?void 0:s.onBlur,p),onFocus:V(s==null?void 0:s.onFocus,e),...a||o?{_active:{},_focus:{},_focusVisible:{},_hover:{},_invalid:{}}:{},...m}},ps=["disabled","required","readOnly","aria-disabled","aria-readonly","aria-required","aria-invalid","data-readonly","onFocus","onBlur","_hover","_active","_focus","_invalid","_focusVisible"],q=C(({id:r,htmlFor:a,className:i,children:l,isRequired:n,optionalIndicator:d=null,required:c=n,requiredIndicator:o=null,...u},p)=>{const{id:e,disabled:m,focused:s,invalid:y,labelId:f,readOnly:b,required:v}=g()??{},P=N()??{},F={display:"block",pointerEvents:b?"none":void 0,...P.label};return r??(r=f),c??(c=v),t.jsxs(h.label,{id:r,ref:p,htmlFor:a??e,className:x("ui-form__label",i),style:{cursor:m?"not-allowed":void 0},"data-disabled":_(m),"data-focus":_(s),"data-invalid":_(y),"data-readonly":_(b),__css:F,...u,children:[l,c?o?t.jsx(I,{children:o}):t.jsx(I,{}):d]})});q.displayName="Label";q.__ui__="Label";const I=C(({className:r,children:a,...i},l)=>{const d={...(N()??{}).requiredIndicator};return j.isValidElement(a)?a:t.jsx(h.span,{ref:l,className:x("ui-form__required-indicator",r),"aria-hidden":!0,role:"presentation",__css:d,...i,children:a??t.jsx(t.Fragment,{children:"*"})})});I.displayName="RequiredIndicator";I.__ui__="RequiredIndicator";const R=C(({className:r,...a},i)=>{const{id:l,invalid:n,replace:d}=g()??{},o={...(N()??{}).helperMessage};return d&&n?null:t.jsx(h.span,{ref:i,className:x("ui-form__helper-message",r),"aria-describedby":l,__css:o,...a})});R.displayName="HelperMessage";R.__ui__="HelperMessage";const E=C(({className:r,...a},i)=>{const{invalid:l}=g()??{},d={...(N()??{}).errorMessage};return l?t.jsx(h.span,{ref:i,className:x("ui-form__error-message",r),"aria-live":"polite",__css:d,...a}):null});E.displayName="ErrorMessage";E.__ui__="ErrorMessage";export{E,is as F,R as H,q as L,I as R,ls as a,g as b,N as c,D as d,ms as e,ps as f,_s as u};
