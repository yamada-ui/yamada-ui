import{l as fe,I as ge,d as xe,c as Y,r as o,v as B,M as q,a as H,h as R,m as J,e as Ce,a9 as $,N as be,b as Me,k as re,i as ae,O as he,f as ke,j as a,$ as X,s as z}from"./iframe-B58gGoPv.js";import{u as Se}from"./index-Dp97PSmK.js";import{c as ye}from"./index-D8kKFeuy.js";import{u as ve}from"./use-disclosure-Dxo68XmE.js";import{c as Pe}from"./createLucideIcon-BaHwRC9x.js";import{C as je}from"./check-icon-CLGb7s0f.js";import{P as De,a as Re,b as we,c as Ae}from"./popover-CCdOknUO.js";import{C as Ie}from"./chevron-right-icon-BOZT1Ogx.js";/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],Te=Pe("circle-small",Oe),Ee=fe(ge)({as:Te}),Fe=xe({base:{command:{textStyle:"mono",color:"fg.muted",ms:"auto"},content:{gap:"0",p:"1"},group:{},indicator:{},item:{alignItems:"center",cursor:"pointer",display:"flex",focusVisibleRing:"none",userSelect:"none",_activedescendant:{bg:["bg.subtle","bg.muted"]},_disabled:{layerStyle:"disabled"}},label:{fontWeight:"medium"},separator:{"& + hr":{display:"none"},"&:last-child, &:first-child":{display:"none"},borderBottomWidth:"1px",mx:"-1",my:"1"}},sizes:{sm:{command:{fontSize:"2xs"},content:{fontSize:"xs",minW:"3xs"},indicator:{fontSize:"sm"},item:{gap:"1.5",px:"1.5",py:"1",rounded:"l1"},label:{px:"1.5",py:"1"}},md:{command:{fontSize:"xs"},content:{fontSize:"sm",minW:"2xs"},indicator:{fontSize:"md"},item:{gap:"2",px:"2",py:"1.5",rounded:"l2"},label:{px:"2",py:"1.5"}}},defaultProps:{size:"md"}}),{DescendantsContext:Ve,useDescendant:Ge,useDescendantRegister:Ke,useDescendants:ze}=ye(),[Le,ce]=Y({name:"MenuContext"}),[Ue,ue]=Y({name:"MainMenuContext",strict:!1}),[We,Ne]=Y({name:"MenuOptionGroupContext"}),_e=({closeOnSelect:n,defaultOpen:s,disabled:e=!1,open:b,subMenuDirection:d="end",onClose:m,onOpen:C,onSelect:c}={})=>{const p=o.useId(),t=ze(),g=o.useRef(B),k=o.useRef(B),S=o.useRef(null),{open:u,onClose:h,onOpen:f}=ve({defaultOpen:s,open:b,onClose:m,onOpen:C}),i=o.useCallback(x=>{!S.current||!x||e||(S.current.setAttribute("aria-activedescendant",x.id),t.focus(x.node))},[t,e]),{mainCloseOnSelect:y,subMenu:M,getSubMenuProps:D,onMainSelect:A}=Be({id:p,descendants:t,disabled:e,open:u,subMenuDirection:d,onActiveDescendant:i,onClose:h,onOpen:f});n??=y??!0;const I=o.useCallback((x,j=n)=>{e||(c?.(x),A?.(x,j),j&&h())},[n,e,h,A,c]),O=o.useCallback(x=>{e||(x.preventDefault(),u?h():f())},[e,h,f,u]),l=o.useCallback(x=>{e||(x.preventDefault(),f(),g.current())},[e,f]),r=o.useCallback(x=>{e||q(x,{ArrowDown:()=>{f(),setTimeout(()=>{const j=t.enabledFirstValue();i(j)})},ArrowUp:()=>{f(),setTimeout(()=>{const j=t.enabledLastValue();i(j)})},Enter:()=>{f(),setTimeout(()=>{const j=t.enabledFirstValue();i(j)})},Space:()=>{f(),setTimeout(()=>{const j=t.enabledFirstValue();i(j)})}})},[t,e,i,f]),v=o.useCallback((x={})=>({id:p,"aria-haspopup":"menu","data-trigger":H(!0),...D({...x,onClick:R(x.onClick,O),onKeyDown:R(x.onKeyDown,r)})}),[D,O,r,p]),P=o.useCallback((x={})=>({id:p,"aria-haspopup":"menu","data-trigger":H(!0),role:"application",...x,onContextMenu:R(x.onContextMenu,l)}),[l,p]),T=o.useCallback(({ref:x,"aria-labelledby":j,...L}={})=>({"aria-labelledby":Ce(j,p),role:"menu",...L,ref:J(x,S)}),[p]),E=o.useCallback(x=>({role:"group",...x}),[]),G=o.useCallback(x=>({role:"separator",...x}),[]);return{closeOnSelect:n,descendants:t,open:u,subMenu:M,subMenuDirection:d,updateRef:g,getContentProps:T,getContextTriggerProps:P,getGroupProps:E,getSeparatorProps:G,getTriggerProps:v,onActiveDescendant:i,onClose:h,onCloseRef:k,onOpen:f,onSelect:I}},Be=({id:n,descendants:s,disabled:e=!1,open:b,subMenuDirection:d="end",onActiveDescendant:m,onClose:C,onOpen:c})=>{const{closeOnSelect:p,descendants:t,onActiveDescendant:g,onCloseRef:k,onSelect:S}=ue()??{},u=!!t&&!!g,h=Ke(t),f=o.useRef(null),i=o.useCallback(l=>(l??=f.current,l?$(l.getAttribute("data-disabled")):!1),[]),y=o.useCallback(l=>(l??=f.current,l?$(l.getAttribute("aria-disabled")):!1),[]),M=o.useCallback(l=>{u&&(l.defaultPrevented=e||i()||y())},[y,i,e,u]),D=o.useCallback(()=>{!u||e||i()||y()||c()},[y,i,e,c,u]),A=o.useCallback(l=>{if(!u||e||i()||y())return;const r=s.indexOf(f.current),v=s.value(r);g(v),l.defaultPrevented=!0},[y,i,s,e,g,u]),I=o.useCallback(l=>{if(!u||e)return;const r=b?s:t,v=b?m:g;q(l,{ArrowDown:()=>{const P=r.indexOf(f.current),T=r.enabledNextValue(P);v(T),l.defaultPrevented=!0},ArrowUp:()=>{const P=r.indexOf(f.current),T=r.enabledPrevValue(P);v(T),l.defaultPrevented=!0},End:()=>{const P=r.enabledLastValue();v(P),l.defaultPrevented=!0},Home:()=>{const P=r.enabledFirstValue();v(P),l.defaultPrevented=!0},[d==="end"?"ArrowRight":"ArrowLeft"]:()=>{c(),setTimeout(()=>{const P=s.enabledFirstValue();m(P)}),l.defaultPrevented=!0}})},[u,e,b,s,t,m,g,d,c]);be(k,C);const O=o.useCallback(({ref:l,...r}={})=>({role:u?"menuitem":"button",...r,ref:J(l,f,h({id:n,disabled:v=>e||i(v)||y(v)})),onClick:R(M,r.onClick),onKeyDown:R(I,r.onKeyDown),onMouseEnter:R(D,r.onMouseEnter),onMouseMove:R(A,r.onMouseMove)}),[u,h,n,M,I,D,A,e,i,y]);return{mainCloseOnSelect:p,subMenu:u,getSubMenuProps:O,onMainSelect:S}},le=({id:n,"aria-disabled":s,"data-disabled":e,"data-trigger":b,closeOnSelect:d,disabled:m=!1,value:C,...c})=>{const p=$(b),{subMenu:t,subMenuDirection:g,onActiveDescendant:k,onClose:S,onSelect:u}=ce(),{onCloseRef:h}=ue()??{},f=o.useId(),i=o.useRef(null),y=t&&p;n??=f;const{descendants:M,register:D}=Ge({id:n,disabled:m||y}),A=o.useCallback(()=>{if(m)return;const l=M.indexOf(i.current),r=M.value(l);k(r)},[M,m,k]),I=o.useCallback(l=>{q(l,{ArrowDown:()=>{const r=M.indexOf(i.current),v=M.enabledNextValue(r);k(v)},ArrowUp:()=>{const r=M.indexOf(i.current),v=M.enabledPrevValue(r);k(v)},End:()=>{const r=M.enabledLastValue();k(r)},Enter:()=>u(C,d),Home:()=>{const r=M.enabledFirstValue();k(r)},Space:()=>u(C,d),[g==="end"?"ArrowLeft":"ArrowRight"]:()=>{if(!t)return;S(),M.firstValue()?.node.focus()}})},[d,M,k,S,u,t,g,C]),O=o.useCallback(({ref:l,...r}={})=>({id:n,"aria-disabled":s??Me(m),"data-disabled":e??H(m),role:"menuitem",tabIndex:-1,...c,...r,ref:J(l,c.ref,i,D),onClick:R(r.onClick,c.onClick,()=>u(C,d)),onFocus:R(r.onFocus,c.onFocus,A),onKeyDown:R(r.onKeyDown,c.onKeyDown,I),onMouseMove:R(r.onMouseMove,c.onMouseMove,()=>{h?.current(),A()})}),[n,s,m,e,c,D,A,I,u,C,d,h]);return{subMenuTrigger:y,getItemProps:O}},He=({type:n="checkbox",defaultValue:s=n==="checkbox"?[]:"",value:e,onChange:b})=>{const[d,m]=Se({defaultValue:s,value:e,onChange:b}),C=n==="radio",c=o.useCallback(p=>{m(t=>C&&re(t)?p:!C&&ae(t)?t.includes(p)?t.filter(g=>g!==p):t.concat(p):t)},[C,m]);return he(()=>{m(e)},[e]),{type:n,value:d,onChange:c}},$e=({disabled:n,value:s,...e})=>{const{type:b,value:d,onChange:m}=Ne(),{getItemProps:C}=le({disabled:n,value:s,...e}),c=b==="radio"&&re(d),p=b==="checkbox"&&ae(d),t=c?s===d:p?d.includes(s):!1,g=o.useCallback(({style:S,...u}={})=>({style:{opacity:t?1:0,...S},role:"presentation",...u}),[t]),k=o.useCallback((S={})=>C({role:c?"menuitemradio":"menuitemcheckbox",...S,onClick:R(S.onClick,()=>n?B:m?.(s))}),[n,C,m,c,s]);return{type:b,selected:t,getIndicatorProps:g,getOptionItemProps:k}},{ComponentContext:Xe,StyleContext:Ye,useComponentContext:V,withContext:w,useRootComponentProps:qe}=ke("menu",Fe),ct=n=>{const[s,{animationScheme:e,autoUpdate:b,blockScrollOnMount:d,children:m,closeOnBlur:C,closeOnEsc:c,closeOnScroll:p,disabled:t,duration:g,elements:k,flip:S,gutter:u,initialFocusRef:h,matchWidth:f,middleware:i,offset:y,placement:M,platform:D,preventOverflow:A,strategy:I,transform:O,whileElementsMounted:l,...r}]=qe(n),{closeOnSelect:v,descendants:P,open:T,subMenu:E,subMenuDirection:G,updateRef:x,getContentProps:j,getContextTriggerProps:L,getGroupProps:Q,getSeparatorProps:Z,getTriggerProps:ee,onActiveDescendant:U,onClose:K,onCloseRef:te,onOpen:N,onSelect:W}=_e({disabled:t,...r}),de=o.useMemo(()=>({subMenu:E,subMenuDirection:G,onActiveDescendant:U,onClose:K,onOpen:N,onSelect:W}),[K,N,W,U,E,G]),me=o.useMemo(()=>({closeOnSelect:v,descendants:P,onActiveDescendant:U,onClose:K,onCloseRef:te,onSelect:W}),[v,P,U,K,te,W]),pe=o.useMemo(()=>({getContentProps:j,getContextTriggerProps:L,getGroupProps:Q,getSeparatorProps:Z,getTriggerProps:ee}),[j,Q,L,Z,ee]);return a.jsx(Ye,{value:s,children:a.jsx(Ve,{value:P,children:a.jsx(Le,{value:de,children:a.jsx(Ue,{value:me,children:a.jsx(Xe,{value:pe,children:a.jsx(De,{animationScheme:e??(E?"inline-start":"block-start"),autoFocus:!!h,autoUpdate:b,blockScrollOnMount:d,closeOnBlur:C,closeOnEsc:c,closeOnScroll:p,disabled:t,duration:g,elements:k,flip:S,gutter:u,initialFocusRef:h,matchWidth:f,middleware:i,offset:y??(E?[0,0]:void 0),open:T,placement:M??(E?`center-${G}`:"end-start"),platform:D,preventOverflow:A,strategy:I,transform:O,updateRef:x,whileElementsMounted:l,onClose:K,onOpen:N,children:m})})})})})})},ut=w(Re,"trigger")(void 0,n=>{const{getTriggerProps:s}=V();return X(s(X(n)))}),lt=w(({children:n,onContextMenu:s,...e})=>{const[b,d]=o.useState({left:0,top:0}),{getContextTriggerProps:m}=V();return a.jsxs(a.Fragment,{children:[a.jsx(Je,{children:a.jsx(z.div,{style:{position:"absolute",...b}})}),a.jsx(z.div,{asChild:!0,...m({onContextMenu:R(s,C=>{d({left:C.pageX,top:C.pageY})}),...e}),children:n})]})},"contextTrigger")(),Je=w(Ae,"anchor")(),it=w(we,"content")(void 0,({children:n,items:s=[],portalProps:e,...b})=>{const{subMenu:d}=ce(),{getContentProps:m}=V(),C=o.useMemo(()=>n||s.map((c,p)=>{if("type"in c)if(c.type==="radio"){const{type:t,hasSeparator:g=!0,hasEndSeparator:k=g,hasStartSeparator:S=g,items:u=[],label:h,labelProps:f,...i}=c;return a.jsxs(o.Fragment,{children:[S?a.jsx(F,{}):null,h?a.jsx(_,{...f,children:h}):null,a.jsx(ne,{type:t,...i,children:u.map(({label:y,...M},D)=>a.jsx(se,{...M,children:y},D))}),k?a.jsx(F,{}):null]},p)}else if(c.type==="checkbox"){const{type:t,hasSeparator:g=!0,hasEndSeparator:k=g,hasStartSeparator:S=g,items:u=[],label:h,labelProps:f,...i}=c;return a.jsxs(o.Fragment,{children:[S?a.jsx(F,{}):null,h?a.jsx(_,{...f,children:h}):null,a.jsx(ne,{type:t,...i,children:u.map(({label:y,...M},D)=>a.jsx(se,{...M,children:y},D))}),k?a.jsx(F,{}):null]},p)}else return a.jsx(F,{},p);else if("items"in c){const{hasSeparator:t=!0,hasEndSeparator:g=t,hasStartSeparator:k=t,items:S=[],label:u,labelProps:h,...f}=c;return a.jsxs(o.Fragment,{children:[k?a.jsx(F,{}):null,u?a.jsx(_,{...h,children:u}):null,a.jsx(Qe,{...f,children:S.map(({label:i,...y},M)=>a.jsx(oe,{...y,children:i},M))}),g?a.jsx(F,{}):null]},p)}else if("value"in c){const{label:t,...g}=c;return a.jsx(oe,{...g,children:t},p)}}),[n,s]);return{...m(X({...b,children:C})),portalProps:d?{...e,disabled:!0}:e}}),_=w("span","label")({role:"presentation"}),Qe=w("div","group")(void 0,n=>{const{getGroupProps:s}=V();return s(n)}),ne=w(({type:n,defaultValue:s,value:e,onChange:b,...d})=>{const{type:m,value:C,onChange:c}=He({type:n,defaultValue:s,value:e,onChange:b}),{getGroupProps:p}=V(),t=o.useMemo(()=>({type:m,value:C,onChange:c}),[m,C,c]);return a.jsx(We,{value:t,children:a.jsx(z.div,{...p(d)})})},{name:"optionGroup",slot:["group","option"]})(),oe=w(({children:n,...s})=>{const{subMenuTrigger:e,getItemProps:b}=le(s);return a.jsxs(z.div,{...b(),children:[n,e?a.jsx(ie,{as:Ie,ms:"auto"}):null]})},"item")(),se=w(({children:n,...s})=>{const{type:e,getIndicatorProps:b,getOptionItemProps:d}=$e(s);return a.jsxs(z.div,{...d(),children:[a.jsx(ie,{as:e==="radio"?Ee:je,...b()}),n]})},{name:"optionItem",slot:["item","option"]})(),ie=w("svg","indicator")(),dt=w("kbd","command")(),F=w("hr","separator")(void 0,n=>{const{getSeparatorProps:s}=V();return s(n)});export{ct as M,ut as a,it as b,oe as c,F as d,_ as e,Qe as f,ne as g,se as h,ie as i,dt as j,Je as k,lt as l};
