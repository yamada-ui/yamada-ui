import{j as g}from"./jsx-runtime-BpbtHYHY.js";import{r as p}from"./index-BwPxMuoB.js";import{M as m,t as I,a as M}from"./utils-BynqOrQy.js";import{A as T}from"./index-buBh1kfV.js";import{m as v}from"./forward-ref-Cy2nAbAn.js";import{u as R}from"./use-component-style-CpB_lyT3.js";import{o as w}from"./theme-provider-ChqdwXGn.js";import{l as E,c as F}from"./factory-DbNU74ts.js";import{m as D}from"./factory-DGyI5Ya3.js";const G=s=>s!=null&&parseFloat(s.toString())>0,b={enter:({animationOpacity:s,delay:i,duration:r,endingHeight:n,enter:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:1}:{},height:n,transition:M(e==null?void 0:e.enter)(i,r),transitionEnd:t==null?void 0:t.enter,...o}),exit:({animationOpacity:s,delay:i,duration:r,exit:n,startingHeight:o,transition:e,transitionEnd:t}={})=>({...s?{opacity:G(o)?1:0}:{},height:o,transition:I(e==null?void 0:e.exit)(i,r),transitionEnd:t==null?void 0:t.exit,...n})},k={animate:"enter",exit:"exit",initial:"exit",variants:b},y=v((s,i)=>{const[r,n]=R("Collapse",s),{className:o,animationOpacity:e,delay:t,duration:a,endingHeight:_,isOpen:h,open:u=h,startingHeight:N,transition:l,transitionEnd:O,unmountOnExit:c,__css:C,...f}=w(n),[x,S]=p.useState(!1),P=u||c?"enter":"exit",j=c?u:!0,A=p.useMemo(()=>x?l||{enter:{height:{duration:a??.3,ease:m.ease},opacity:{duration:a??.4,ease:m.ease}},exit:{height:{duration:a??.3,ease:m.ease},opacity:{duration:a??.4,ease:m.ease}}}:{enter:{duration:0}},[x,a,l]),d={animationOpacity:e,delay:t,duration:a,endingHeight:_,startingHeight:N,transition:A,transitionEnd:O},H={...r,...C};return p.useEffect(()=>{E()&&S(!0)},[]),g.jsx(T,{custom:d,initial:!1,children:j?g.jsx(D.div,{ref:i,className:F("ui-collapse",o),...f,...k,style:{overflow:"hidden",...f.style},animate:P,custom:d,initial:c?"exit":!1,__css:H}):null})});y.displayName="Collapse";y.__ui__="Collapse";export{y as C};
