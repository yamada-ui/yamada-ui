import{d as St,ar as Ct,a6 as J,r as l,an as yt,h as dt,m as mt,G as wt,i as it,M as Pt,ay as Mt,a as H,e as Et,Q as pt,f as _t,j as p,s as Z,D as E}from"./iframe-DiGnZRjA.js";import{u as jt}from"./index-DEMdQNgc.js";import{u as Rt}from"./index-CGoP7FpN.js";import{i as It,g as N,b as X}from"./event-BKCuwiMt.js";import{u as Tt}from"./use-field-props-L_63C1ib.js";import{v as Y,r as lt,p as At,c as ct}from"./number-CcP_arM8.js";const Vt=St({base:{mark:{"&[data-indicator]":{_before:{bg:"{indicator-fill}",boxSize:"{track-size}",position:"absolute",rounded:"{indicator-rounded}"},_between:{"--indicator-fill":"colorScheme.contrast"}},color:"fg.muted",fontSize:"xs",pointerEvents:"none",position:"absolute",textAlign:"center",whiteSpace:"nowrap",zIndex:1},range:{bg:"{range-fill}",position:"absolute",rounded:"{track-rounded}"},root:{"--indicator-rounded":"radii.full","--track-rounded":"radii.full",alignItems:"center",display:"inline-flex",isolation:"isolate",position:"relative",touchAction:"none",_readOnly:{layerStyle:"readOnly"},_disabled:{layerStyle:"disabled"}},thumb:{alignItems:"center",bg:"{thumb-fill}",borderColor:"{thumb-stroke}",borderWidth:"2px",boxSize:"{thumb-size}",color:"{thumb-stroke}",display:"flex",justifyContent:"center",position:"absolute",rounded:"{thumb-rounded}",zIndex:2},track:{bg:"{track-fill}",cursor:{base:"pointer",_readOnly:"default",_disabled:"not-allowed"},flex:"1",position:"relative",rounded:"{track-rounded}"}},props:{orientation:{horizontal:{mark:{left:"{mark-position}",pt:"calc({track-size} + {spaces.2})",top:"0",translate:"-50% 0",_before:{left:"50%",top:"0",translate:"-50% 0"}},range:{h:"full",left:"{range-start}",top:"50%",translate:"0 -50%",w:"calc({range-end} - {range-start} + ({track-size} / 2))",_range:{left:"calc({range-start} - ({track-size} / 2))",w:"calc({range-end} - {range-start} + {track-size})"}},root:{flexDirection:"row",minW:"{thumb-size}",w:"full"},thumb:{top:"50%",translate:"-50% -50%",_end:{left:"{range-end}"},_start:{left:"{range-start}"}},track:{h:"{track-size}"}},vertical:{mark:{bottom:"{mark-position}",left:"0",lineHeight:"2",ps:"calc({track-size} + {spaces.3})",translate:"0 50%",_before:{left:"0",top:"50%",translate:"0 -50%"}},range:{bottom:"{range-start}",h:"calc({range-end} - {range-start} + ({track-size} / 2))",left:"50%",translate:"-50% 0",w:"full",_range:{bottom:"calc({range-start} - ({track-size} / 2))",h:"calc({range-end} - {range-start} + {track-size})"}},root:{flexDirection:"column",h:"full",minH:"{thumb-size}"},thumb:{left:"50%",translate:"-50% 50%",_end:{bottom:"{range-end}"},_start:{bottom:"{range-start}"}},track:{w:"{track-size}"}}},shape:{circle:{root:{"--thumb-rounded":"radii.full"}},rounded:{root:{"--thumb-rounded":"radii.l2"}},square:{root:{"--thumb-rounded":"0"}}}},variants:{outline:{root:{"--indicator-fill":"colorScheme.solid","--range-fill":"colorScheme.solid","--thumb-fill":"colors.bg","--thumb-stroke":"colorScheme.solid","--track-fill":"colors.bg.muted"}},solid:{root:{"--indicator-fill":"colorScheme.solid","--range-fill":"colorScheme.solid","--thumb-fill":"colorScheme.solid","--thumb-stroke":"colorScheme.solid","--track-fill":"colors.bg.muted"}}},sizes:{sm:{root:{"--thumb-size":"sizes.4","--track-size":"sizes.1.5"}},md:{root:{"--thumb-size":"sizes.5","--track-size":"sizes.2"}},lg:{root:{"--thumb-size":"sizes.6","--track-size":"sizes.2.5"}}},defaultProps:{size:"md",variant:"outline",orientation:"horizontal",shape:"circle"}}),Dt=({threshold:o=3,...n}={})=>{const{getWindow:d}=Ct(),h=J(n.onStart),z=J(n.onMove),k=J(n.onEnd),b=l.useRef(null),x=l.useRef([]),f=l.useRef(null),S=l.useCallback(()=>{x.current.forEach(a=>a()),b.current=null,x.current=[]},[]),i=l.useCallback(a=>o===0||!b.current?!0:Math.sqrt(Math.pow(a.x-b.current.x,2)+Math.pow(a.y-b.current.y,2))>=o,[o]);yt(()=>{S()});const m=l.useCallback((a={})=>({...a,ref:mt(f,a.ref),onPointerDown:dt(a.onPointerDown,v=>{const _=v.nativeEvent.view??d();if(!_||It(v.nativeEvent)||!f.current)return;v.preventDefault();const j=N(v.nativeEvent),V=f.current.getBoundingClientRect();h(v.nativeEvent,j,V),b.current=j,x.current.push(X(_,"pointermove",C=>{if(!f.current)return;const y=N(C),R=f.current.getBoundingClientRect();i(y)&&(b.current=y,z(C,y,R))})),x.current.push(X(_,"pointerup",C=>{if(!f.current)return;S();const y=N(C),R=f.current.getBoundingClientRect();k(C,y,R)})),x.current.push(X(_,"pointercancel",C=>{if(!f.current)return;S();const y=N(C),R=f.current.getBoundingClientRect();k(C,y,R)}))})}),[S,d,k,z,h,i]);return[f,m]},Ft=(o={})=>{const{props:{id:n,ref:d,name:h,"aria-labelledby":z,"aria-valuetext":k,betweenThumbs:b=0,defaultValue:x=0,disabled:f,getAriaValueText:S,max:i=100,min:m=0,orientation:a="horizontal",readOnly:v,required:_,step:j=1,value:V,onChange:C,onChangeEnd:y,onChangeStart:R,...tt},ariaProps:q,dataProps:w,eventProps:et}=Tt(o),[r,L]=Rt({defaultValue:x,value:V,onChange:C}),{t:rt}=wt("slider"),D=l.useRef(0),T=!(f||v),[Nt,nt]=Dt({onEnd:(t,e,g)=>{if(!T)return;const s=Q(e,g);if(c){const u=D.current===0,M=D.current===0?1:0,A=r[M];y?.(u?[s,A]:[A,s])}else y?.(s)},onMove:(t,e,g)=>{if(!T)return;const s=Q(e,g);P(D.current,s)},onStart:(t,e,g)=>{if(!T)return;const s=Q(e,g);if(c){const u=r.map(xt=>Math.abs(xt-s)),M=Math.min(...u),A=u.indexOf(M);D.current=A;const at=A===0,I=r[A===0?1:0];R?.(at?[s,I]:[I,s])}else D.current=0,R?.(r);P(D.current,s)}}),c=!pt(r),F=c?r.map(t=>Y(t,m,i)):Y(r,m,i),G=(i-m)/10,B=j||(i-m)/100;i<m&&console.warn("Do not assign a number less than 'min' to 'max'");const O=l.useCallback(t=>{const e=t===0,s=c?r[t===0?1:0]:r;return{max:c&&e?s-b:i,min:c?e?m:s+b:m}},[b,i,m,c,r]),Q=l.useCallback(({x:t,y:e},{bottom:g,height:s,left:u,width:M})=>{const st=(a==="horizontal"?t-u:g-e)/(a==="horizontal"?M:s);let I=At(st,m,i);return I=parseFloat(lt(I,m,j)),I=ct(I,m,i),I},[a,m,i,j]),P=l.useCallback((t,e)=>{if(!T)return;const{max:g,min:s}=O(t);e=parseFloat(lt(e,s,B)),e=ct(e,s,g),L(u=>{if(it(u)){const M=[...u];return M[t]=e,M}else return e})},[O,T,B,L]),K=l.useCallback((t,e=B)=>c?P(t,r[t]+e):P(t,r+e),[B,c,P,r]),U=l.useCallback((t,e=B)=>c?P(t,r[t]-e):P(t,r-e),[B,c,P,r]),ot=l.useCallback(t=>e=>{const{max:g,min:s}=O(t);Pt(e,{ArrowDown:()=>U(t),ArrowLeft:()=>U(t),ArrowRight:()=>K(t),ArrowUp:()=>K(t),End:()=>P(t,g),Home:()=>P(t,s),PageDown:()=>U(t,G),PageUp:()=>K(t,G)})},[O,P,U,K,G]),ft=l.useCallback(t=>{const e={...w,"data-orientation":a,...et,...tt,...t};return e.style??={},it(F)?(e.style["--range-start"]=`${Math.abs(F[0])}%`,e.style["--range-end"]=`${Math.abs(F[1])}%`):(e.style["--range-start"]="0%",e.style["--range-end"]=`${Math.abs(F)}%`),e},[w,et,a,F,tt]),gt=l.useCallback(({index:t=0,...e}={})=>({...Mt,...w,...q,id:n,type:"hidden",name:h,disabled:f,readOnly:v,required:_,value:c?r[t]:r,...e,ref:t===0?mt(e.ref,d):e.ref}),[w,q,n,h,f,v,_,c,r,d]),ht=l.useCallback(t=>nt({...w,"data-orientation":a,...t}),[w,nt,a]),kt=l.useCallback(t=>({...w,"data-orientation":a,"data-range":H(c),...t}),[w,a,c]),vt=l.useCallback(({style:t,value:e,...g})=>{const s=c?r[0]<e&&e<r[1]:e<r,u=Y(e,m,i);return{...w,"aria-hidden":!0,"data-between":H(s),"data-orientation":a,role:"presentation",...g,style:{...t,"--mark-position":`${u}%`}}},[w,i,m,a,c,r]),zt=l.useCallback(({index:t=0,...e}={})=>{const{max:g,min:s}=O(t),u={...w,...q,"aria-label":rt("Slider thumb"),"aria-orientation":a,"aria-valuemax":g,"aria-valuemin":s,role:"slider",tabIndex:T?0:-1,...e,"aria-labelledby":Et(e["aria-labelledby"],z),onKeyDown:dt(e.onKeyDown,ot(t))};if(c){const M=r[t];u["data-start"]=H(t===0),u["data-end"]=H(t===1),u["aria-valuenow"]=M,u["aria-valuetext"]=k??S?.(M,t)??M.toString()}else u["data-end"]=H(t===0),u["aria-valuenow"]=r,u["aria-valuetext"]=k??S?.(r,t)??r.toString();return u},[rt,z,q,k,w,S,O,T,ot,a,c,r]);return{percent:F,range:c,setValue:L,stepDown:U,stepUp:K,value:r,getInputProps:gt,getMarkProps:vt,getRangeProps:kt,getRootProps:ft,getThumbProps:zt,getTrackProps:ht,onChange:P}},{ComponentContext:Bt,useComponentContext:$,withContext:W,withProvider:Ot}=_t("slider",Vt),Yt=Ot(({children:o,marks:n,orientation:d,inputProps:h,marksProps:z,rangeProps:k,thumbProps:b,trackProps:x,...f})=>{const S=jt(d),{range:i,getInputProps:m,getMarkProps:a,getRangeProps:v,getRootProps:_,getThumbProps:j,getTrackProps:V}=Ft({orientation:S,...f}),C=l.useMemo(()=>o||p.jsxs(p.Fragment,{children:[p.jsxs(Kt,{...x,children:[p.jsx(Ut,{...k}),i?p.jsx(qt,{...b}):p.jsx(bt,{...b})]}),n?p.jsx($t,{marks:n,...z}):null]}),[o,n,z,i,k,b,x]),y=l.useMemo(()=>({range:i,getInputProps:m,getMarkProps:a,getRangeProps:v,getThumbProps:j,getTrackProps:V}),[i,m,a,v,j,V]);return p.jsx(Bt,{value:y,children:p.jsxs(Z.div,{..._(),children:[p.jsx(Ht,{...h}),C]})})},"root",{transferProps:["orientation"]})(void 0,({indicatorFill:o,indicatorRounded:n,rangeFill:d,thumbFill:h,thumbRounded:z,thumbSize:k,thumbStroke:b,trackFill:x,trackRounded:f,trackSize:S,...i})=>({"--indicator-fill":E(o,"colors"),"--indicator-rounded":E(n,"radii"),"--range-fill":E(d,"colors"),"--thumb-fill":E(h,"colors"),"--thumb-rounded":E(z,"radii"),"--thumb-size":E(k,"sizes"),"--thumb-stroke":E(b,"colors"),"--track-fill":E(x,"colors"),"--track-rounded":E(f,"radii"),"--track-size":E(S,"sizes"),...i})),Ht=()=>{const{range:o,getInputProps:n}=$();return o?Array.from({length:2}).map((d,h)=>p.jsx(Z.input,{...n({index:h})},h)):p.jsx(Z.input,{...n()})},Kt=W("div","track")(void 0,o=>{const{getTrackProps:n}=$();return n(o)}),Ut=W("div","range")(void 0,o=>{const{getRangeProps:n}=$();return n(o)}),ut=W("div","mark")(void 0,({indicator:o=!0,...n})=>{const{getMarkProps:d}=$();return d({"data-indicator":H(o),...n})}),$t=({marks:o,...n})=>p.jsx(p.Fragment,{children:o.map((d,h)=>{if(pt(d))return p.jsx(ut,{value:d,...n},h);{const{indicator:z,label:k,value:b}=d;return p.jsx(ut,{indicator:z,value:b,children:k},h)}})}),bt=W("div","thumb")(void 0,o=>{const{getThumbProps:n}=$();return n(o)}),qt=o=>p.jsx(p.Fragment,{children:Array.from({length:2}).map((n,d)=>p.jsx(bt,{index:d,...o},d))});export{Yt as S,Kt as a,bt as b,Ut as c,$t as d,Vt as s};
