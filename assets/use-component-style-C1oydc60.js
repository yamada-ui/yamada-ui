import{r as z}from"./index-uCp2LrAq.js";import{g as M}from"./_commonjsHelpers-BosuxZz1.js";import{o as V,p as P,m as y,w as W,R as I,s as $,F as D,B as A,Z as v,_ as T}from"./factory-Bf0a1C4O.js";import{u as K,b as U}from"./theme-provider-CfMKAtcZ.js";var Z=typeof Element<"u",G=typeof Map=="function",H=typeof Set=="function",J=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function O(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!O(e[r],t[r]))return!1;return!0}var o;if(G&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!O(r.value[1],t.get(r.value[0])))return!1;return!0}if(H&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(J&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(Z&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!O(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var L=function(t,n){try{return O(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const B=M(L),N=(e,t,n)=>({isMulti:r=!1})=>{const[s,o]=e,a=g(t[s],n)({isMulti:r,query:v._light}),f=g(t[o],n)({isMulti:r,query:v._dark});return[a,f]},Q=(e,t,n)=>({isMulti:r=!1})=>{const s=T(e);if(s.length===1&&"base"in e)return g(t[e.base],n)({isMulti:r});{const{queries:o=[]}=n.theme.__breakpoints??{},{breakpoint:a}=n.theme.__config??{},f=a==="down",d=o.filter(({breakpoint:c})=>c!=="base"&&s.includes(c)).sort((c,u)=>f?(c.maxW??0)-(u.maxW??0):(u.minW??0)-(c.minW??0))[0];let S=!1;return o.reduce((c,{breakpoint:u,minW:m,maxW:i,maxWQuery:w,minWQuery:j},p)=>{const _=e[u],k=u===d.breakpoint;if(u==="base"||!_)return c;if(!S){const h=e.base,l=o[p-1],q=l==null?void 0:l[f?"minWQuery":"maxWQuery"],E=g(h?t[h]:{},n)({isMulti:r,query:q});c=y(c,E),S=!0}let x=f?w:j;if(!k){let h=p+1,l;for(;h<o.length;){const q=o[h]??{};if(e[q.breakpoint]){const E=h-1;l=o[E];break}h+=1}m=f?l==null?void 0:l.minW:m,i=f?i:l==null?void 0:l.maxW,x=U(m,i)}const C=g(t[_],n)({isMulti:r,query:x});return c=y(c,C),c},{})}},F=(e,t,n)=>({isMulti:r=!1})=>{let s={};if($(e)){const[o,a]=N(e,t,n)({isMulti:r});s=y(o,a)}else D(e)?s=Q(e,t,n)({isMulti:r}):s=g(t[e],n)({isMulti:r});return s},g=(e,t)=>({isMulti:n=!1,query:r})=>{let s=A(e,t);if(n)for(const[o,a]of Object.entries(s??{})){const f=A(a,t);r?s=y(s,{[o]:{[r]:f}}):s=y(s,{[o]:f})}else if(r)return{[r]:s};return s},R=(e,t,{isMulti:n,isProcessSkip:r,styles:s}={})=>{const{theme:o,themeScheme:a}=K(),{colorMode:f}=V(),d=z.useRef({}),S=z.useRef(s??{});if(!r){const u=P(o,`components.${e}`);if(t=y((u==null?void 0:u.defaultProps)??{},W(t)),u){const m=I(t,["children"]);let i=g(u.baseStyle??{},{theme:o,colorMode:f,themeScheme:a,...m})({isMulti:n});const w=F(t.variant,u.variants??{},{theme:o,colorMode:f,themeScheme:a,...m})({isMulti:n}),j=F(t.size,u.sizes??{},{theme:o,colorMode:f,themeScheme:a,...m})({isMulti:n});i=y(i,j),i=y(i,w),B(S.current,i)||(S.current=i)}}return B(d.current,t)||(d.current=t),[S.current,d.current]},te=(e,t,n)=>R(e,t,n),re=(e,t,n)=>R(e,t,{isMulti:!0,...n});export{re as a,te as u};
