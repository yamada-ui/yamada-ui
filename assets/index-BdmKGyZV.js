import{a as W}from"./index-BhIdR6KT.js";import{r as e}from"./index-Bv9Y92EF.js";import{S as y,a as R,d as Y}from"./factory-7Z88KRtK.js";const D=d=>{const{isContentEditable:b,tagName:f}=d.target;return f!=="INPUT"&&f!=="TEXTAREA"&&!b},_=({ref:d,clickOnEnter:b=!0,clickOnSpace:f=!0,isDisabled:S,disabled:r=S,disableTouchBehavior:k=!0,isFocusable:V,focusable:X=V,focusOnClick:E=!0,tabIndex:N,onClick:C,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p,...A}={})=>{const[a,j]=e.useState(!0),[g,s]=e.useState(!1),u=W(),q=a?N:N||0,P=r&&!X,I=t=>{t&&t.tagName!=="BUTTON"&&j(!1)},h=e.useCallback(t=>{if(r){t.stopPropagation(),t.preventDefault();return}E&&t.currentTarget.focus(),C==null||C(t)},[r,E,C]),T=e.useCallback(t=>{g&&D(t)&&(t.preventDefault(),t.stopPropagation(),s(!1),u.remove(document,"keyup",T,!1))},[g,u]),z=e.useCallback(t=>{l==null||l(t),!(r||t.defaultPrevented||t.metaKey)&&(!D(t.nativeEvent)||a||(f&&t.key===" "&&(t.preventDefault(),s(!0)),b&&t.key==="Enter"&&(t.preventDefault(),t.currentTarget.click()),u.add(document,"keyup",T,!1)))},[r,a,l,b,f,u,T]),F=e.useCallback(t=>{n==null||n(t),!(r||t.defaultPrevented||t.metaKey)&&(!D(t.nativeEvent)||a||f&&t.key===" "&&(t.preventDefault(),s(!1),t.currentTarget.click()))},[f,a,r,n]),x=e.useCallback(t=>{t.button===0&&(s(!1),u.remove(document,"mouseup",x,!1))},[u]),G=e.useCallback(t=>{if(t.button===0){if(r){t.stopPropagation(),t.preventDefault();return}a||s(!0),E&&t.currentTarget.focus({preventScroll:!0}),u.add(document,"mouseup",x,!1),c==null||c(t)}},[r,a,E,c,u,x]),H=e.useCallback(t=>{t.button===0&&(a||s(!1),p==null||p(t))},[p,a]),J=e.useCallback(t=>{if(r){t.preventDefault();return}k&&y()||m==null||m(t)},[r,m,k]),Q=e.useCallback(t=>{g&&(t.preventDefault(),s(!1)),!(k&&y())&&(i==null||i(t))},[g,i,k]);return a?{...A,ref:R(d,I),type:"button","aria-disabled":P?void 0:r,disabled:P,onClick:h,onKeyDown:l,onKeyUp:n,onMouseDown:c,onMouseLeave:i,onMouseOver:m,onMouseUp:p}:{...A,ref:R(d,I),"aria-disabled":r?"true":void 0,"data-active":Y(g),role:"button",tabIndex:P?void 0:q,onClick:h,onKeyDown:z,onKeyUp:F,onMouseDown:G,onMouseLeave:Q,onMouseOver:J,onMouseUp:H}};export{_ as u};
