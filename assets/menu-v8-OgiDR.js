import{l as re,I as ae,c as K,r as o,v as H,B as Y,h as w,a as N,b as _,m as $,e as Q,a9 as B,P as ce,k as W,i as Z,E as ue,f as le,j as s,D as X,s as V}from"./iframe-Cz9Hkuf2.js";import{m as ie}from"./menu.style-DpAl5kPl.js";import{u as de}from"./index-5HMctc93.js";import{c as me}from"./index-Dgv_VZ-y.js";import{u as Ce}from"./use-disclosure-CXEZpN0k.js";import{u as pe,P as ge,a as xe,b as fe,e as Me}from"./popover-D63z6uQL.js";import{C as be}from"./chevron-right-icon-B5E26S4B.js";import{c as he}from"./createLucideIcon-CBK9Ft_T.js";import{C as ke}from"./check-icon-BoPX1_sv.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],je=he("circle-small",ve),Pe=re(ae)({as:je}),{DescendantsContext:De,useDescendant:Se,useDescendantRegister:ye,useDescendants:Ie}=me(),[Re,ee]=K({name:"MenuContext"}),[Ae,we]=K({name:"MenuGroupContext"}),[Te,Fe]=K({name:"MainMenuContext",strict:!1}),[Ee,Ge]=K({name:"MenuOptionGroupContext"}),Ve=({closeOnSelect:t,defaultOpen:n,disabled:e=!1,open:p,subMenuDirection:a="end",onClose:r,onOpen:u,onSelect:x}={})=>{const h=o.useId(),i=o.useId(),M=Ie(),f=o.useRef(H),v=o.useRef(H),d=o.useRef(null),{open:c,onClose:b,onOpen:l}=Ce({defaultOpen:n,open:p,onClose:r,onOpen:u}),j=o.useCallback(()=>v.current(),[]),g=o.useCallback((k,R={preventScroll:!0})=>{!d.current||!k||e||(d.current.setAttribute("aria-activedescendant",k.id),M.active(k,R))},[M,e]),{mainCloseOnSelect:I,subMenu:S,getSubMenuProps:y,onMainSelect:T}=Ke({descendants:M,disabled:e,open:c,subMenuDirection:a,onActiveDescendant:g,onClose:b,onOpen:l});t??=I??!0;const m=o.useCallback((k,R=t)=>{e||(x?.(k),T?.(k,R),R&&b())},[t,e,b,T,x]),C=o.useCallback(k=>{e||(k.preventDefault(),c?b():l())},[e,b,l,c]),P=o.useCallback(k=>{e||(k.preventDefault(),l(),f.current())},[e,l]),D=o.useCallback(k=>{e||Y(k,{ArrowDown:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();g(R)})},ArrowUp:()=>{l(),setTimeout(()=>{const R=M.enabledLastValue();g(R)})},Enter:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();g(R)})},Space:()=>{l(),setTimeout(()=>{const R=M.enabledFirstValue();g(R)})}})},[M,e,g,l]),G=o.useCallback((k={})=>({...y({id:h,"aria-controls":c?i:void 0,"aria-disabled":_(e),"aria-expanded":c,"aria-haspopup":"menu","data-trigger":N(!0),role:"button",tabIndex:e?-1:0,...k,onClick:w(k.onClick,C),onKeyDown:w(k.onKeyDown,D)})}),[i,e,y,C,D,c,h]),E=o.useCallback((k={})=>({id:h,"aria-controls":c?i:void 0,"aria-disabled":_(e),"aria-expanded":c,"aria-haspopup":"menu","data-trigger":N(!0),role:"application",...k,onContextMenu:w(k.onContextMenu,P)}),[i,e,P,c,h]),O=o.useCallback(({ref:k,"aria-labelledby":R,...se}={})=>({id:i,"aria-labelledby":Q(R,h),role:"menu",...se,ref:$(k,d)}),[i,h]),U=o.useCallback(k=>({role:"separator",...k}),[]);return{closeOnSelect:t,descendants:M,open:c,subMenu:S,subMenuDirection:a,updateRef:f,getContentProps:O,getContextTriggerProps:E,getSeparatorProps:U,getTriggerProps:G,onActiveDescendant:g,onClose:b,onCloseRef:v,onCloseSubMenu:j,onOpen:l,onSelect:m}},Ke=({descendants:t,disabled:n=!1,open:e,subMenuDirection:p="end",onActiveDescendant:a,onClose:r,onOpen:u})=>{const x=o.useId(),{closeOnSelect:h,descendants:i,onActiveDescendant:M,onCloseRef:f,onSelect:v}=Fe()??{},d=!!i&&!!M,c=ye(i),b=o.useRef(null),l=o.useCallback(m=>(m??=b.current,m?B(m.getAttribute("data-disabled")):!1),[]),j=o.useCallback(m=>(m??=b.current,m?B(m.getAttribute("aria-disabled")):!1),[]),g=o.useCallback(m=>{d&&(m.defaultPrevented=n||l()||j())},[j,l,n,d]),I=o.useCallback(()=>{!d||n||l()||j()||u()},[j,l,n,u,d]),S=o.useCallback(m=>{if(!d||n||l()||j())return;const C=t.value(b.current);M(C),m.defaultPrevented=!0},[j,l,t,n,M,d]),y=o.useCallback(m=>{if(!d||n)return;const C=e?t:i,P=e?a:M;Y(m,{ArrowDown:()=>{const D=C.enabledNextValue(b.current);P(D),m.defaultPrevented=!0},ArrowUp:()=>{const D=C.enabledPrevValue(b.current);P(D),m.defaultPrevented=!0},End:()=>{const D=C.enabledLastValue();P(D),m.defaultPrevented=!0},Home:()=>{const D=C.enabledFirstValue();P(D),m.defaultPrevented=!0},[p==="end"?"ArrowRight":"ArrowLeft"]:()=>{u(),setTimeout(()=>{const D=t.enabledFirstValue();a(D)}),m.defaultPrevented=!0}})},[d,n,e,t,i,a,M,p,u]);ce(f,r);const T=o.useCallback(({id:m=x,ref:C,...P}={})=>{const G=c({id:m,disabled:E=>n||l(E)||j(E)});return{role:d?"menuitem":"button",...P,ref:$(C,b,G),onClick:w(g,P.onClick),onKeyDown:w(y,P.onKeyDown),onMouseEnter:w(I,P.onMouseEnter),onMouseMove:w(S,P.onMouseMove)}},[x,d,c,g,y,I,S,n,l,j]);return{mainCloseOnSelect:h,subMenu:d,getSubMenuProps:T,onMainSelect:v}},Le=({"aria-labelledby":t,...n})=>{const e=o.useId(),p=o.useCallback(({"aria-labelledby":r,...u}={})=>({"aria-labelledby":Q(t,r,e),role:"group",...n,...u}),[t,e,n]),a=o.useCallback(r=>({id:e,role:"presentation",...r}),[e]);return{getGroupProps:p,getLabelProps:a}},ne=({id:t,"aria-disabled":n,"data-disabled":e,"data-trigger":p,closeOnSelect:a,disabled:r=!1,value:u,...x})=>{const h=B(p),{subMenu:i,subMenuDirection:M,onActiveDescendant:f,onClose:v,onCloseSubMenu:d,onSelect:c}=ee(),b=o.useId(),l=o.useRef(null),j=i&&h;t??=b;const{descendants:g,register:I}=Se({id:t,disabled:r||j}),S=o.useCallback(()=>{if(r)return;const m=g.value(l.current);f(m)},[g,r,f]),y=o.useCallback(m=>{Y(m,{ArrowDown:()=>{const C=g.enabledNextValue(l.current);f(C)},ArrowUp:()=>{const C=g.enabledPrevValue(l.current);f(C)},End:()=>{const C=g.enabledLastValue();f(C)},Enter:()=>c(u,a),Home:()=>{const C=g.enabledFirstValue();f(C)},Space:()=>c(u,a),[M==="end"?"ArrowLeft":"ArrowRight"]:()=>{if(!i)return;v(),g.firstValue()?.node.focus()}})},[a,g,f,v,c,i,M,u]),T=o.useCallback(({ref:m,...C}={})=>({id:t,"aria-disabled":n??_(r),"data-disabled":e??N(r),role:"menuitem",tabIndex:-1,...x,...C,ref:$(m,x.ref,l,I),onClick:w(C.onClick,x.onClick,()=>c(u,a)),onFocus:w(C.onFocus,x.onFocus,S),onKeyDown:w(C.onKeyDown,x.onKeyDown,y),onMouseMove:w(C.onMouseMove,x.onMouseMove,()=>{d(),S()})}),[t,n,r,e,x,I,S,y,c,u,a,d]);return{subMenuTrigger:j,getItemProps:T}},Oe=({type:t="checkbox",defaultValue:n=t==="checkbox"?[]:"",value:e,onChange:p})=>{const[a,r]=de({defaultValue:n,value:e,onChange:p}),u=t==="radio",x=o.useCallback(h=>{r(i=>u&&W(i)?h:!u&&Z(i)?i.includes(h)?i.filter(M=>M!==h):i.concat(h):i)},[u,r]);return ue(()=>{r(e)},[e]),{type:t,value:a,onChange:x}},Ue=({disabled:t,value:n,...e})=>{const{type:p,value:a,onChange:r}=Ge(),{getItemProps:u}=ne({disabled:t,value:n,...e}),x=p==="radio"&&W(a),h=p==="checkbox"&&Z(a),i=x?n===a:h?a.includes(n):!1,M=o.useCallback(({style:v,...d}={})=>({style:{opacity:i?1:0,...v},...d}),[i]),f=o.useCallback((v={})=>u({role:x?"menuitemradio":"menuitemcheckbox",...v,onClick:w(v.onClick,()=>t?H:r?.(n))}),[t,u,r,x,n]);return{type:p,selected:i,getIndicatorProps:M,getOptionItemProps:f}},{ComponentContext:He,StyleContext:Ne,useComponentContext:L,withContext:A,useRootComponentProps:_e}=le("menu",ie),on=t=>{const[n,e]=_e(t),[{animationScheme:p,initialFocusRef:a,offset:r,placement:u,...x},{children:h,disabled:i,...M}]=pe(e,["disabled","open","defaultOpen","onOpen","onClose"]),{closeOnSelect:f,descendants:v,open:d,subMenu:c,subMenuDirection:b,updateRef:l,getContentProps:j,getContextTriggerProps:g,getSeparatorProps:I,getTriggerProps:S,onActiveDescendant:y,onClose:T,onCloseRef:m,onCloseSubMenu:C,onOpen:P,onSelect:D}=Ve({disabled:i,...M}),G=o.useMemo(()=>({...x,animationScheme:p??(c?"inline-start":"block-start"),autoFocus:!!a,disabled:i,initialFocusRef:a,offset:r??(c?[0,0]:void 0),open:d,placement:u??(c?`center-${b}`:"end-start"),updateRef:l,onClose:T,onOpen:P}),[p,i,a,r,T,P,d,u,x,c,b,l]),E=o.useMemo(()=>({subMenu:c,subMenuDirection:b,onActiveDescendant:y,onClose:T,onCloseSubMenu:C,onOpen:P,onSelect:D}),[T,P,D,y,c,b,C]),O=o.useMemo(()=>({closeOnSelect:f,descendants:v,onActiveDescendant:y,onCloseRef:m,onSelect:D}),[f,v,y,m,D]),U=o.useMemo(()=>({getContentProps:j,getContextTriggerProps:g,getSeparatorProps:I,getTriggerProps:S}),[j,g,I,S]);return s.jsx(Ne,{value:n,children:s.jsx(De,{value:v,children:s.jsx(Re,{value:E,children:s.jsx(Te,{value:O,children:s.jsx(He,{value:U,children:s.jsx(ge,{...G,children:h})})})})})})},sn=A(xe,"trigger")(void 0,t=>{const{getTriggerProps:n}=L();return X(n(X(t)))}),rn=A(({children:t,onContextMenu:n,...e})=>{const[p,a]=o.useState({left:0,top:0}),{getContextTriggerProps:r}=L();return s.jsxs(s.Fragment,{children:[s.jsx(Be,{children:s.jsx(V.div,{style:{position:"absolute",...p}})}),s.jsx(V.div,{asChild:!0,...r({onContextMenu:w(n,u=>{a({left:u.pageX,top:u.pageY})}),...e}),children:t})]})},"contextTrigger")(),Be=A(Me,"anchor")(),an=A(fe,"content")(void 0,({children:t,footer:n,header:e,items:p=[],footerProps:a,headerProps:r,portalProps:u,...x})=>{const{subMenu:h}=ee(),{getContentProps:i}=L(),M=o.useMemo(()=>t||s.jsxs(s.Fragment,{children:[e?s.jsx(Xe,{...r,children:e}):null,p.map((f,v)=>{if("type"in f)if(f.type==="radio"){const{type:d,hasSeparator:c=!0,hasEndSeparator:b=c,hasStartSeparator:l=c,items:j=[],...g}=f;return s.jsxs(o.Fragment,{children:[l?s.jsx(F,{}):null,s.jsx(q,{type:d,...g,children:j.map(({label:I,...S},y)=>s.jsx(J,{...S,children:I},y))}),b?s.jsx(F,{}):null]},v)}else if(f.type==="checkbox"){const{type:d,hasSeparator:c=!0,hasEndSeparator:b=c,hasStartSeparator:l=c,items:j=[],...g}=f;return s.jsxs(o.Fragment,{children:[l?s.jsx(F,{}):null,s.jsx(q,{type:d,...g,children:j.map(({label:I,...S},y)=>s.jsx(J,{...S,children:I},y))}),b?s.jsx(F,{}):null]},v)}else return s.jsx(F,{},v);else if("items"in f){const{hasSeparator:d=!0,hasEndSeparator:c=d,hasStartSeparator:b=d,items:l=[],...j}=f;return s.jsxs(o.Fragment,{children:[b?s.jsx(F,{}):null,s.jsx(te,{...j,children:l.map(({label:g,...I},S)=>s.jsx(z,{...I,children:g},S))}),c?s.jsx(F,{}):null]},v)}else if("value"in f){const{label:d,...c}=f;return s.jsx(z,{...c,children:d},v)}}),n?s.jsx(Ye,{...a,children:n}):null]}),[t,n,a,e,r,p]);return{...i(X({...x,children:M})),portalProps:h?{...u,disabled:!0}:u}}),Xe=A("div","header")({"data-header":""}),Ye=A("div","footer")({"data-footer":""}),$e=A("span","label")(void 0,t=>{const{getLabelProps:n}=we();return n(t)}),te=A(({children:t,label:n,labelProps:e,...p})=>{const{getGroupProps:a,getLabelProps:r}=Le(p),u=o.useMemo(()=>({getLabelProps:r}),[r]);return s.jsx(Ae,{value:u,children:s.jsxs(V.div,{...a(),children:[n?s.jsx($e,{...e,children:n}):null,t]})})},"group")(),q=A(({type:t,defaultValue:n,value:e,onChange:p,...a})=>{const{type:r,value:u,onChange:x}=Oe({type:t,defaultValue:n,value:e,onChange:p}),h=o.useMemo(()=>({type:r,value:u,onChange:x}),[r,u,x]);return s.jsx(Ee,{value:h,children:s.jsx(te,{...a})})},{name:"optionGroup",slot:["group","option"]})(),z=A(({children:t,...n})=>{const{subMenuTrigger:e,getItemProps:p}=ne(n);return s.jsxs(V.div,{...p(),children:[t,e?s.jsx(oe,{as:be,ms:"auto"}):null]})},"item")(),J=A(({children:t,icon:n,...e})=>{const{type:p,getIndicatorProps:a,getOptionItemProps:r}=Ue(e);return s.jsxs(V.div,{...r(),children:[s.jsx(oe,{...a(),children:n||(p==="radio"?s.jsx(Pe,{fill:"currentColor"}):s.jsx(ke,{}))}),t]})},{name:"optionItem",slot:["item","option"]})(),oe=A("div","indicator")(),cn=A("kbd","command")(),F=A("hr","separator")(void 0,t=>{const{getSeparatorProps:n}=L();return n(t)});export{on as M,sn as a,an as b,z as c,F as d,te as e,q as f,J as g,oe as h,cn as i,Be as j,rn as k};
