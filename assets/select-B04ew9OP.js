import{c as ge,J as he,r as t,i as O,L as be,l as K,K as le,aQ as pe,f as fe,m as ve,h as re,Q as Ie,e as Se,j as o,b as je,a as ke,g as ye,X as Me,s as ce,N as de}from"./iframe-s8tBpZKs.js";import{u as Oe,a as Fe,c as Re,b as Ae,C as Ee,d as Ge,s as Ve,e as De,f as we,g as Le}from"./index-BqAJo8lm.js";import{u as Ke}from"./index-CucUGTla.js";import{u as Te}from"./use-field-props-DcDCnf4i.js";import{u as Be}from"./input-t6EEc6IZ.js";import{u as Ne}from"./group-CCx44ibt.js";import{u as Qe,P as Xe,a as qe,b as He}from"./popover-CYNpNmiG.js";import{u as Je}from"./use-input-border-D6Mrcmtg.js";import{I as Ue,a as We}from"./input-group-8e1rh6tU.js";import{C as ze}from"./check-icon-HF3KrJa5.js";import{C as Ye}from"./chevron-down-icon-CfQEydca.js";const Ze=({count:s,index:r,label:i,separator:p,value:l})=>{const d=s-1===r;return o.jsxs("span",{style:{marginInlineEnd:"var(--gap)"},"data-placeholder":je(l===""),children:[i,d?null:p]})},[_e,$e]=ge({name:"SelectContext"}),eo=(s={})=>{const{t:r}=he("select"),{context:{labelId:i}={},props:{id:p,name:l,multiple:d=!1,closeOnSelect:C=!d,defaultValue:c=d?[]:"",disabled:x,focusOnClear:F=!0,includePlaceholder:y=!d,items:M=[],max:I,placeholder:u,readOnly:V,render:T=Ze,required:D,separator:w=",",value:B,onChange:N,...z},ariaProps:Y,dataProps:P,eventProps:Z}=Te(s),S=t.useRef(null),[a,j]=Ke({defaultValue:c,value:B,onChange:N}),g=t.useCallback(e=>{j(n=>O(n)?n.includes(e)?n.filter(m=>m!==e):!be(I)||n.length<I?[...n,e]:n:e)},[I,j]),k=t.useMemo(()=>{const e=[...M];return u&&e.unshift({hidden:!y,label:u,value:""}),e},[M,u,y]),R=t.useMemo(()=>!k.filter(({hidden:e})=>!e).length,[k]),{descendants:h,interactive:b,open:_,getContentProps:Q,getSeparatorProps:$,getTriggerProps:X,onActiveDescendant:ee,onClose:q,onOpen:H,onSelect:J}=Oe({closeOnSelect:C,disabled:x,initialFocusValue:O(a)?a[0]:a,readOnly:V,onChange:g,...Y,...P,...Z,...z}),f=t.useMemo(()=>{const e={};return k.forEach(n=>{"items"in n?n.items.forEach(m=>{m.value??=K(m.label)?m.label:void 0,le(m.value)||(e[m.value]=m)}):(n.value??=K(n.label)?n.label:void 0,le(n.value)||(e[n.value]=n))}),e},[k]),A=t.useMemo(()=>O(a)?a.length?pe(a.map(e=>f[e])):u?[{label:u,value:""}]:[]:K(a)?pe(f[a]):[],[u,a,f]),L=t.useMemo(()=>{const e=A.length;return A.map((n,m)=>{const W=T({count:e,index:m,separator:w,onClear:ie=>{ie?.preventDefault(),ie?.stopPropagation(),n.value&&g(n.value)},...n});return t.isValidElement(W)?t.cloneElement(W,{...W.props,key:m}):W})},[g,T,A,w]),U=t.useCallback(()=>{!b||!S.current||S.current.focus()},[b]),E=t.useCallback(()=>{b&&(j(e=>O(e)?[]:""),S.current&&F&&S.current.focus())},[F,b,j]),oe=t.useCallback(e=>({...P,...e}),[P]),te=t.useCallback(({ref:e,"aria-labelledby":n,...m}={})=>X({ref:ve(e,S),"aria-label":u,"aria-labelledby":fe(n,i),...m,children:L}),[L,X,i,u]),se=t.useCallback((e={})=>({...P,...Ie,id:p,name:l,defaultValue:K(a)?a:a.join(", "),disabled:x,readOnly:V,required:D,...e,onFocus:re(e.onFocus,U)}),[P,x,p,l,U,V,D,a]),ne=t.useCallback(e=>Q({hidden:R,...e}),[R,Q]),G=t.useCallback(e=>({...P,...e}),[P]),Pe=t.useCallback((e={})=>G({"aria-disabled":Se(!b),"aria-label":r("Clear value"),role:"button",tabIndex:b?0:-1,...e,onClick:re(e.onClick,E),onKeyDown:re(e.onKeyDown,n=>ke(n,{Enter:E,Space:E}))}),[G,b,E,r]);return{descendants:h,includePlaceholder:y,interactive:b,items:k,max:I,open:_,placeholder:u,setValue:j,value:a,valueMap:f,getClearIconProps:Pe,getContentProps:ne,getFieldProps:te,getIconProps:G,getInputProps:se,getRootProps:oe,getSeparatorProps:$,onActiveDescendant:ee,onChange:g,onClose:q,onOpen:H,onSelect:J}},oo=({children:s,closeOnSelect:r,disabled:i,hidden:p,value:l,...d}={})=>{const{max:C,value:c}=$e();l??=K(s)?s:void 0;const x=O(c)?!le(l)&&c.includes(l):c===l,F=be(C)&&O(c)&&c.length>=C,{getIndicatorProps:y,getItemProps:M}=Fe({children:s,closeOnSelect:r,disabled:i||p||F&&!x,hidden:p,selected:x,value:l,...d}),I=t.useCallback((u={})=>M(u),[M]);return{getIndicatorProps:y,getOptionProps:I}},{ComponentContext:to,useComponentContext:ue,withContext:v,withProvider:so}=ye("select",Ve),vo=so(s=>{const[r,i]=Ne(s),[p,{className:l,css:d,colorScheme:C,children:c,clearable:x,clearIcon:F=o.jsx(Me,{}),errorBorderColor:y,focusBorderColor:M,icon:I,items:u,contentProps:V,elementProps:T,groupProps:D,iconProps:w,optionProps:B,placeholderProps:N,rootProps:z,...Y}]=Qe(i,["disabled","open","defaultOpen","onOpen","onClose","openOnClick"]),P=t.useMemo(()=>u||Re(c,{Group:Ce,Label:xe,Option:ae}),[u,c]),{descendants:Z,includePlaceholder:S,interactive:a,items:j,max:g,open:k,placeholder:R,value:h,getClearIconProps:b,getContentProps:_,getFieldProps:Q,getIconProps:$,getInputProps:X,getRootProps:ee,getSeparatorProps:q,onActiveDescendant:H,onChange:J,onClose:f,onOpen:A,onSelect:L}=eo({items:P,...Y}),U=t.useMemo(()=>({animationScheme:"block-start",autoFocus:!1,matchWidth:!0,...p,disabled:!a,open:k,onClose:f,onOpen:A}),[a,f,A,k,p]),E=t.useMemo(()=>c?o.jsxs(o.Fragment,{children:[R?o.jsx(ae,{...N,hidden:!S,value:"",children:R}):null,c]}):Ae(j,{Group:Ce,Option:ae}),[c,j,R,S,N]),oe=Je({errorBorderColor:y,focusBorderColor:M}),te=t.useMemo(()=>({max:g,value:h,onActiveDescendant:H,onChange:J,onClose:f,onSelect:L}),[g,H,J,f,L,h]),se=t.useMemo(()=>({max:g,value:h}),[g,h]),ne=t.useMemo(()=>({getSeparatorProps:q,groupProps:D,optionProps:B}),[q,D,B]),G=O(h)?!!h.length:!!h;return o.jsx(Ee,{value:Z,children:o.jsx(Ge,{value:te,children:o.jsx(_e,{value:se,children:o.jsx(to,{value:ne,children:o.jsxs(Xe,{...U,children:[o.jsx(ce.input,{...X()}),o.jsxs(Ue,{className:l,css:d,colorScheme:C,...ee({...r,...z}),children:[o.jsx(qe,{children:o.jsx(no,{...Q(oe)})}),o.jsx(We,{clickable:x&&G,...T,children:x&&G?o.jsx(me,{icon:F,...b(w)}):o.jsx(me,{icon:I,...$(w)})})]}),o.jsx(ao,{...de(_(de(V))),children:E})]})})})})})},"root")(s=>({...Be(),...s})),no=v("div","field")({"data-group-propagate":""},({children:s,...r})=>({...r,children:o.jsx(ro,{children:s})})),me=v("div","icon")(void 0,({children:s,icon:r,...i})=>({children:r||s||o.jsx(Ye,{}),...i})),ro=v("span","valueText")(),ao=v(He,"content")(),xe=v("span","label")(void 0,s=>{const{getLabelProps:r}=Le();return r(s)}),Ce=v(({children:s,label:r,labelProps:i,...p})=>{const{groupProps:l}=ue(),{getGroupProps:d,getLabelProps:C}=De({...l,...p}),c=t.useMemo(()=>({getLabelProps:C}),[C]);return o.jsx(we,{value:c,children:o.jsxs(ce.div,{...d(),children:[r?o.jsx(xe,{...i,children:r}):null,s]})})},"group")(),ae=v(({children:s,icon:r,...i})=>{const{optionProps:{icon:p,...l}={}}=ue(),{getIndicatorProps:d,getOptionProps:C}=oo({...l,...i});return o.jsxs(ce.div,{...C(),children:[o.jsx(lo,{...d(),children:r??p??o.jsx(ze,{})}),s]})},"option")(),lo=v("div","indicator")(),Io=v("hr","separator")(void 0,s=>{const{getSeparatorProps:r}=ue();return r(s)});export{vo as S,ae as a,Ce as b,xe as c,Io as d};
