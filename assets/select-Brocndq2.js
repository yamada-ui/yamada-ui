import{G as he,r as s,i as M,J as Ce,k as w,H as le,aT as ie,f as fe,m as ve,O as Ie,h as re,e as Se,c as je,j as o,b as ke,a as ye,X as Me,s as ce,L as pe,l as Oe}from"./iframe-Bh9OJiMa.js";import{u as Ge,a as Re,c as Ae,b as Ee,C as Fe,d as Ve,e as De,f as we,g as Le,s as Te}from"./index-0vnG2W0y.js";import{u as Be}from"./index-43yi5QUG.js";import{u as Ke}from"./use-field-props-B2_L45Q1.js";import{u as He}from"./input-_rmp-yT3.js";import{u as Ne}from"./group-BL2xRsYz.js";import{u as Xe}from"./use-input-border-DIvm5bmb.js";import{P as qe,a as Je,b as Ue}from"./popover-D_wSxUaV.js";import{I as ze,a as Qe}from"./input-group-WyNQkowt.js";import{C as We}from"./check-icon-DowVKmmf.js";import{C as Ye}from"./chevron-down-icon-Cy3nMIG_.js";const Ze=({count:n,index:r,label:p,separator:m,value:l})=>{const d=n-1===r;return o.jsxs("span",{style:{marginInlineEnd:"var(--gap)"},"data-placeholder":ke(l===""),children:[p,d?null:m]})},[_e,$e]=je({name:"SelectContext"}),eo=(n={})=>{const{t:r}=he("select"),{context:{labelId:p}={},props:{id:m,name:l,multiple:d=!1,closeOnSelect:c=!d,defaultValue:x=d?[]:"",disabled:f,focusOnClear:j=!0,includePlaceholder:k=!d,items:y=[],max:v,placeholder:u,readOnly:A,render:L=Ze,required:E,separator:F=",",value:T,onChange:B,...Z},ariaProps:_,dataProps:g,eventProps:$}=Ke(n),I=s.useRef(null),[a,b]=Be({defaultValue:x,value:T,onChange:B}),S=s.useCallback(e=>{b(t=>M(t)?t.includes(e)?t.filter(i=>i!==e):!Ce(v)||t.length<v?[...t,e]:t:e)},[v,b]),C=s.useMemo(()=>{const e=[...y];return u&&e.unshift({hidden:!k,label:u,value:""}),e},[y,u,k]),K=s.useMemo(()=>!C.filter(({hidden:e})=>!e).length,[C]),{descendants:ee,interactive:P,open:oe,getContentProps:H,getSeparatorProps:te,getTriggerProps:V,popoverProps:N,onActiveDescendant:X,onClose:q,onOpen:J,onSelect:U}=Ge({closeOnSelect:c,disabled:f,initialFocusValue:M(a)?a[0]:a,readOnly:A,onChange:S,..._,...g,...$,...Z}),O=s.useMemo(()=>{const e={};return C.forEach(t=>{"items"in t?t.items.forEach(i=>{i.value??(i.value=w(i.label)?i.label:void 0),le(i.value)||(e[i.value]=i)}):(t.value??(t.value=w(t.label)?t.label:void 0),le(t.value)||(e[t.value]=t))}),e},[C]),D=s.useMemo(()=>M(a)?a.length?ie(a.map(e=>O[e])):u?[{label:u,value:""}]:[]:w(a)?ie(O[a]):[],[u,a,O]),z=s.useMemo(()=>{const e=D.length;return D.map((t,i)=>{const Y=L({count:e,index:i,separator:F,onClear:R=>{R==null||R.preventDefault(),R==null||R.stopPropagation(),t.value&&S(t.value)},...t});return s.isValidElement(Y)?s.cloneElement(Y,{...Y.props,key:i}):Y})},[S,L,D,F]),Q=s.useCallback(()=>{!P||!I.current||I.current.focus()},[P]),G=s.useCallback(()=>{P&&(b(e=>M(e)?[]:""),I.current&&j&&I.current.focus())},[j,P,b]),se=s.useCallback(e=>({...g,...e}),[g]),W=s.useCallback(({ref:e,"aria-labelledby":t,...i}={})=>V({ref:ve(e,I),"aria-label":u,"aria-labelledby":fe(t,p),...i,children:z}),[z,V,p,u]),be=s.useCallback((e={})=>({...g,...Ie,id:m,name:l,defaultValue:w(a)?a:a.join(", "),disabled:f,readOnly:A,required:E,...e,onFocus:re(e.onFocus,Q)}),[g,f,m,l,Q,A,E,a]),Pe=s.useCallback(e=>H({hidden:K,...e}),[K,H]),ne=s.useCallback(e=>({...g,...e}),[g]),ge=s.useCallback((e={})=>ne({"aria-disabled":Se(!P),"aria-label":r("Clear value"),role:"button",tabIndex:P?0:-1,...e,onClick:re(e.onClick,G),onKeyDown:re(e.onKeyDown,t=>ye(t,{Enter:G,Space:G}))}),[ne,P,G,r]);return{descendants:ee,includePlaceholder:k,interactive:P,items:C,max:v,open:oe,placeholder:u,setValue:b,value:a,valueMap:O,getClearIconProps:ge,getContentProps:Pe,getFieldProps:W,getIconProps:ne,getInputProps:be,getRootProps:se,getSeparatorProps:te,popoverProps:N,onActiveDescendant:X,onChange:S,onClose:q,onOpen:J,onSelect:U}},oo=({children:n,closeOnSelect:r,disabled:p,hidden:m,value:l,...d}={})=>{const{max:c,value:x}=$e();l??(l=w(n)?n:void 0);const f=M(x)?!le(l)&&x.includes(l):x===l,j=Ce(c)&&M(x)&&x.length>=c,{getIndicatorProps:k,getItemProps:y}=Re({children:n,closeOnSelect:r,disabled:p||m||j&&!f,hidden:m,selected:f,value:l,...d}),v=s.useCallback((u={})=>y(u),[y]);return{getIndicatorProps:k,getOptionProps:v}},{ComponentContext:to,useComponentContext:ue,withContext:h,withProvider:so}=Oe("select",Te),vo=so(n=>{const[r,{className:p,css:m,colorScheme:l,animationScheme:d="block-start",children:c,clearable:x,clearIcon:f=o.jsx(Me,{}),duration:j,errorBorderColor:k,focusBorderColor:y,icon:v,items:u,contentProps:A,elementProps:L,groupProps:E,iconProps:F,optionProps:T,placeholderProps:B,rootProps:Z,..._}]=Ne(n),g=s.useMemo(()=>u||Ae(c,{Group:me,Label:xe,Option:ae}),[u,c]),{descendants:$,includePlaceholder:I,items:a,max:b,placeholder:S,value:C,getClearIconProps:K,getContentProps:ee,getFieldProps:P,getIconProps:oe,getInputProps:H,getRootProps:te,getSeparatorProps:V,popoverProps:N,onActiveDescendant:X,onChange:q,onClose:J,onSelect:U}=eo({items:g,..._}),O=s.useMemo(()=>({animationScheme:d,duration:j,...N}),[d,j,N]),D=s.useMemo(()=>c?o.jsxs(o.Fragment,{children:[S?o.jsx(ae,{...B,hidden:!I,value:"",children:S}):null,c]}):Ee(a,{Group:me,Option:ae}),[c,a,S,I,B]),z=Xe({errorBorderColor:k,focusBorderColor:y}),Q=s.useMemo(()=>({max:b,value:C,onActiveDescendant:X,onChange:q,onClose:J,onSelect:U}),[b,X,q,J,U,C]),G=s.useMemo(()=>({max:b,value:C}),[b,C]),se=s.useMemo(()=>({getSeparatorProps:V,groupProps:E,optionProps:T}),[V,E,T]),W=M(C)?!!C.length:!!C;return o.jsx(Fe,{value:$,children:o.jsx(Ve,{value:Q,children:o.jsx(_e,{value:G,children:o.jsx(to,{value:se,children:o.jsxs(qe,{...O,children:[o.jsx(ce.input,{...H()}),o.jsxs(ze,{className:p,css:m,colorScheme:l,...te({...r,...Z}),children:[o.jsx(Je,{children:o.jsx(no,{...P(z)})}),o.jsx(Qe,{clickable:x&&W,...L,children:x&&W?o.jsx(de,{icon:f,...K(F)}):o.jsx(de,{icon:v,...oe(F)})})]}),o.jsx(ao,{...pe(ee(pe(A))),children:D})]})})})})})},"root")(n=>({...He(),...n})),no=h("div","field")({"data-group-propagate":""},({children:n,...r})=>({...r,children:o.jsx(ro,{children:n})})),de=h("div","icon")(void 0,({children:n,icon:r,...p})=>({children:r||n||o.jsx(Ye,{}),...p})),ro=h("span","valueText")(),ao=h(Ue,"content")(),xe=h("span","label")(void 0,n=>{const{getLabelProps:r}=Le();return r(n)}),me=h(({children:n,label:r,labelProps:p,...m})=>{const{groupProps:l}=ue(),{getGroupProps:d,getLabelProps:c}=De({...l,...m}),x=s.useMemo(()=>({getLabelProps:c}),[c]);return o.jsx(we,{value:x,children:o.jsxs(ce.div,{...d(),children:[r?o.jsx(xe,{...p,children:r}):null,n]})})},"group")(),ae=h(({children:n,icon:r,...p})=>{const{optionProps:{icon:m,...l}={}}=ue(),{getIndicatorProps:d,getOptionProps:c}=oo({...l,...p});return o.jsxs(ce.div,{...c(),children:[o.jsx(lo,{...d(),children:r??m??o.jsx(We,{})}),n]})},"option")(),lo=h("div","indicator")(),Io=h("hr","separator")(void 0,n=>{const{getSeparatorProps:r}=ue();return r(n)});export{vo as S,ae as a,me as b,xe as c,Io as d};
