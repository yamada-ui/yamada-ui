import{ar as f,a6 as i,r as o,L as E}from"./iframe-DiGnZRjA.js";const L=(n,c,a,t)=>{const{getDocument:r}=f(),s=i(a);return o.useEffect(()=>{const e=E(n)?n():n??r();if(e)return e.addEventListener(c,s,t),()=>{e.removeEventListener(c,s,t)}},[c,n,t,s,a,r]),()=>{(E(n)?n():n??document)?.removeEventListener(c,s,t)}},l=()=>{const n=o.useRef(new Map),c=n.current,a=o.useCallback((r,s,e,u)=>{n.current.set(e,{el:r,ev:s,options:u}),r.addEventListener(s,e,u)},[]),t=o.useCallback((r,s,e,u)=>{r.removeEventListener(s,e,u),n.current.delete(e)},[]);return o.useEffect(()=>()=>{c.forEach(({el:r,ev:s,options:e},u)=>t(r,s,u,e))},[t,c]),{add:a,remove:t}};export{l as a,L as u};
